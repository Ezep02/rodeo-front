import{c as R,j as e,G as de,B as N,A as z,P as me,r as l,Q as V,d as J,F as L,H as T,I as B,J as xe,K as $,M as K,T as he,g as Q,E as ue}from"./index-AL-VPenz.js";import{A as Y,a as D,T as W,b as X,c as Z,d as ee,e as se,f as re,g as te,h as ae,P as H}from"./alert-dialog-DWojgdsi.js";import{b as q}from"./index-CYxorXPt.js";import{D as ge}from"./dollar-sign-BcphxLt1.js";import{S as ce,u as pe,C as fe}from"./useCloudinary-B1GQUtJG.js";import{H as je,a as ve}from"./index-CxlQJVOJ.js";import{U as ie}from"./cloudinary-0XirjNsb.js";import{S as be}from"./SuccessAlert-CesVCbMF.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),we=({product:s,onEdit:t,onDelete:m})=>{var n,r;return e.jsxs("div",{className:"flex flex-wrap md:flex-nowrap border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition bg-white",children:[e.jsx("div",{className:"w-full md:w-40 h-32 md:h-auto flex items-center justify-center bg-gray-100",children:s.preview_url?e.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${s.preview_url})`}}):e.jsx(de,{size:40,className:"text-gray-400"})}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600",children:s.description||"Sin descripción"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1",children:[e.jsx(q,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"px-2 py-0.5 rounded text-white",style:{backgroundColor:((n=s.category)==null?void 0:n.color)||"#aaa"},children:((r=s.category)==null?void 0:r.name)||"Sin categoría"})]}),e.jsxs("div",{className:"flex items-center text-green-600 font-semibold text-sm gap-1",children:[e.jsx(ge,{className:"w-4 h-4"}),s.price]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx(N,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>t==null?void 0:t(s),children:e.jsx(ce,{className:"w-4 h-4 text-gray-600"})}),e.jsxs(Y,{children:[e.jsx(D,{asChild:!0,children:e.jsx(N,{size:"icon",variant:"ghost",className:"h-8 w-8",children:e.jsx(W,{className:"w-4 h-4 text-red-500"})})}),e.jsxs(X,{children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Eliminar Servicio"}),e.jsxs(se,{children:['¿Estás seguro de que quieres eliminar "',s.name,'"? Esta acción no se puede deshacer.']})]}),e.jsxs(re,{children:[e.jsx(te,{children:"Cancelar"}),e.jsx(ae,{onClick:()=>m==null?void 0:m(s.id),children:"Eliminar"})]})]})]})]})]})]})},I="http://localhost:9090/api/v1/products",G=async s=>(await z.get(`${I}/${s}`)).data,Ce=async(s,t)=>(await z.put(`${I}/${t}`,s)).data,Se=async s=>(await me.post(`${I}/`,s)).data,ze=async s=>await z.delete(`${I}/${s}`),_e=()=>{const{setProductList:s,productList:t,setServicesOffset:m,servicesOffset:n,categories:r}=l.useContext(V),g=()=>{m(n+5)};return l.useEffect(()=>{t.length===0&&(async()=>{const a=await G(n);a.products.length>0&&(s(p=>{const u=a.products.filter(y=>!p.some(f=>f.id===y.id));return[...p,...u]}),g())})()},[]),{productList:t,SearchMoreBarberServices:async()=>{const c=await G(n);c.products.length>0&&(s(a=>{const p=c.products.filter(u=>!a.some(y=>y.id===u.id));return[...a,...p]}),g())},CreateService:async c=>{try{await Se(c)&&s(p=>[...p,c])}catch(a){console.warn("Error al crear el servicio:",a)}},UpdateService:async c=>{try{const a=await Ce(c,c.id);a&&(console.log("UPDATE RES",a),s(p=>p.map(u=>u.id===c.id?{...u,...c,category:r.find(y=>y.id===c.category_id)||u.category}:u)))}catch(a){console.error("Error al actualizar el servicio:",a)}},DeleteService:async c=>{try{await ze(c)&&s(p=>p.filter(u=>u.id!==c))}catch(a){console.error("Error al eliminar el servicio:",a)}}}},P="http://localhost:9090/api/v1/categories",Ee=async s=>(await z.post(`${P}/`,s)).data,ke=async s=>(await z.put(`${P}/`,s)).data,Ae=async s=>(await z.delete(`${P}/${s}`)).data,Oe=async()=>(await z.get(`${P}/`)).data,Fe=()=>{const{categories:s,setCategories:t}=l.useContext(V),[m,n]=l.useState(!1),[r,g]=l.useState(""),[j,x]=l.useState(!1),[d,v]=l.useState(""),c=()=>{n(!0)},a=()=>{x(!0)},p=async f=>{try{await Ee(f)&&(c(),g("Categoría creada correctamente"))}catch{a(),v("Error al crear la categoría")}},u=async f=>{try{await ke(f)&&(c(),g("Categoría creada correctamente"),t(b=>b.map(w=>w.id===f.id?f:w)))}catch{a(),v("Error al actualizar la categoría")}},y=async f=>{try{await Ae(f)&&(c(),g("Categoría eliminada correctamente"),t(b=>b.filter(w=>w.id!==f)))}catch{a(),v("Error al eliminar la categoría")}};return l.useEffect(()=>{(async()=>{try{const i=await Oe();i&&(console.log("Categorias obtenidas: ",i.categories),t(i.categories))}catch{a(),v("Error al obtener las categorías")}})()},[]),{onSuccess:m,setOnSuccess:n,onSuccessMsg:r,setOnSuccessMsg:g,isOnErrAlert:j,setIsOnErrAlert:x,capturedErr:d,setCapturedErr:v,UpdateCategory:u,CreateCategory:p,DeleteCategory:y,categories:s}},Ie=["#FF6B6B","#F7B801","#6BCB77","#4D96FF","#9B5DE5","#00BBF9","#FFC6FF","#FEE440","#B8F2E6","#FF9F1C"],ne=({onClose:s,open:t,mode:m="create",initialData:n,onEditSubmit:r,onCreateSubmit:g})=>{const j=m==="edit",{register:x,handleSubmit:d,reset:v,watch:c,setValue:a}=J();l.useEffect(()=>{v(j&&n?{name:n.name,color:n.color||"#000000"}:{name:"",color:"#000000"})},[j,n,v]);const[p,u,y]=l.useActionState(async(i,b)=>{try{j&&n&&r?await r({...n,...b}):g&&(await g(b),v()),s()}catch(w){console.error("Error al guardar la categoría:",w)}},void 0),f=i=>{l.startTransition(()=>{u(i)})};return e.jsx(L,{open:t,onOpenChange:s,children:e.jsxs(T,{className:"md:max-w-md max-w-sm p-6 rounded-3xl shadow-2xl bg-zinc-50",children:[e.jsx(B,{className:"mb-6 pt-2",children:e.jsxs("div",{className:"flex items-start flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{className:"p-2 rounded-full bg-stone-100 hover:bg-stone-200 transition",onClick:s,children:e.jsx(xe,{size:18,className:"text-zinc-700"})}),e.jsx("h1",{className:"text-lg font-semibold text-zinc-700",children:j?"Editar Categoría":"Nueva Categoría"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-zinc-900 rounded-xl text-white",children:e.jsx(q,{size:24})}),e.jsxs("div",{children:[e.jsx($,{className:"text-lg font-semibold text-zinc-700",children:"Organiza tus productos"}),e.jsx(K,{children:"Crea o modifica categorías para agrupar tus servicios y mejorar la navegación."})]})]})]})}),e.jsxs("form",{onSubmit:d(f),className:"space-y-6 px-1",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Nombre"}),e.jsx("input",{...x("name",{required:!0}),className:"w-full p-3 border border-zinc-300 rounded-2xl",placeholder:"Nombre de la categoría"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Color"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Ie.map(i=>e.jsx("button",{type:"button",className:he("w-8 h-8 rounded-full border-2 transition",c("color")===i?"ring-2 ring-offset-2 ring-zinc-600 border-zinc-900":"border-transparent"),style:{backgroundColor:i},onClick:()=>a("color",i)},i))})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(N,{type:"button",variant:"ghost",onClick:s,children:"Cancelar"}),e.jsxs(N,{type:"submit",disabled:y,children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),j?"Guardar Cambios":"Crear Categoría"]})]})]})]})})},Pe=({open:s,onClose:t,categories:m,onEdit:n,onDelete:r})=>{const[g,j]=l.useState(null),x=()=>{j(null)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{open:s,onOpenChange:t,children:e.jsxs(T,{className:"md:max-w-md max-w-sm p-6 rounded-3xl shadow-2xl bg-white",children:[e.jsx(B,{className:"mb-4",children:e.jsx($,{className:"text-lg font-semibold text-zinc-800",children:"Listado de Categorías"})}),e.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:m.length>0?m.map(d=>e.jsxs("div",{className:"flex items-center justify-between bg-zinc-100 rounded-xl px-4 py-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:d.color}}),e.jsx("div",{className:"text-sm text-zinc-800 font-medium",children:d.name})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{size:"sm",variant:"ghost",onClick:()=>j(d),children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsxs(Y,{children:[e.jsx(D,{asChild:!0,children:e.jsx(N,{size:"sm",variant:"ghost",children:e.jsx(W,{className:"w-4 h-4"})})}),e.jsxs(X,{children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Eliminar Categoría"}),e.jsxs(se,{children:["¿Seguro que querés eliminar ",e.jsxs("strong",{children:['"',d.name,'"']}),"? Esta acción no se puede deshacer."]})]}),e.jsxs(re,{children:[e.jsx(te,{children:"Cancelar"}),e.jsx(ae,{onClick:()=>r(d.id),children:"Eliminar"})]})]})]})]})]},d.id)):e.jsx("div",{className:"text-sm text-zinc-500 text-center py-4",children:"No hay categorías activas."})})]})}),g&&e.jsx(ne,{open:!0,mode:"edit",initialData:g,onClose:x,onEditSubmit:async d=>{await n(d),x()}})]})},k=l.forwardRef(({className:s,type:t,...m},n)=>e.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-base ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",s),ref:n,...m}));k.displayName="Input";const oe=l.forwardRef(({className:s,...t},m)=>e.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-base ring-offset-white placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",s),ref:m,...t}));oe.displayName="Textarea";const Le=({open:s,onClose:t,categories:m,onSubmit:n,initialData:r,mode:g="create",onEditSubmit:j})=>{var F;const x=g==="edit",{register:d,handleSubmit:v,reset:c,formState:{isSubmitting:a}}=J({defaultValues:{name:"",description:"",price:0,category_id:0,preview_url:"",promotion_discount:void 0,promotion_end_date:void 0,has_promotion:r==null?void 0:r.has_promotion}}),{cloudImgGallery:p,FetchMoreImg:u,cloudNextCursor:y}=pe(),[f,i]=l.useState(!1),[b,w]=l.useState(),[C,A]=l.useState((r==null?void 0:r.has_promotion)||!1);l.useEffect(()=>{var h;r&&(c({name:r.name,description:r.description,price:r.price,category_id:((h=r.category)==null?void 0:h.id)??0,preview_url:r.preview_url??"",promotion_discount:r.promotion_discount,promotion_end_date:r.promotion_end_date?new Date(r.promotion_end_date).toISOString().split("T")[0]:"",has_promotion:r.has_promotion}),A(r.has_promotion||!1),r.preview_url&&w({secure_url:r.preview_url}))},[r,c]);const O=h=>{w(h),i(!1)},_=h=>{if(!b)return;const S={price:h.price,name:h.name,description:h.description,category_id:h.category_id,preview_url:b.secure_url,has_promotion:C};if(C&&(S.promotion_discount=h.promotion_discount,S.promotion_end_date=h.promotion_end_date),x&&r&&j){console.log(r),j({...S,id:r.id});return}n(S)};return e.jsx(L,{open:s,onOpenChange:t,children:e.jsxs(T,{className:`2xl:max-h-[90vh] 2xl:min-h-[80vh] 2xl:max-w-5xl\r
        xl:max-h-[90vh] xl:min-h-[80vh] xl:max-w-4xl \r
        lg:max-h-[90vh] lg:min-h-[85vh] lg:max-w-3xl\r
        md:max-h-[95vh] md:min-h-[80vh] md:max-w-2xl  \r
        max-w-full max-h-full\r
        w-full h-full \r
        p-6 flex flex-col bg-zinc-50 md:rounded-3xl\r
        shadow-2xl overflow-hidden`,children:[e.jsxs(B,{children:[e.jsx($,{className:"text-lg font-semibold text-zinc-800",children:x?"Editar Servicio":"Nuevo Servicio"}),e.jsx(K,{children:"Completá la información del servicio que querés ofrecer."})]}),f?e.jsx(fe,{img:p,onClose:()=>i(!1),onSelect:O,fetchMoreImg:u,nextCursor:y}):e.jsxs("form",{onSubmit:v(_),className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Nombre"}),e.jsx(k,{...d("name",{required:!0}),placeholder:"Ej: Corte clásico"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Descripción"}),e.jsx(oe,{...d("description"),placeholder:"Descripción del servicio",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Precio"}),e.jsx(k,{type:"number",step:"0.01",min:0,...d("price",{required:!0,valueAsNumber:!0}),placeholder:"Ej: 2500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Categoría"}),e.jsxs("select",{...d("category_id",{required:!0,valueAsNumber:!0}),className:"w-full p-2 border border-zinc-300 rounded-md text-sm",children:[e.jsx("option",{defaultValue:(F=r==null?void 0:r.category)==null?void 0:F.name,children:"Seleccioná una categoría"}),m.map(h=>e.jsx("option",{value:h.id,children:h.name},h.id))]})]}),e.jsxs("div",{className:"pt-2 space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-700",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:h=>A(h.target.checked),className:"w-4 h-4"}),"¿Ofrecer promoción?"]}),C&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Fecha hasta"}),e.jsx(k,{type:"date",...d("promotion_end_date")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Descuento (%)"}),e.jsx(k,{type:"number",min:0,max:100,defaultValue:r==null?void 0:r.promotion_discount,step:"1",...d("promotion_discount",{valueAsNumber:!0}),placeholder:"Ej: 20"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Imagen del servicio"}),e.jsx("div",{className:"border border-zinc-200 rounded-lg p-4 space-y-4",children:b?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:b.secure_url,alt:"Vista previa",className:"w-28 h-20 object-cover rounded-md border"}),e.jsx(N,{size:"sm",onClick:()=>i(!0),children:"Cambiar imagen"})]}):e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-zinc-500",children:"No hay imagen seleccionada"}),e.jsx(N,{size:"sm",onClick:()=>i(!0),children:"Seleccionar imagen"})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(N,{type:"button",variant:"ghost",onClick:t,children:"Cancelar"}),e.jsxs(N,{type:"submit",disabled:a,children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),x?"Guardar cambios":"Crear servicio"]})]})]})]})})},Re=()=>{const{productList:s,CreateService:t,UpdateService:m,DeleteService:n}=_e(),{UpdateCategory:r,CreateCategory:g,DeleteCategory:j,categories:x,isOnErrAlert:d,capturedErr:v,onSuccess:c,onSuccessMsg:a,setOnSuccess:p,setIsOnErrAlert:u}=Fe(),[y,f]=l.useState(!1),i=()=>{f(o=>!o)},[b,w]=l.useState(""),C=s.filter(o=>{var E;return(E=o.name)==null?void 0:E.toLowerCase().includes(b.toLowerCase())}),[A,O]=l.useState(!1),_=()=>{O(o=>!o)},[F,h]=l.useState(!1),S=()=>{h(o=>!o)},[M,U]=l.useState(null),le=o=>{U(o),O(!0)};return e.jsxs("div",{className:"min-h-[80vh] overflow-y-auto bg-white border border-slate-200 shadow-md rounded-2xl px-4 py-6 flex flex-col gap-4 flex-grow",children:[e.jsx("header",{className:"flex flex-col gap-4 ",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-zinc-900 rounded-lg shadow",children:e.jsx(Ne,{size:22,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-zinc-800 text-base font-semibold",children:"Gestión de servicios"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Creá y administrá tus servicios fácilmente"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-zinc-800",children:"Categorías"}),e.jsx("span",{className:"text-xs text-zinc-500",children:"Agrupá y administrá tus servicios"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{size:"icon",variant:"ghost",onClick:i,className:"text-zinc-700 hover:bg-zinc-100",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsx(N,{size:"icon",variant:"ghost",onClick:S,className:"text-zinc-700 hover:bg-zinc-100",children:e.jsx(ve,{className:"w-5 h-5"})})]})]}),x.length>0?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[x.slice(0,2).map((o,E)=>e.jsxs("div",{className:"px-3 py-1.5 rounded-full flex items-center gap-1.5 text-xs font-medium text-white",style:{backgroundColor:o.color},children:[e.jsx(q,{size:14,className:"opacity-80"}),o.name]},E)),x.length>2&&e.jsxs("div",{className:"px-3 py-1.5 rounded-full flex items-center text-xs font-medium text-zinc-50 bg-zinc-900 hover:bg-zinc-700 transition",children:[e.jsx(H,{size:14,className:"mr-1"}),x.length-2]})]}):e.jsx("p",{className:"text-sm text-zinc-400",children:"No hay categorías aún."})]}),e.jsx(ne,{onCreateSubmit:g,onClose:i,open:y}),e.jsx(Pe,{open:F,onClose:S,categories:x,onEdit:async o=>{r(o)},onDelete:o=>{j(o)}}),e.jsx(be,{message:a,show:c,onClose:()=>p(!1)}),e.jsx(ue,{message:v,show:d,onClose:()=>u(!1)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(ye,{className:"absolute left-3 top-2.5 h-4 w-4 text-zinc-400"}),e.jsx("input",{type:"search",placeholder:"Buscar servicio...",className:"w-full pl-10 pr-3 py-2 text-sm border border-zinc-300 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-zinc-300 focus:border-transparent transition",value:b,onChange:o=>w(o.target.value)})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(N,{size:"sm",onClick:_,className:"bg-zinc-800 text-white hover:bg-zinc-700 transition rounded-xl whitespace-nowrap",children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),"Crear"]})})]}),e.jsx(Le,{onClose:_,open:A,categories:x,onSubmit:o=>{t(o),_()},mode:M?"edit":"create",initialData:M||void 0,onEditSubmit:async o=>{m(o),_(),U(null)}}),e.jsx("div",{className:"overflow-x-auto max-h-[60vh] overflow-y-auto rounded-lg ",children:C.length>0?e.jsx("div",{className:"flex flex-col gap-2",children:C.map((o,E)=>e.jsx(we,{product:o,onEdit:le,onDelete:n},E))}):e.jsx("div",{className:"text-center text-sm text-zinc-400 py-8",children:"No se encontraron servicios."})})]})};export{Re as default};
