const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StatCard-CkEZTGGb.js","assets/index-GbvGXsA3.js","assets/index-_3wPmY0a.css","assets/card-C0xXg1Ic.js","assets/PopularSlotAnalytics-ewyYHB8R.js","assets/trending-up-BAQuBaio.js","assets/calendar-CaOg-IE9.js","assets/clock-T8iOFDns.js","assets/PopularSlotList-CFA_AmtO.js"])))=>i.map(i=>d[i]);
import{c as u,A as x,r as n,j as t,d as p,L as i,_ as d}from"./index-GbvGXsA3.js";import{C as g}from"./calendar-CaOg-IE9.js";import{C as y}from"./clock-T8iOFDns.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=u("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),h=s=>{const[o,l]=s.split(":"),e=Number.parseInt(o),c=e>=12?"PM":"AM";return`${e>12?e-12:e===0?12:e}:${l} ${c}`},f="http://localhost:9090/api/v1/analytics",j=async()=>(await x.get(`${f}/slot-popular-time`)).data.popular_time_slot,b=()=>{const[s,o]=n.useState([]);return n.useEffect(()=>{(async()=>{try{let e=await j();e&&o(e)}catch(e){console.warn("Algo fue mal recuperando los slots",e)}})()},[]),{popularSlotTime:s}},m=p.lazy(()=>d(()=>import("./StatCard-CkEZTGGb.js"),__vite__mapDeps([0,1,2,3]))),S=p.lazy(()=>d(()=>import("./PopularSlotAnalytics-ewyYHB8R.js"),__vite__mapDeps([4,1,2,5,6,7]))),k=p.lazy(()=>d(()=>import("./PopularSlotList-CFA_AmtO.js"),__vite__mapDeps([8,1,2,3,7,6]))),v=()=>{var c;const{popularSlotTime:s}=b(),o=[...s].sort((r,a)=>a.bookings!==r.bookings?a.bookings-r.bookings:r.time.localeCompare(a.time)),l=Math.max(...s.map(r=>r.bookings)),e=s.reduce((r,a)=>r+a.bookings,0);return t.jsxs("section",{className:"grid md:grid-cols-3 gap-8 mb-8 grid-cols-1 h-full",children:[t.jsx(n.Suspense,{fallback:t.jsx("div",{className:"md:col-span-3 col-span-1 p-10 flex justify-center items-center mt-2 bg-gray-900/50 border-gray-800 hover:border-gray-700 transition-colors",children:t.jsx(i,{className:"w-6 h-6 animate-spin text-gray-400"})}),children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 md:col-span-3 col-span-1 gap-4 mb-6",children:[t.jsx(m,{title_text:"Total de horarios",content_text:s.length,icon:t.jsx(g,{size:24,className:"text-muted-foreground text-rose-500"})}),t.jsx(m,{title_text:"Total reservas",content_text:e,icon:t.jsx(_,{size:24,className:"text-rose-500 text-muted-foreground"})}),t.jsx(m,{title_text:"Horario m√°s popular",content_text:o[0]?h(((c=o[0])==null?void 0:c.time)||""):"Nada para mostrar",icon:t.jsx(y,{size:24,className:"text-rose-500 text-muted-foreground"})})]})}),t.jsx(n.Suspense,{fallback:t.jsx("div",{className:"md:col-span-3 col-span-1 p-10 flex justify-center items-center mt-2 bg-gray-900/50 border-gray-800 hover:border-gray-700 transition-colors",children:t.jsx(i,{className:"w-6 h-6 animate-spin text-gray-400"})}),children:t.jsx(S,{sortedTimeSlots:o,totalBookings:e})}),t.jsx(n.Suspense,{fallback:t.jsx("div",{className:"md:col-span-3 col-span-1 p-16 flex justify-center items-center mt-2 bg-gray-900/50 border-gray-800 hover:border-gray-700 transition-colors",children:t.jsx(i,{className:"w-6 h-6 animate-spin text-gray-400"})}),children:t.jsx(k,{maxBookings:l,sortedTimeSlots:o,totalBookings:e})})]})},E=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{E as P,_ as U,h as f};
