import{d as g,t as j,z as o,r as a,S as f,j as e,B as N,L as b,e as v}from"./index-AL-VPenz.js";import{C as y,a as S,b as C,d as E,c as w,e as A}from"./card-DXiLM1pq.js";import{A as F}from"./arrow-left-T6lrj-kS.js";const P=()=>{var n;const{register:m,formState:{errors:t},handleSubmit:d}=g({resolver:j(o.object({email:o.string().email({message:"Se debe ingresar un email"})}))}),[x,u]=a.useState(!1),[L,h,r]=a.useActionState(async(l,i)=>{var c;try{let s=await f(i);return console.log(s),u(!0),console.log(i),null}catch(s){return((c=s==null?void 0:s.response)==null?void 0:c.data)||"Error de autenticación"}},null),p=l=>{a.startTransition(()=>{h(l)})};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:e.jsxs(y,{className:"w-full max-w-md shadow-lg",children:[e.jsxs(S,{children:[e.jsx(C,{className:"text-2xl font-bold text-rose-500",children:"¿Olvidaste tu contraseña?"}),e.jsx(E,{children:"No te preocupes, te enviaremos instrucciones para restablecerla."})]}),e.jsx(w,{children:x?e.jsxs("div",{className:"rounded-lg bg-green-50 p-4 text-center",children:[e.jsx("h3",{className:"font-medium text-green-800",children:"¡Correo enviado!"}),e.jsx("p",{className:"mt-2 text-sm text-green-700",children:"Hemos enviado las instrucciones de recuperación"})]}):e.jsxs("form",{onSubmit:d(p),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:" text-pretty font-medium text-sm",children:"Email"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{type:"text",placeholder:"nombre@gmail.com",...m("email",{required:!0}),autoFocus:!0,className:"p-2 rounded-md  border placeholder-gray-400 text-sm"}),t&&e.jsx("span",{className:"text-rose-600 text-pretty text-sm",children:(n=t.email)==null?void 0:n.message})]})]}),e.jsx(N,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar instrucciones"})]})}),e.jsx(A,{className:"flex justify-center",children:e.jsxs(v,{to:"/auth/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Volver atrás"]})})]})})};export{P as default};
