import{c as m,r,j as e,B as n,L as I}from"./index-DhWYa8W4.js";import{C as f}from"./card-Dsn8Ms4I.js";import{D as P,a as k,b as U,c as _,d as L,h as A}from"./useSlots-ChQCJa-Q.js";import{X as O}from"./x-Drps6sCP.js";import{I as z}from"./image-b_w6inkZ.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=m("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=m("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=m("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),E=()=>{const[o,x]=r.useState([]),[c,h]=r.useState([]),[g,N]=r.useState(!1),p=()=>{N(!g)},d=r.useRef(null),v=t=>{const a=Array.from(t.target.files||[]),l=a.map(s=>URL.createObjectURL(s));x(s=>[...s,...a]),h(s=>[...s,...l]),d.current&&(d.current.value="")},w=t=>{x(a=>a.filter((l,s)=>s!==t)),h(a=>a.filter((l,s)=>s!==t))},u="https://api.cloudinary.com/v1_1/dp0pjmehj/image/upload",C="public_upload",[F,D,j]=r.useActionState(async(t,a)=>{var l;try{console.log(u);for(let s=0;s<a.length;s++)i.append("file",a[s]);return i.append("upload_preset",C),i.append("cloud_name","dp0pjmehj"),await fetch(u,{method:"POST",body:i}),p(),null}catch(s){return((l=s==null?void 0:s.response)==null?void 0:l.data)||"Error de autenticaci칩n"}},null),i=new FormData,S=()=>{r.startTransition(()=>{D(o)})};return e.jsxs(P,{open:g,onOpenChange:p,children:[e.jsx(k,{asChild:!0,children:e.jsxs(n,{className:"flex-1 bg-rose-500 hover:bg-rose-600 text-white disabled:opacity-50",children:[e.jsx(B,{}),"Cloud"]})}),e.jsxs(U,{className:"max-w-4xl bg-gray-900 border-gray-800 text-white max-h-[90vh] overflow-y-auto",children:[e.jsx(_,{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-500/20 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"w-5 h-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsx(L,{className:"text-2xl font-bold text-white",children:"Subir Im치genes"}),e.jsx(A,{className:"text-gray-400",children:"Selecciona y carga im치genes"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(f,{className:"border-2 border-dashed border-gray-700 hover:border-rose-500/50 transition-colors",children:e.jsxs("div",{className:"p-8 relative",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto",children:e.jsx(y,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Arrastra y suelta tus im치genes aqu칤"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"o haz clic para seleccionar archivos"}),e.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"PNG, JPG, WEBP hasta 10MB cada una"})]})]}),e.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:v,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),c.length>0?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Archivos seleccionados (",o.length,")"]}),e.jsx("ul",{className:"grid grid-cols-2 gap-4",children:o.map((t,a)=>e.jsxs("li",{className:"flex items-center gap-4 p-4 bg-gray-800 rounded-lg relative overflow-hidden",children:[e.jsx("img",{src:c[a],alt:t.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium",children:t.name}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[(t.size/1024).toFixed(1)," KB"]})]}),e.jsx(n,{size:"icon",type:"button",className:"text-gray-400 hover:text-white flex-shrink-0 bg-transparent hover:bg-transparent",onClick:()=>w(a),children:e.jsx(O,{className:"w-4 h-4"})})]},a))})]})}):e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto",children:e.jsx(z,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-sm text-zinc-100",children:"A칰n no hay archivos seleccionados"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{type:"button",variant:"outline",className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancelar"}),e.jsx(n,{onClick:S,disabled:c.length===0||j,className:"flex-1 bg-rose-500 hover:bg-rose-600 text-white disabled:opacity-50",children:j?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 animate-spin"}),"Subiendo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Subir ",c.length," imagen",c.length!==1?"es":""]})})]})]})]})},q=()=>e.jsx(f,{className:"bg-gray-900/50 border-gray-800 xl:col-span-2 w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-3 text-start",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-500/20 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"w-5 h-5 text-rose-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Galer칤a de la Barber칤a"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Gestiona las im치genes de tu negocio"})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:e.jsx(E,{})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[e.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"游눠 C칩mo funciona"}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1."}),' Haz clic en "Cloud" para seleccionar y subir nuevas fotos']}),e.jsxs("p",{children:[e.jsx("strong",{children:"2."})," Las im치genes se suben autom치ticamente a Cloudinary"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3."})," Completa la informaci칩n y se agregar치n a tu galer칤a"]})]})]})]})});export{q as default};
