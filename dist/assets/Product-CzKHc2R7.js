import{r as l,j as e,G as c,B as m,L as x}from"./index-AL-VPenz.js";import{P as d}from"./reservation-GNw-0vTe.js";import{b as h}from"./index-CYxorXPt.js";import{G as g}from"./index-Bz9dQuiV.js";import{D as n}from"./dollar-sign-BcphxLt1.js";import"./ScheduleSlider-D3Hr_vam.js";import"./useSlots-Bc6p4izx.js";import"./badge-DCrQblHJ.js";import"./card-DXiLM1pq.js";import"./index-CNfnnRa4.js";const p=()=>{const[s,a]=l.useState([]),[r,t]=l.useState(!1);return l.useEffect(()=>{(async()=>{t(!0);try{const i=await d();i.products&&a(i.products)}catch(i){console.warn("Product shop err",i)}t(!1)})()},[]),{serviceList:s,isLoading:r}},f=({product:s,onClick:a})=>{var r,t;return e.jsxs("div",{className:"flex flex-wrap md:flex-nowrap border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition bg-white",children:[e.jsx("div",{className:"w-44 h-auto  md:h-auto flex items-center justify-center bg-gray-100",children:s.preview_url?e.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${s.preview_url})`}}):e.jsx(c,{size:40,className:"text-gray-400"})}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600",children:s.description||"Sin descripción"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1",children:[e.jsx(h,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"px-2 py-0.5 rounded text-white",style:{backgroundColor:((r=s.category)==null?void 0:r.color)||"#aaa"},children:((t=s.category)==null?void 0:t.name)||"Sin categoría"})]}),e.jsx("div",{className:"flex flex-col text-green-600 font-semibold text-sm gap-2",children:e.jsx("div",{className:"flex flex-col gap-1",children:s.promotion_discount&&s.promotion_discount>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-gray-400 line-through flex items-center font-semibold gap-0.5",children:[e.jsx(n,{className:"w-4 h-4"}),s.price]}),e.jsxs("span",{className:"flex items-center text-green-600 font-semibold text-lg gap-1",children:[e.jsx(n,{className:"w-5 h-5"}),(s.price*(1-s.promotion_discount/100)).toFixed(2)]})]}),e.jsxs("p",{className:"text-xs text-emerald-600 font-semibold mt-1",children:["Ahorra un ",s.promotion_discount,"%"]})]}):e.jsxs("span",{className:"flex items-center gap-1 text-lg",children:[e.jsx(n,{className:"w-5 h-5"}),s.price]})})})]}),e.jsx("div",{className:"flex justify-end gap-2 mt-2",children:e.jsxs(m,{size:"sm",variant:"default",onClick:()=>a(s),className:"w-full",children:[e.jsx(g,{className:"transition-transform duration-200 group-hover:translate-x-1 group-hover:-translate-y-1"}),"Reservar"]})})]})]})},_=({onClickAction:s})=>{const{serviceList:a,isLoading:r}=p();return e.jsx("div",{className:"grid md:grid-cols-1 lg:grid-cols-2 gap-6",children:r?e.jsx("div",{className:"min-h-[40vh] flex justify-center items-center py-4 md:col-span-2 col-span-1",children:e.jsx(x,{className:"w-5 h-5 animate-spin text-gray-400"})}):e.jsx(e.Fragment,{children:a==null?void 0:a.map((t,o)=>e.jsx(f,{onClick:s,product:t},o))})})};export{_ as default};
