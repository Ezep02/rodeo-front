import{r as t,S as g,j as e,B as j,L as f,f as N}from"./index-DhWYa8W4.js";import{C as b,a as v,b as y,d as S,c as C,e as E}from"./card-Dsn8Ms4I.js";import{t as w,z as o}from"./zod-BuDwVvkK.js";import{u as A}from"./index.esm-CKUi-DfO.js";import{A as F}from"./arrow-left-C2qEOzzy.js";const _=()=>{var n;const{register:m,formState:{errors:a},handleSubmit:d}=A({resolver:w(o.object({email:o.string().email({message:"Se debe ingresar un email"})}))}),[x,u]=t.useState(!1),[L,h,r]=t.useActionState(async(i,l)=>{var c;try{let s=await g(l);return console.log(s),u(!0),console.log(l),null}catch(s){return((c=s==null?void 0:s.response)==null?void 0:c.data)||"Error de autenticación"}},null),p=i=>{t.startTransition(()=>{h(i)})};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:e.jsxs(b,{className:"w-full max-w-md shadow-lg",children:[e.jsxs(v,{children:[e.jsx(y,{className:"text-2xl font-bold text-rose-500",children:"¿Olvidaste tu contraseña?"}),e.jsx(S,{children:"No te preocupes, te enviaremos instrucciones para restablecerla."})]}),e.jsx(C,{children:x?e.jsxs("div",{className:"rounded-lg bg-green-50 p-4 text-center",children:[e.jsx("h3",{className:"font-medium text-green-800",children:"¡Correo enviado!"}),e.jsx("p",{className:"mt-2 text-sm text-green-700",children:"Hemos enviado las instrucciones de recuperación"})]}):e.jsxs("form",{onSubmit:d(p),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:" text-pretty font-medium text-sm",children:"Email"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{type:"text",placeholder:"nombre@gmail.com",...m("email",{required:!0}),autoFocus:!0,className:"p-2 rounded-md  border placeholder-gray-400 text-sm"}),a&&e.jsx("span",{className:"text-rose-600 text-pretty text-sm",children:(n=a.email)==null?void 0:n.message})]})]}),e.jsx(j,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar instrucciones"})]})}),e.jsx(E,{className:"flex justify-center",children:e.jsxs(N,{to:"/auth/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Volver atrás"]})})]})})};export{_ as default};
