import{A as c,r as o}from"./index-AL-VPenz.js";const n="http://localhost:9090/api/v1/posts",D=async t=>(await c.post(`${n}/`,t)).data,m=async t=>(await c.get(`${n}/page/${t}`)).data,O=async t=>(await c.delete(`${n}/${t}`)).data,R=async t=>(await c.put(`${n}/${t.id}`,t)).data,M=()=>{const[t,a]=o.useState([]),[S,A]=o.useState(0),[h,u]=o.useState(""),[w,i]=o.useState(!1),d=()=>{i(!0)},[y,p]=o.useState(""),[E,f]=o.useState(!1),P=()=>{f(!0)},$=()=>{A(e=>e+10)};return o.useEffect(()=>{(async()=>{try{let s=await m(S);s&&(a(s.posts),$())}catch(s){console.warn(s)}})()},[]),{post:t,DeletePost:async e=>{try{await O(e)&&(a(l=>l.filter(r=>r.id!==e)),d(),u("Post eliminado correctamente"))}catch{P(),p("Algo no fue bien eliminado el post")}},capturedErr:y,showPostAlert:w,onSuccessMsg:h,isOnErrAlert:E,setShowPostAlert:i,setOnErrAlert:f,UpdatePost:async e=>{try{await R(e)&&(a(l=>l.map(r=>r.id===e.id?{...r,...e}:r)),d(),u("Post actualizado correctamente"))}catch{P(),p("Algo no sali√≥ bien al actualizar el post")}}}};export{D as C,M as u};
