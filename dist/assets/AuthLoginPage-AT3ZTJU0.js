import{r as t,e as v,U as N,j as e,B as c,f as b,G as w}from"./index-GbvGXsA3.js";import{F as m,a as y}from"./index-DTA2W-Kf.js";import{C}from"./ToastCustom-BZ8ola3Q.js";import{z as a,t as z}from"./zod-BL537Wyx.js";import{u as L}from"./index.esm-vt054Pq_.js";import"./x-BEhwGYvZ.js";const F=a.object({email:a.string().email({message:"Se debe ingresar un email"}),password:a.string().min(7,{message:"La contraseña debe contener al menos 7 caracteres"}).max(20,{message:"La contraseña debe contener menos de 20 caracteres"})}),k=()=>{const{setUser:d,setIsUserAuthenticated:x}=t.useContext(v),[r,u,f]=t.useActionState(async(l,j)=>{var o;try{let s=await N(j);return d(s),x(!0),s&&(window.location.href="/"),null}catch(s){return((o=s==null?void 0:s.response)==null?void 0:o.data)||"Error de autenticación"}},null),h=()=>{window.location.href="http://localhost:9090/api/v1/auth/google"},{register:n,handleSubmit:p,formState:{errors:i}}=L({resolver:z(F)}),g=l=>{t.startTransition(()=>{u(l)})};return e.jsxs("div",{className:"grid min-h-svh lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[r&&e.jsx(C,{message:r,type:"error",duration:3e3}),e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("div",{className:"w-full max-w-xs",children:f?e.jsxs("div",{className:"w-full flex justify-center items-center flex-col gap-1",children:[e.jsx("p",{className:"loader"}),e.jsx("span",{children:"verificando informacion"})]}):e.jsxs("form",{onSubmit:p(g),className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-rose-500",children:"Bienvenido otra vez!"}),e.jsx("p",{className:"text-balance font-medium text-sm text-zinc-500",children:"Completa con tus datos a continuacion"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"email",className:" text-pretty font-medium text-sm",children:"Email"}),e.jsx(m,{type:"email",placeholder:"nombre@gmail.com",name:"email",register:n,error:i.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"password",className:"text-pretty font-medium text-sm",children:"Contraseña"}),e.jsx("a",{href:"/auth/recover",className:"ml-auto text-sm underline-offset-4 hover:underline",children:"¿Olvidaste la contraseña?"})]}),e.jsx(m,{type:"password",placeholder:"Contraseña",name:"password",register:n,error:i.password,"current-password":!0})]}),e.jsx(c,{type:"submit",className:"w-full",children:"Iniciar Sesión"}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 px-2 text-muted-foreground text-zinc-600",children:"O continua con"})}),e.jsxs(c,{variant:"outline",className:"w-full",type:"button",onClick:h,children:[e.jsx("i",{children:e.jsx(y,{})}),"Continuar con Google"]})]}),e.jsxs("div",{className:"text-center text-sm",children:["¿No tienes cuenta?"," ",e.jsx(b,{to:"/auth/register",className:"underline underline-offset-4",children:"Registrarse"})]})]})})})]}),e.jsx("div",{className:"relative hidden bg-muted lg:block bg-zinc-950",children:e.jsx("div",{className:"flex justify-center items-center w-full h-full text-rose-600",children:e.jsx(w,{size:60})})})]})};export{k as default};
