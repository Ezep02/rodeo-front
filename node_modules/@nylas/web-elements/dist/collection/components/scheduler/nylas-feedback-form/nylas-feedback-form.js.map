{"version":3,"file":"nylas-feedback-form.js","sourceRoot":"","sources":["../../../../src/components/scheduler/nylas-feedback-form/nylas-feedback-form.tsx"],"names":[],"mappings":"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","sourcesContent":["import { RegisterComponent } from '@/common/register-component';\nimport { Component, Element, EventEmitter, h, Host, Listen, Prop, State } from '@stencil/core';\nimport { NylasSchedulerConnector } from '../../..';\nimport { NylasScheduling } from '../nylas-scheduling/nylas-scheduling';\nimport { debug } from '@/utils/utils';\nimport { Event } from '@stencil/core';\nimport i18next from '@/utils/i18n';\nimport { ThemeConfig } from '@nylas/core';\n\n/**\n * The `nylas-feedback-form` component is a UI component that displays the booked event card.\n *\n * @part nfbf - The booked event card host.\n * @part nfbf__card - The booked event card.\n * @part nfbf__title - The title of the booked event card.\n * @part nfbf__description - The description of the booked event card.\n * @part nfbf__button-outline - The cancel & reschedule button CTA.\n * @part nfbf__cancel-cta - The cancel button CTA.\n * @part nfbf__reschedule-cta - The reschedule button CTA.\n */\n@Component({\n  tag: 'nylas-feedback-form',\n  styleUrl: 'nylas-feedback-form.scss',\n  shadow: true,\n})\nexport class NylasFeedbackForm {\n  /**\n   * The host element.\n   */\n  @Element() host!: HTMLNylasFeedbackFormElement;\n  /**\n   * @standalone\n   * The theme configuration.\n   */\n  @Prop({ attribute: 'theme-config' }) readonly themeConfig?: any;\n\n  /**\n   * Feedback modal close event.\n   */\n  @Event() readonly feedbackModalClosed!: EventEmitter<void>;\n\n  /**\n   * Feedback submitted event.\n   */\n  @Event() readonly feedbackSubmitted!: EventEmitter<{ feedback: string }>;\n\n  /**\n   * This is an internal event that is used to trigger validation on the form.\n   */\n  @Event() readonly triggerValidation!: EventEmitter<void>;\n\n  /**\n   * The state to hold the feedback message.\n   */\n  @State() feedbackMessage: string = '';\n\n  connectedCallback() {}\n\n  disconnectedCallback() {}\n\n  async componentWillLoad() {\n    debug(`[nylas-feedback-form] Component will load`);\n  }\n\n  async componentDidLoad() {\n    debug(`[nylas-feedback-form] Component did load`);\n    this.applyThemeConfig(this.themeConfig);\n  }\n\n  applyThemeConfig(themeConfig?: ThemeConfig) {\n    if (themeConfig) {\n      for (const [key, value] of Object.entries(themeConfig)) {\n        this.host.style.setProperty(`${key}`, value);\n      }\n    }\n  }\n\n  @Listen('nylasFormInputChanged', { target: 'document' })\n  handleFormInputChanged(event: CustomEvent<{ name: string; value: string }>) {\n    debug(`[nylas-feedback-form] Form input changed`);\n    if (!event.detail.value) {\n      return;\n    }\n    this.triggerValidation.emit();\n    if (event.detail.name === 'feedback') {\n      this.feedbackMessage = event.detail.value;\n    }\n  }\n\n  private handleConfirmBookingButtonClicked = () => {\n    // TODO: Implement feedback submission\n    const validationEvent = this.triggerValidation.emit();\n    if (validationEvent.defaultPrevented) {\n      return;\n    }\n    this.feedbackSubmitted.emit({ feedback: this.feedbackMessage });\n  };\n\n  private closeModal(e: Event) {\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    this.feedbackModalClosed.emit();\n  }\n\n  @RegisterComponent<NylasFeedbackForm, NylasSchedulerConnector, Exclude<NylasScheduling['stores'], undefined>>({\n    name: 'nylas-feedback-form',\n    stateToProps: new Map([]),\n    eventToProps: {\n      feedbackSubmitted: async (_event: CustomEvent<{ feedback: string }>, _nylasSchedulerConnector: NylasSchedulerConnector) => {\n        // TODO: Implement feedback submission\n      },\n    },\n    localPropsToProp: new Map([['themeConfig', 'themeConfig']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host part=\"nfbf\">\n        <div class=\"card-wrapper\" part=\"nfbfc__card\">\n          <div class=\"close-button\">\n            <button-component tooltip=\"Close\" id=\"close\" variant={'invisible'} onClick={e => this.closeModal(e)} part=\"nfbf__close-button\">\n              <close-icon />\n            </button-component>\n          </div>\n          <div class=\"header\">\n            <h2 slot=\"card-title\" part=\"nfbf__title\">\n              {i18next.t('feedbackFormTitle')}\n            </h2>\n          </div>\n          <div class=\"description title-desc\">\n            <p>{i18next.t('feedbackFormDescription')}</p>\n          </div>\n          <textarea-component\n            label={i18next.t('feedbackMessageLabel')}\n            required={true}\n            maxLength={500}\n            part=\"nfbf__description\"\n            name=\"feedback\"\n            placeholder={i18next.t('feedbackMessagePlaceholder')}\n          />\n          <div class={'description footer-desc'}>\n            <p>\n              By sending this report, you agree to Nylas’ access to the data necessary to respond to this issue, subject to Nylas’{' '}\n              <a href=\"https://www.nylas.com/privacy-policy/\" target=\"_blank\" rel=\"nofollow noreferrer noopener\">\n                Privacy Policy\n              </a>\n              .\n            </p>\n          </div>\n          <div\n            class={{\n              footer: true,\n            }}\n          >\n            <button-component variant={'invisible'} onClick={e => this.closeModal(e)} part=\"nfbf__button-outline nfbf__cancel-cta\">\n              {`${i18next.t('feedbackModalCloseButton')}`}\n            </button-component>\n            <button-component variant={'primary'} onClick={this.handleConfirmBookingButtonClicked} part=\"nfbf__button-outline nfbf__reschedule-cta\">\n              {`${i18next.t('feedbackModalSubmitButton')}`}\n            </button-component>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}