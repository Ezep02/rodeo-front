import{r as s,c as t,h as i,H as e,a}from"./p-68c2fadf.js";import{c as n,I as r,J as o,K as h,L as l,M as c}from"./p-48a8756b.js";var d={exports:{}};(function(s,t){!function(t,i){s.exports=i()}(n,(function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,e=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,n={},r=function(s){return(s=+s)+(s>68?1900:2e3)};var o=function(s){return function(t){this[s]=+t}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(s){if(!s)return 0;if("Z"===s)return 0;var t=s.match(/([+-]|\d\d)/g),i=60*t[1]+(+t[2]||0);return 0===i?0:"+"===t[0]?-i:i}(s)}],l=function(s){var t=n[s];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(s,t){var i,e=n.meridiem;if(e){for(var a=1;a<=24;a+=1)if(s.indexOf(e(a,0,t))>-1){i=a>12;break}}else i=s===(t?"pm":"PM");return i},d={A:[a,function(s){this.afternoon=c(s,!1)}],a:[a,function(s){this.afternoon=c(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[i,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[e,o("seconds")],ss:[e,o("seconds")],m:[e,o("minutes")],mm:[e,o("minutes")],H:[e,o("hours")],h:[e,o("hours")],HH:[e,o("hours")],hh:[e,o("hours")],D:[e,o("day")],DD:[i,o("day")],Do:[a,function(s){var t=n.ordinal,i=s.match(/\d+/);if(this.day=i[0],t)for(var e=1;e<=31;e+=1)t(e).replace(/\[|\]/g,"")===s&&(this.day=e)}],M:[e,o("month")],MM:[i,o("month")],MMM:[a,function(s){var t=l("months"),i=(l("monthsShort")||t.map((function(s){return s.slice(0,3)}))).indexOf(s)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[a,function(s){var t=l("months").indexOf(s)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,o("year")],YY:[i,function(s){this.year=r(s)}],YYYY:[/\d{4}/,o("year")],Z:h,ZZ:h};function f(i){var e,a;e=i,a=n&&n.formats;for(var r=(i=e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,i,e){var n=e&&e.toUpperCase();return i||a[e]||s[e]||a[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(s,t,i){return t||i.slice(1)}))}))).match(t),o=r.length,h=0;h<o;h+=1){var l=r[h],c=d[l],f=c&&c[0],u=c&&c[1];r[h]=u?{regex:f,parser:u}:l.replace(/^\[|\]$/g,"")}return function(s){for(var t={},i=0,e=0;i<o;i+=1){var a=r[i];if("string"==typeof a)e+=a.length;else{var n=a.regex,h=a.parser,l=s.slice(e),c=n.exec(l)[0];h.call(t,c),s=s.replace(c,"")}}return function(s){var t=s.afternoon;if(void 0!==t){var i=s.hours;t?i<12&&(s.hours+=12):12===i&&(s.hours=0),delete s.afternoon}}(t),t}}return function(s,t,i){i.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(r=s.parseTwoDigitYear);var e=t.prototype,a=e.parse;e.parse=function(s){var t=s.date,e=s.utc,r=s.args;this.$u=e;var o=r[1];if("string"==typeof o){var h=!0===r[2],l=!0===r[3],c=h||l,d=r[2];l&&(d=r[2]),n=this.$locale(),!h&&d&&(n=i.Ls[d]),this.$d=function(s,t,i){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*s);var e=f(t)(s),a=e.year,n=e.month,r=e.day,o=e.hours,h=e.minutes,l=e.seconds,c=e.milliseconds,d=e.zone,u=new Date,p=r||(a||n?1:u.getDate()),m=a||u.getFullYear(),b=0;a&&!n||(b=n>0?n-1:u.getMonth());var y=o||0,x=h||0,v=l||0,g=c||0;return d?new Date(Date.UTC(m,b,p,y,x,v,g+60*d.offset*1e3)):i?new Date(Date.UTC(m,b,p,y,x,v,g)):new Date(m,b,p,y,x,v,g)}catch(s){return new Date("")}}(t,o,e),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),c&&t!=this.format(o)&&(this.$d=new Date("")),n={}}else if(o instanceof Array)for(var u=o.length,p=1;p<=u;p+=1){r[1]=o[p-1];var m=i.apply(this,r);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===u&&(this.$d=new Date(""))}else a.call(this,s)}}}))})(d);const f=d.exports;const u=':host{display:block;position:relative;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif}.time-picker{display:inline-block;width:150px;font-family:var(--nylas-font-family);position:relative}@media screen and (max-width: 768px){.time-picker{width:auto}}.time-picker input{width:150px;height:48px;text-align:center;font-size:16px;font-family:inherit;cursor:pointer;background:transparent;border:1px solid var(--nylas-base-200);border-radius:var(--nylas-border-radius-2x)}@media screen and (max-width: 768px){.time-picker input{width:88px}}@media screen and (max-width: 504px){.time-picker input{width:68px;font-size:15px}}.time-picker input.focus{background:transparent}.time-picker input:hover,.time-picker input:active{border:1px solid var(--nylas-primary)}.time-picker input:active{outline:2px solid var(--nylas-primary)}.time-picker input span.open{transform:rotate(90deg)}.time-picker input span.closed{transform:rotate(270deg)}.time-picker input.error{border:1px solid var(--nylas-error)}.time-picker p.error{color:var(--nylas-error);font-size:0.875rem;margin:0}.times{display:block;margin-top:0.5rem;background-color:var(--nylas-base-0);width:100%;max-height:336px;overflow:auto;border:1px solid #ddd;z-index:1;border-radius:4px;position:absolute;box-shadow:0px 4px 6px -2px rgba(0, 0, 0, 0.0509803922);box-shadow:0px 10px 15px -3px rgba(0, 0, 0, 0.1019607843)}.times ul{padding:0;list-style-type:none;color:var(--nylas-base-900);max-height:336px}.times ul li{padding:16px, 12px, 16px, 12px;color:black;padding:12px 16px;text-decoration:none;display:block;font-family:inherit;font-size:14px;font-weight:400;line-height:20px;letter-spacing:0px;text-align:center;cursor:pointer}.times ul li.focused{background-color:var(--nylas-base-100)}.times ul li:hover,.times ul li:focus{background-color:var(--nylas-base-100)}.times ul li label{display:flex;align-items:center;gap:0.5rem}.times ul li label input{margin:0}';const p=u;r.extend(f);const m=class{constructor(i){s(this,i);this.timeChange=t(this,"timeChange",7);this.formError=t(this,"formError",7);this.time=undefined;this.minimumStartTime=null;this.placeholder="hh:mmam/pm";this.name=undefined;this.hasError=false;this.err="";this.showTimes=false;this.ariaActivedescendant="";this.times=this.generateTimes();this.shouldAutoScroll=false}handleOutsideClick(s){const t=s.composedPath();const i=t.includes(this.el);if(!i&&this.showTimes){this.showTimes=false}}minimumStartTimeChangedHandler(){if(this.minimumStartTime){let s=r().hour(parseInt(this.minimumStartTime)).minute(parseInt(this.minimumStartTime.slice(-4,-2)));if(this.minimumStartTime.slice(-2).toLowerCase()==="pm"&&parseInt(this.minimumStartTime)!==12){s=s.add(12,"hour")}else if(this.minimumStartTime.slice(-2).toLowerCase()==="am"&&parseInt(this.minimumStartTime)===12){s=s.subtract(12,"hour")}this.times=this.generateTimes();const t=r(this.times[0].value,"hh:mma");let i=r(this.time,"hh:mma");if(i.isBefore(t)){this.err="Invalid";this.formError.emit({key:this.el.id,message:"Invalid"})}}}componentDidRender(){if(this.showTimes&&this.shouldAutoScroll){const s=o(this.time);const t=this.times.findIndex((t=>t.value===s));if(t>-1){this.shouldAutoScroll=false;this.scrollToViewWithinParent(t)}return}}handleTimeChange(s,t){const i=t.split(":");if(i[0]==="00"&&i[1].slice(-2)=="pm"){this.err="Invalid";this.formError.emit({key:this.el.id,message:"Invalid"})}if(!h(t)){this.err="Invalid";this.formError.emit({key:this.el.id,message:"Invalid"})}else{this.err="";this.formError.emit({key:this.el.id,message:""})}this.timeChange.emit({key:this.el.id,value:t})}handleTimeAutocomplete(s){const t=s.target?.value;if(!h(t)){this.err="Invalid";this.formError.emit({key:this.el.id,message:"Invalid"});return}if(t===""){const s=l().format("hh:mma");this.timeChange.emit({key:this.el.id,value:s});return}if(!c(t)){const s=o(t);this.timeChange.emit({key:this.el.id,value:s});return}this.timeChange.emit({key:this.el.id,value:t})}handleOnInput(s){const t=s.target?.value;if(!h(t)){return}if(t===""){const s=l().format("hh:mma");const t=this.times.findIndex((t=>t.value===s));if(t>-1){this.scrollToViewWithinParent(t)}return}if(!c(t)){const s=o(t);const i=this.times.findIndex((t=>t.value===s));if(i>-1){this.scrollToViewWithinParent(i)}return}}generateTimes(){const s=[];let t=r().set("hour",0).set("minute",0).set("second",0);if(this.minimumStartTime){t=r(this.minimumStartTime,"hh:mma")}const i=t.endOf("day").diff(t,"minutes");const e=Math.round(i/15);for(let i=0;i<e+1;i++){const a=t.add(i*15,"minute");if(i==e&&a.format("hh:mma").includes("am")){break}s.push({id:i,value:a.format("hh:mma")})}return s}handleComboboxKeyDown(s){if(s.key==="ArrowDown"){s.preventDefault();if(!this.showTimes){this.showTimes=true;this.shouldAutoScroll=true;return}if(this.ariaActivedescendant===""){this.ariaActivedescendant=this.times[0].id.toString();this.focusOption(0)}else{const s=this.times.findIndex((s=>s.id.toString()===this.ariaActivedescendant));const t=s+1<this.times.length?s+1:0;this.ariaActivedescendant=this.times[t].id.toString();this.focusOption(t)}}else if(s.key==="ArrowUp"){s.preventDefault();if(this.ariaActivedescendant===""){this.ariaActivedescendant=this.times[this.times.length-1].id.toString();this.focusOption(this.times.length-1)}else{const s=this.times.findIndex((s=>s.id.toString()===this.ariaActivedescendant));const t=s-1>=0?s-1:this.times.length-1;this.ariaActivedescendant=this.times[t].id.toString();this.focusOption(t)}}else if(s.key==="Escape"){this.showTimes=false;this.timeInput.focus()}}handleListboxKeydown(s){const t=this.times;const i=t.findIndex((s=>s.id.toString()===this.ariaActivedescendant));if(s.key==="ArrowDown"||s.key==="Tab"&&!s.shiftKey){s.preventDefault();const e=i+1<t.length?i+1:0;this.ariaActivedescendant=t[e].id.toString();this.focusOption(e)}else if(s.key==="ArrowUp"||s.key==="Tab"&&s.shiftKey){s.preventDefault();const e=i-1>=0?i-1:t.length-1;this.ariaActivedescendant=t[e].id.toString();this.focusOption(e)}else if(s.key==="Enter"){s.preventDefault();if(this.ariaActivedescendant){const e=t[i];this.handleTimeChange(s,e.value);this.showTimes=false;this.ariaActivedescendant="";this.timeInput.focus()}}else if(s.key==="Escape"){this.showTimes=false;this.timeInput.focus()}}scrollToViewWithinParent(s){const t=this.times[s];const i=this.el.shadowRoot?.getElementById(t.id.toString());const e=this.timeMenu;this.ariaActivedescendant=t.id.toString();const a=i.getBoundingClientRect();const n=e.getBoundingClientRect();if(a.top<n.top){e.scrollTop-=n.top-a.top}else if(a.bottom>n.bottom){e.scrollTop+=a.bottom-n.bottom}if(a.left<n.left){e.scrollLeft-=n.left-a.left}else if(a.right>n.right){e.scrollLeft+=a.right-n.right}}focusOption(s){const t=this.times[s];if(!t)return;const i=t.id.toString();const e=this.el.shadowRoot?.getElementById(i);if(e){e.focus();e.scrollIntoView({behavior:"smooth",block:"nearest"})}}render(){return i(e,{key:"08c910b64f1990194d69892923e03e8cf2967853"},i("div",{key:"8580adca9096558b400d9fc1ceaac1807345a4bf",class:"time-picker",part:"time-picker"},i("input",{key:"922200c3ba40d880f368f06dba3a2c2549cfa9d6",type:"text",name:this.name,id:this.name,part:"time-input",class:{"time-input":true,error:!!this.err||this.hasError},ref:s=>this.timeInput=s,value:this.time,onClick:()=>{this.showTimes=!this.showTimes;this.shouldAutoScroll=true},"aria-haspopup":"listbox","aria-label":this.name,"aria-expanded":this.showTimes?"true":"false",placeholder:this.placeholder,onKeyDown:s=>this.handleComboboxKeyDown(s),onInput:s=>this.handleOnInput(s),onBlur:s=>this.handleTimeAutocomplete(s)}),this.err&&i("div",{class:"invalid-time-icon"}),this.showTimes&&i("div",{class:"times",part:"times",ref:s=>this.timeMenu=s},i("ul",{tabindex:"-1",role:"listbox","aria-label":this.name,"aria-activedescendant":this.ariaActivedescendant,onKeyDown:s=>this.handleListboxKeydown(s)},this.times.map((s=>i("li",{tabindex:"0",key:s.id,id:s.id.toString(),class:{focused:this.ariaActivedescendant===s.id.toString()},onClick:t=>{this.handleTimeChange(t,s.value);this.showTimes=false;this.timeInput.focus()},role:"option"},`${s.value}`))))),!this.showTimes&&this.err&&i("p",{class:"error",id:"email-error"},this.err)))}get el(){return a(this)}static get watchers(){return{minimumStartTime:["minimumStartTimeChangedHandler"]}}};m.style=p;const b='.switch{--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif;display:inline-block;height:34px;position:relative;width:60px}.switch input{display:none}.slider{background-color:var(--nylas-base-300);bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;transition:0.4s}.slider:before{background-color:var(--nylas-base-0);bottom:4px;content:"";height:32px;left:4px;position:absolute;transition:0.4s;width:32px}input:checked+.slider{background-color:var(--nylas-success)}input:checked+.slider:before{transform:translateX(32px)}.slider.round{border-radius:35px;width:72px;height:40px}.slider.round:before{border-radius:50%}';const y=b;const x=class{constructor(i){s(this,i);this.nylasFormSwitchToggled=t(this,"nylasFormSwitchToggled",7);this.name="toggle-switch";this.checked=false;this.label="";this.isChecked=this.checked}componentWillLoad(){this.isChecked=this.checked}toggleCheck(){this.isChecked=!this.isChecked;this.nylasFormSwitchToggled.emit({checked:this.isChecked,name:this.name,label:this.label})}render(){return i("label",{key:"1586b4b0484716254ad8befbd9f99f7956e9c129",class:"switch",part:"ts_label"},i("input",{key:"c7e9432dfe88d4c27bb146c3816f750fb7dc6851",type:"checkbox",part:"ts_input",name:this.name,checked:this.isChecked,onChange:()=>this.toggleCheck()}),i("div",{key:"08980c1db3849f197b1780caa55bfe8e84ce0a92",class:"slider round",part:"ts_slider"}))}};x.style=y;export{m as nylas_time_window_picker,x as toggle_switch};
//# sourceMappingURL=p-bc9017cb.entry.js.map