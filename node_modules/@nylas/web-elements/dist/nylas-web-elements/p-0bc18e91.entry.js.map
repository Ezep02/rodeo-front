{"version":3,"names":["iconCss","GoogleLogoIconStyle0","GoogleLogoIcon","render","h","key","width","this","height","viewBox","fill","xmlns","d","id","MicrosoftLogoIconStyle0","MicrosoftLogoIcon","Tab","TabContents","formState","activeTab","i18next","children","Fragment","class","hide","EventInfo","slot","name","exportparts","Availability","participants","BookingOptions","readOnly","Communications","t","Participants","PageStyles","BookingForm","nylasEditorTabsCss","NylasEditorTabsStyle0","NylasEditorTabs","formSubmissionHandler","async","event","preventDefault","formEvent","formSubmitted","emit","debug","valid","formRef","checkValidity","defaultPrevented","error","validationMessage","isLoading","hasUnsavedChanges","updateFormState","title","description","duration","availability","bookingCalendar","location","bookingType","buffer","availableDaysInFuture","minCancellationNotice","minBookingNotice","cancellationPolicy","timeslotInterval","additionalGuestsHidden","hideCancellationOptions","hideReschedulingOptions","participantOpenHours","additionalFields","participantCalendars","conferencing","participantBookingCalendars","reminders","emailTemplate","redirectUrl","availabilityMethod","slug","appearance","organizer","selectedConfiguration","find","p","is_organizer","organizerCalendars","email","organizerBookingCalendar","booking","calendar_id","durationMinutes","parseInt","participantsList","length","currentUser","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","calendar_ids","open_hours","configObject","version","duration_minutes","interval_minutes","interval","round_to","roundTo","availability_rules","availability_method","before","after","default_open_hours","openHours","DEFAULT_OPEN_HOURS","round_robin_group_id","map","orgPartBookingCalendar","orgpartAvailabilityCalendars","isPartAvailabilityCalendarsPrimaryOnly","partBooking","undefined","partAvailabilityCalendars","event_booking","toString","booking_type","scheduler","cancellation_policy","available_days_in_future","min_cancellation_notice","min_booking_notice","hide_additional_guests","hide_cancellation_options","hide_rescheduling_options","additional_fields","email_template","confirmation_redirect_url","configObjectWithDeveloperSettings","mergeDeep","finalConfig","action","isConfigRoundRobin","resetLoadingState","_e","changesSaved","setTimeout","hasBookingError","checkForBookingFormErrors","currentConfig","configurations","c","hasOrganizerConfirmationError","checkForOrganizerConfirmationError","schedulerConfigChanged","config","host","hasError","errorMessage","isOrganizerConfirmationType","organizerConfirmationUrl","organizer_confirmation_url","setError","Error","Object","entries","forEach","entry","field","label","type","options","option","trim","configChangedHandler","newConfig","getFormStateFromConfig","userChangedHandler","newUser","selectedLanguageChangedHandler","newVal","oldVal","changeLanguage","schedulerConfigCreatedEventHandler","data","schedulerConfigCreated","message","connectedCallback","componentWillLoad","componentDidLoad","enableUserFeedback","Sentry.isInitialized","Sentry.init","dsn","release","integrations","filter","_integration","Sentry.feedbackIntegration","colorScheme","autoInject","autoSessionTracking","beforeSend","firstVisibleTab","querySelector","disconnectedCallback","handleValueChanged","value","detail","setFormState","schedulerEditorFormUpdated","feedbackModalClosedHandler","showFeedbackModal","feedbackSubmittedHandler","eventId","Sentry.captureMessage","feedback","Sentry.captureFeedback","includeReplay","captureContext","tags","extra","configId","organizerParticipant","console","info","calendarIds","reduce","acc","JSON","parse","settings","formData","FormData","setActiveTab","e","tabName","hideTab","tab","hideEditorTabs","includes","onFeedbackClick","Host","onSubmit","ref","el","noValidate","mode","part","active","onClick","calendars","variant","schedulerPreviewLink","disabled","clickHandler","previewEvent","previewButtonClicked","window","open","parsePreviewLink","cancelButtonClick","__decorate","RegisterComponent","stateToProps","Map","eventToProps","nylasSchedulerConfigConnector","checkForErrors","response","schedulerConfig","updateConfiguration","createConfiguration","_","schedulerConfigStore","state","_nylasSchedulerConfigConnector","localPropsToProp","fireRegisterEvent","nylasListConfigurationsCss","NylasListConfigurationsStyle0","NylasListConfigurations","listConfigurationsNextCursorChangedHandler","disableNextPageButton","currentCursor","initListConfigurations","handleNylasFormDropdownChanged","index","split","deleteConfigurationId","navigator","clipboard","writeText","registerCallback","getState","setState","hideDeleteConfirmation","showDeleteButtonLoading","closeModal","handleConfirmDeleteButtonClicked","deleteButtonClick","configuration","getDurationString","hours","Math","floor","minutes","getActionLabelHTML","actionStyle","display","alignItems","gap","dangerStyle","color","style","previousPageClickedHandler","previousCursors","pop","prevCursor","cursor","nextPageClickedHandler","createButtonClick","colSpan","i","lastTwo","editButtonClick","last","labelHTML","defaultSelectedOption","dropdownButtonText","withSearch","withChevron","tooltip","footer","connector","getConfigurations","resetSelectedConfiguration","deleteConfiguration"],"sources":["src/common/icons/icon.css?tag=google-logo-icon&encapsulation=scoped","src/common/icons/google-logo.tsx","src/common/icons/icon.css?tag=microsoft-logo-icon&encapsulation=scoped","src/common/icons/microsoft-logo.tsx","src/components/scheduler-editor/nylas-editor-tabs/tab-contents.tsx","src/components/scheduler-editor/nylas-editor-tabs/nylas-editor-tabs.scss?tag=nylas-editor-tabs&encapsulation=scoped","src/components/scheduler-editor/nylas-editor-tabs/nylas-editor-tabs.tsx","src/components/scheduler-editor/nylas-list-configurations/nylas-list-configurations.scss?tag=nylas-list-configurations&encapsulation=shadow","src/components/scheduler-editor/nylas-list-configurations/nylas-list-configurations.tsx"],"sourcesContent":[":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'google-logo-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class GoogleLogoIcon {\n  @Prop() width: string = '24';\n  @Prop() height: string = '24';\n\n  render() {\n    // Spam icon svg\n    return (\n      <svg width={this.width} height={this.height} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_959_12452)\">\n          <path\n            d=\"M23.745 12.27C23.745 11.48 23.675 10.73 23.555 10H12.255V14.51H18.725C18.435 15.99 17.585 17.24 16.325 18.09V21.09H20.185C22.445 19 23.745 15.92 23.745 12.27Z\"\n            fill=\"#4285F4\"\n          />\n          <path\n            d=\"M12.255 24C15.495 24 18.205 22.92 20.185 21.09L16.325 18.09C15.245 18.81 13.875 19.25 12.255 19.25C9.12504 19.25 6.47505 17.14 5.52505 14.29H1.54504V17.38C3.51504 21.3 7.56504 24 12.255 24Z\"\n            fill=\"#34A853\"\n          />\n          <path\n            d=\"M5.52501 14.2901C5.27501 13.5701 5.145 12.8001 5.145 12.0001C5.145 11.2001 5.28501 10.4301 5.52501 9.71012V6.62012H1.545C0.725004 8.24012 0.255005 10.0601 0.255005 12.0001C0.255005 13.9401 0.725004 15.7601 1.545 17.3801L5.52501 14.2901Z\"\n            fill=\"#FBBC05\"\n          />\n          <path\n            d=\"M12.255 4.75C14.025 4.75 15.605 5.36 16.855 6.55L20.275 3.13C18.205 1.19 15.495 0 12.255 0C7.56504 0 3.51504 2.7 1.54504 6.62L5.52505 9.71C6.47505 6.86 9.12504 4.75 12.255 4.75Z\"\n            fill=\"#EA4335\"\n          />\n        </g>\n        <defs>\n          <clipPath id=\"clip0_959_12452\">\n            <rect width={24} height={24} fill=\"white\" />\n          </clipPath>\n        </defs>\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'microsoft-logo-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class MicrosoftLogoIcon {\n  @Prop() width: string = '22';\n  @Prop() height: string = '22';\n\n  render() {\n    // Spam icon svg\n    return (\n      <svg width={this.width} height={this.height} viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M0.043457 0.043457H10.4782V10.4782H0.043457V0.043457Z\" fill=\"#F35325\" />\n        <path d=\"M11.5217 0.043457H21.9565V10.4782H11.5217V0.043457Z\" fill=\"#81BC06\" />\n        <path d=\"M0.043457 11.5217H10.4782V21.9565H0.043457V11.5217Z\" fill=\"#05A6F0\" />\n        <path d=\"M11.5217 11.5217H21.9565V21.9565H11.5217V11.5217Z\" fill=\"#FFBA08\" />\n      </svg>\n    );\n  }\n}\n","import { Fragment, h } from '@stencil/core';\n\nexport enum Tab {\n  EventInfo = 'eventInfo',\n  Availability = 'availability',\n  BookingOptions = 'bookingOptions',\n  Communications = 'communications',\n  Participants = 'participants',\n  BookingForm = 'bookingForm',\n  PageStyles = 'pageStyles',\n}\n\nexport type TabContentsProps = {\n  id: string;\n  formState: any;\n  activeTab: Tab;\n  calendars?: any[];\n  currentUser?: any;\n  i18next: any;\n};\n\nexport default function TabContents({ id, formState, activeTab, i18next }: TabContentsProps, children: any) {\n  return (\n    <Fragment>\n      <div key={`event-info-${id}`} class={{ hide: activeTab !== Tab.EventInfo }}>\n        <nylas-event-info>\n          <div slot=\"inputs\">\n            <nylas-event-title name=\"title\" exportparts=\"net, net__title, net__dropdown-content\" />\n            <nylas-event-duration\n              name=\"duration\"\n              exportparts=\"ned, ned__dropdown, ned__dropdown-button, ned__dropdown-content, ned__input_dropdown, ned__input_dropdown-input, ned__input_dropdown-content\"\n            />\n            <nylas-event-location name=\"location\" exportparts=\"nel, nel__location, nel__dropdown, nel__dropdown-button, nel__dropdown-content\" />\n            <nylas-event-description name=\"description\" exportparts=\"nedesc, nedesc__textarea\" />\n          </div>\n        </nylas-event-info>\n      </div>\n      <div key={`availability-${id}`} class={{ hide: activeTab !== Tab.Availability }}>\n        <nylas-participant-booking-calendars\n          participants={formState.participants}\n          name=\"participant-booking-calendars\"\n          exportparts={'npbc, npbc__header, npbc__content, npbc__participant-container, npbc__participant-title'}\n        />\n        <nylas-connected-calendars\n          participants={formState.participants}\n          name=\"connected-calendars\"\n          exportparts={'nccals, nccals__header, nccals__content, nccals__container, nccals__title, nccals__toggle-container, npbc__participant-toggle-container'}\n        />\n        <nylas-availability-picker\n          name=\"availability\"\n          exportparts={\n            'nap, nap__header, nap__select-timezone, nap__select-timezone-button, nap__select-timezone-dropdown-content, nap__availability, nap__day, nap__time-ranges, nap__time-range, nap__add-time-range, nap__time-picker-container, nap__time-picker-input, nap__time-picker-times'\n          }\n        />\n      </div>\n      <div key={`booking-options-${id}`} class={{ hide: activeTab !== Tab.BookingOptions }}>\n        <nylas-scheduling-method\n          name=\"availability-method\"\n          readOnly={true}\n          exportparts=\"nsm, nsm__header, nsm__input-label, nsm__dropdown, nsm__dropdown-button, nsm__dropdown-content\"\n        />\n        <nylas-custom-booking-flow exportparts={'ncbflow, ncbflow__header, ncbflow__title, ncbflow__content'}>\n          <div slot=\"inputs\">\n            <nylas-booking-confirmation-type name=\"confirmation-type\" exportparts={'nbct, nbct__header, nbct__dropdown, nbct__dropdown-button, nbct__dropdown-content'} />\n            <nylas-booking-confirmation-redirect\n              name=\"confirmation-redirect\"\n              exportparts={'nbcr, nbcr__header, nbcr__dropdown, nbcr__dropdown-button, nbcr__dropdown-content, nbcr__input-textfield'}\n            />\n          </div>\n        </nylas-custom-booking-flow>\n        <nylas-buffer-time\n          name=\"buffer-time\"\n          exportparts={\n            'nbt, nbt__header, nbt__body, nbt__dropdown-before, nbt__dropdown-button-before, nbt__dropdown-content-before, nbt__dropdown-after, nbt__dropdown-button-after, nbt__dropdown-content-after, nbt__preview'\n          }\n        />\n        <nylas-event-limits>\n          <div slot=\"inputs\">\n            <nylas-min-booking-notice\n              name=\"min-booking-notice\"\n              exportparts=\"nmbn, nmbn__number-dropdown, nmbn__number-dropdown-button, nmbn__number-dropdown-content, nmbn__period-dropdown, nmbn__period-dropdown-button, nmbn__period-dropdown-content\"\n            />\n            <nylas-limit-future-bookings\n              name=\"limit-future-bookings\"\n              exportparts=\"nlfb, nlfb__number-dropdown, nlfb__number-dropdown-button, nlfb__number-dropdown-content, nlfb__period-dropdown, nlfb__period-dropdown-button, nlfb__period-dropdown-content\"\n            />\n            <nylas-min-cancellation-notice\n              name=\"min-cancellation-notice\"\n              exportparts=\"nmcn, nmcn__number-dropdown, nmcn__number-dropdown-button, nmcn__number-dropdown-content, nmcn__period-dropdown, nmcn__period-dropdown-button, nmcn__period-dropdown-content\"\n            />\n            <nylas-cancellation-policy name=\"cancellation-policy\" exportparts=\"ncpolicy, ncpolicy__textarea\" />\n          </div>\n        </nylas-event-limits>\n        <nylas-timeslot-interval name=\"timeslot-interval\" exportparts=\"nti, nti__header, nti__input-label, nti__dropdown, nti__dropdown-button, nti__dropdown-content\" />\n        <nylas-customize-booking-settings\n          name=\"customize-booking-settings\"\n          exportparts=\"ncbs, ncbs__header, ncbs__settings, ncbs__settings-div, ncbs__additional_guests, ncbs__cancellation_options, ncbs__rescheduling_options\"\n        />\n      </div>\n      <div key={`communications-${id}`} class={{ hide: activeTab !== Tab.Communications }}>\n        <div class=\"tab-header\">\n          <h3>{i18next.t('eventCommunicationsTitle')}</h3>\n          <p>{i18next.t('eventCommunicationsDescription')}</p>\n        </div>\n        <nylas-confirmation-email\n          name=\"confirmation-email-template\"\n          exportparts={\n            'nce, nce__tab-heading, nce__header, nce__body, nce__confirmation-email-toggle--container, nce__summary, nce__reminder-input_dropdown, nce__reminder-input_dropdown-input, nce__reminder-input_dropdown-content'\n          }\n        />\n        <nylas-reminder-emails\n          name=\"reminder-emails\"\n          exportparts={\n            'nre, nre__tab-heading, nre__header, nre__body, nre__confirmation-email-toggle--container, nre__summary, nrt, nrt__number-dropdown, nrt__number-dropdown-button, nrt__number-dropdown-content, nrt__period-dropdown, nrt__period-dropdown-button, nrt__period-dropdown-content, nrt__time-period-selector'\n          }\n        />\n      </div>\n      <div key={`participants-${id}`} class={{ hide: activeTab !== Tab.Participants }}>\n        <nylas-additional-participants\n          name=\"participants\"\n          exportparts=\"nap, nap__title, nap__subtitle, nap__content, nap__input_group, nap__input_wrapper, nap__input, nap__remove-participant\"\n        />\n        <nylas-participants-custom-availability\n          participants={formState.participants}\n          name=\"participant-custom-availability\"\n          exportparts=\"npca, npca__header, npca__content, npca__participant-container, npca__participant-title, npca__participant-toggle--container, npca__toggle-label, npca__toggle-input, npca__toggle-slider\"\n        />\n      </div>\n      <div key={`page-styles-${id}`} class={{ hide: activeTab !== Tab.PageStyles }}>\n        <nylas-custom-event-slug name=\"custom-event-slug\" exportparts=\"nces, nces__body, nces__header, nces__drawer-toggle--container, nces__input-textfield\" />\n        <nylas-page-name name=\"page-name\" exportparts=\"npn, npn__body, npn__header, npn__drawer-toggle--container, npn__input-textfield\" />\n        <nylas-page-styling\n          name=\"page-styling\"\n          exportparts=\"nps, nps__header, nps__drawer-toggle--container, nps__body, nps__title-input-textfield, nps__company-logo-input-textfield, nps__color-picker, nps__color-picker-button, nps__color-picker-button-label, nps__color-picker-selected-label, nps__submit-button-label-input-textfield, nps__message-textarea\"\n        >\n          {children}\n        </nylas-page-styling>\n      </div>\n      <div key={`booking-form-${id}`} class={{ hide: activeTab !== Tab.BookingForm }}>\n        <nylas-booking-form-config\n          name=\"additional-fields\"\n          exportparts=\"nbfc, nbfc__header, nbfc__add_field, nbfc__add_field-button, nbfc__add_field-content, nbfc__additional_fields, nbfc__form-field, nbfc__form-field-header, nbfc__form-field-content\"\n        />\n      </div>\n    </Fragment>\n  );\n}\n","@import '../../../common/styles/variables.scss';\n@import '../../../common/mixins/buttons.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n}\n\n.scheduler-editor {\n  display: flex;\n  flex-direction: column;\n  height: inherit;\n\n  .form-contents {\n    height: calc(100% - 80px);\n    display: grid;\n    grid-template-columns: minmax(224px, 25%) 1fr;\n\n    @media #{$mobile} {\n      display: table-column-group;\n      height: auto;\n    }\n\n    .tabs {\n      display: flex;\n      flex-direction: column;\n      border-right: 1px solid var(--nylas-base-200);\n\n      @media #{$mobile} {\n        border-right: none;\n      }\n\n      background-color: var(--nylas-base-25);\n\n      .tab {\n        display: flex;\n        align-items: center;\n        text-align: left;\n        gap: 0.5rem;\n        padding: 0.5rem 1rem;\n        color: var(--nylas-base-900);\n        background: var(--nylas-base-0);\n        border: none;\n        height: 56px;\n        font-family: var(--nylas-font-family);\n        font-size: 16px;\n        font-weight: 500;\n        line-height: 24px;\n        cursor: pointer;\n\n        &:not(:first-of-type) {\n          margin-top: 0.25rem;\n        }\n\n        &:last-of-type {\n          margin-bottom: 0.25rem;\n        }\n\n        &.active {\n          font-weight: 600;\n          background: var(--nylas-base-0);\n          color: var(--nylas-primary);\n          border-left: 4px solid var(--nylas-primary);\n          box-shadow: 0px 1px 2px 0px #0000000f;\n          box-shadow: 0px 1px 3px 0px #0000001a;\n        }\n\n        &.hide {\n          display: none;\n        }\n      }\n    }\n\n    .tab-content {\n      max-width: 692px;\n      overflow-y: auto;\n      overflow-x: hidden;\n\n      .hide {\n        display: none;\n      }\n\n      nylas-event-info,\n      nylas-event-limits {\n        width: inherit;\n\n        div[slot='inputs'] {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n      }\n\n      .tab-header {\n        display: flex;\n        flex-direction: column;\n        margin: 1rem 1rem 0.5rem;\n        row-gap: 4px;\n\n        h3 {\n          margin: 0;\n          font-size: 16px;\n          font-weight: 600;\n          line-height: 20px;\n          color: var(--nylas-base-900);\n          text-align: left;\n        }\n\n        p {\n          margin: 0;\n          font-size: 0.875rem;\n          font-weight: 400;\n          line-height: 20px;\n          color: var(--nylas-base-600);\n          text-align: left;\n        }\n      }\n    }\n  }\n}\n\n.footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n  min-height: 80px;\n  padding: 0 1rem;\n  border-top: 1px solid var(--nylas-base-200);\n\n  @media #{$mobile} {\n    flex-direction: column;\n    height: auto;\n  }\n\n  .preview {\n    @media #{$mobile} {\n      margin-top: 1rem;\n      width: 100%;\n    }\n  }\n\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    justify-self: flex-end;\n    gap: 1rem;\n\n    @media #{$mobile} {\n      flex-direction: column-reverse;\n      width: 100%;\n    }\n\n    p {\n      max-width: 524px;\n\n      &.unsaved-changes {\n        color: var(--nylas-base-600);\n      }\n\n      &.saved-changes {\n        color: var(--nylas-success);\n      }\n\n      &.error {\n        color: var(--nylas-error);\n      }\n\n      &.error-full-width {\n        max-width: 660px;\n      }\n    }\n\n    button-component {\n      @media #{$mobile} {\n        width: 100%;\n      }\n    }\n\n    button {\n      @include primary-button;\n      width: 148px;\n\n      span {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 0.5rem;\n      }\n    }\n  }\n}\n\nbutton-component#report-issue {\n  width: auto;\n}\n\nnylas-feedback-form {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2;\n  border-radius: inherit;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, mergeDeep, parsePreviewLink } from '@/utils/utils';\nimport {\n  AdditionalFields,\n  Appearance,\n  AvailabilityMethod,\n  BookingType,\n  Calendar,\n  Conference,\n  Configuration,\n  EmailTemplate,\n  EventReminder,\n  OpenHours,\n  Participant,\n} from '@nylas/core';\nimport { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport TabContents, { Tab } from './tab-contents';\nimport { User } from '@/common/nylas-api-request';\nimport { DEFAULT_OPEN_HOURS } from '@/common/constants';\nimport { DataResponseReturnType } from '@/common/types';\nimport * as Sentry from '@sentry/browser';\nimport i18next from '@/utils/i18n';\nimport { LANGUAGE_CODE } from '@/common/constants';\n\ntype SchedulerEventDetail = {\n  config: Partial<Configuration>;\n  action: 'create' | 'edit';\n  host: HTMLNylasEditorTabsElement;\n  resetLoadingState?: (e: CustomEvent) => void;\n};\n\n/**\n * The nylas-editor-tabs component provides the user interface for managing editor tabs within the scheduler editor.\n * It is primarily used to control the edit mode of the scheduler editor, and it is rendered automatically by the\n * parent component, nylas-scheduler-editor, during editing. There is no need to interact with this component directly\n * or set any props manually, as its behavior is fully managed by the parent component.\n *\n * @part nap__title - [nylas-additional-participants] The title of the component.\n * @part nap__subtitle - [nylas-additional-participants] The subtitle of the component.\n * @part nap__content - [nylas-additional-participants] The content of the component.\n * @part nap__input - [nylas-additional-participants] The input of the component.\n * @part nap__remove-participant - [nylas-additional-participants] The remove participant button of the component.\n * @part nap__add-participant - [nylas-additional-participants] The add participant button of the component.\n * @part nap__header - [nylas-availability-picker] The header of the availability picker\n * @part nap__select-timezone - [nylas-availability-picker] The timezone selection container\n * @part nap__select-timezone-button -[nylas-availability-picker]  The timezone selection button\n * @part nap__select-timezone-dropdown-content -[nylas-availability-picker] The timezone selection dropdown content\n * @part nap__availability - [nylas-availability-picker] The availability container\n * @part nap__day - [nylas-availability-picker] The day container\n * @part nap__time-ranges - [nylas-availability-picker] The time ranges container\n * @part nap__time-range - [nylas-availability-picker] The time range container\n * @part nap__add-time-range - [nylas-availability-picker] The add time range button\n * @part nap__time-picker-container -[nylas-availability-picker]  The time picker container\n * @part nap__time-picker-input - [nylas-availability-picker]  The time picker input\n * @part nap__time-picker-times - [nylas-availability-picker] The time picker times\n * @part nbcp - [nylas-booking-calendar-picker] The booking calendar picker container\n * @part nbcp__header - [nylas-booking-calendar-picker] The header of the booking calendar picker\n * @part nbcp__input-label - [nylas-booking-calendar-picker] The input label of the booking calendar picker\n * @part nbcp__dropdown - [nylas-booking-calendar-picker] The dropdown container\n * @part nbcp__dropdown-button - [nylas-booking-calendar-picker] The dropdown button\n * @part nbcp__dropdown-content - [nylas-booking-calendar-picker] The dropdown content\n * @part nbt - [nylas-buffer-time] The buffer time container\n * @part nbt__header - [nylas-buffer-time] The header of the buffer time\n * @part nbt__body - [nylas-buffer-time] The body of the buffer time\n * @part nbt__dropdown-before - [nylas-buffer-time] The before buffer dropdown container\n * @part nbt__dropdown-button-before - [nylas-buffer-time] The before buffer dropdown button\n * @part nbt__dropdown-content-before - [nylas-buffer-time] The before buffer dropdown content\n * @part nbt__dropdown-after - [nylas-buffer-time] The after buffer dropdown container\n * @part nbt__dropdown-button-after - [nylas-buffer-time] The after buffer dropdown button\n * @part nbt__dropdown-content-after - [nylas-buffer-time] The after buffer dropdown content\n * @part nbt__preview - [nylas-buffer-time] The buffer time preview\n * @part ncp - [nylas-calendar-picker] The calendar picker container\n * @part ncp__header - [nylas-calendar-picker] The header of the calendar picker\n * @part ncp__dropdown - [nylas-calendar-picker] The dropdown container\n * @part ncp__dropdown-button - [nylas-calendar-picker] The dropdown button\n * @part ncp__dropdown-content - [nylas-calendar-picker] The dropdown content\n * @part ncbf - [nylas-custom-booking-flow] The custom booking flow container\n * @part ncbf__header - [nylas-custom-booking-flow] The header of the custom booking flow\n * @part ncbf__dropdown - [nylas-custom-booking-flow] The dropdown container\n * @part ncbf__dropdown-button - [nylas-custom-booking-flow] The dropdown button\n * @part ncbf__dropdown-content - [nylas-custom-booking-flow] The dropdown content\n * @part nedesc - [nylas-event-description] The event description container\n * @part nedesc__textarea - [nylas-event-description] The event description textarea\n * @part ned - [nylas-event-duration] The event duration container\n * @part ned__dropdown - [nylas-event-duration] The dropdown container for the duration increment\n * @part ned__dropdown-button - [nylas-event-duration] The dropdown button for the duration increment\n * @part ned__dropdown-content - [nylas-event-duration] The dropdown content for the duration increment\n * @part ned__input_dropdown - [nylas-event-duration] The input dropdown container for the duration minutes\n * @part ned__input_dropdown-input - [nylas-event-duration] The input for the duration minutes\n * @part ned__input_dropdown-content - [nylas-event-duration] The dropdown content for the input duration minutes\n * @part net - [nylas-event-title] The event title container\n * @part net__title - [nylas-event-title] The event title input\n * @part net__dropdown-content - [nylas-event-title] The token options container\n * @part nlfb - [nylas-limit-future-bookings] The limit future bookings container\n * @part nlfb__number-dropdown - [nylas-limit-future-bookings] The number dropdown container\n * @part nlfb__number-dropdown-button - [nylas-limit-future-bookings] The number dropdown button\n * @part nlfb__number-dropdown-content - [nylas-limit-future-bookings] The number dropdown content\n * @part nlfb__period-dropdown - [nylas-limit-future-bookings] The period dropdown container\n * @part nlfb__period-dropdown-button - [nylas-limit-future-bookings] The period dropdown button\n * @part nlfb__period-dropdown-content - [nylas-limit-future-bookings] The period dropdown content\n * @part nel - [nylas-event-location] The event location container\n * @part nel__location - [nylas-event-location] The event location input\n * @part nel__dropdown - [nylas-event-location] The dropdown container\n * @part nel__dropdown-button - [nylas-event-location] The dropdown button\n * @part nel__dropdown-content - [nylas-event-location] The dropdown content\n * @part nmbn - [nylas-min-booking-notice] The minimum booking notice container\n * @part nmbn__number-dropdown - [nylas-min-booking-notice] The number dropdown container\n * @part nmbn__number-dropdown-button - [nylas-min-booking-notice] The number dropdown button\n * @part nmbn__number-dropdown-content -[nylas-min-booking-notice] The number dropdown content\n * @part nmbn__period-dropdown - [nylas-min-booking-notice] The period dropdown container\n * @part nmbn__period-dropdown-button - [nylas-min-booking-notice] The period dropdown button\n * @part nmbn__period-dropdown-content - [nylas-min-booking-notice] The period dropdown content\n * @part nmcn - [nylas-min-cancellation-notice] The minimum cancellation notice container\n * @part nmcn__number-dropdown - [nylas-min-cancellation-notice] The number dropdown container\n * @part nmcn__number-dropdown-button - [nylas-min-cancellation-notice] The number dropdown button\n * @part nmcn__number-dropdown-content - [nylas-min-cancellation-notice] The number dropdown content\n * @part nmcn__period-dropdown - [nylas-min-cancellation-notice] The period dropdown container\n * @part nmcn__period-dropdown-button - [nylas-min-cancellation-notice] The period dropdown button\n * @part nmcn__period-dropdown-content - [nylas-min-cancellation-notice] The period dropdown content\n * @part ncpolicy - [nylas-cancellation-policy] The cancellation policy container\n * @part ncpolicy__textarea - [nylas-cancellation-policy] The cancellation policy textarea\n * @part nti - [nylas-timeslot-interval] The timeslot interval container\n * @part nti__header - [nylas-timeslot-interval] The header of the timeslot interval picker\n * @part nti__input-label - [nylas-timeslot-interval] The input label of the timeslot interval picker\n * @part nti__dropdown - [nylas-timeslot-interval] The dropdown container\n * @part nti__dropdown-button - [nylas-timeslot-interval] The dropdown button\n * @part nti__dropdown-content - [nylas-timeslot-interval] The dropdown content\n * @part npca - [nylas-participants-custom-availability] The participants custom availability container\n * @part npca__header - [nylas-participants-custom-availability] The header of the participants custom availability\n * @part npca__content - [nylas-participants-custom-availability] The content of the participants custom availability\n * @part npca__participant-container - [nylas-participants-custom-availability] The participant container\n * @part npca__participant-title - [nylas-participants-custom-availability] The participant title\n * @part npca__participant-toggle--container - [nylas-participants-custom-availability] The participant toggle container\n * @part npca__toggle-label - [nylas-participants-custom-availability] The toggle label\n * @part npca__toggle-input - [nylas-participants-custom-availability] The toggle input\n * @part npca__toggle-slider - [nylas-participants-custom-availability] The toggle slider\n * @part ncbs - [nylas-customize-booking-settings] The booking calendar picker container\n * @part ncbs__header - [nylas-customize-booking-settings] The header of the booking calendar picker\n * @part ncbs__settings - [nylas-customize-booking-settings] The settings container\n * @part ncbs__settings-div - [nylas-customize-booking-settings] The div inside the settings container that contains the checkbox and tooltip for each setting\n * @part ncbs__additional_guests - [nylas-customize-booking-settings] The additional guests setting\n * @part ncbs__cancellation_options - [nylas-customize-booking-settings] The cancellation options setting\n * @part ncbs__rescheduling_options - [nylas-customize-booking-settings] The rescheduling options setting\n * @part nsm - [nylas-scheduling-method] The booking calendar picker container\n * @part nsm__header - [nylas-scheduling-method] The header of the booking calendar picker\n * @part nsm__input-label - [nylas-scheduling-method] The input label of the booking calendar picker\n * @part nsm__dropdown - [nylas-scheduling-method] The dropdown container\n * @part nsm__dropdown-button - [nylas-scheduling-method] The dropdown button\n * @part nsm__dropdown-content - [nylas-scheduling-method] The dropdown content\n * @part npn - The nylas-page-name container\n * @part npn__body - The body of the event communication section\n * @part npn__header - The header of the event communication section\n * @part npn__drawer-toggle--container - The card's drawer toggle container\n * @part npn__input-textfield - The page name textfield\n * @part editor__form-contents - The form contents container\n * @part editor__tab - The tabs container\n * @part editor__tab-content - The tab content container\n * @part editor__footer - The footer container\n * @part editor__footer-preview - The preview button container\n * @part editor__footer-buttons - The buttons container\n */\n@Component({\n  tag: 'nylas-editor-tabs',\n  styleUrl: 'nylas-editor-tabs.scss',\n  scoped: true,\n})\nexport class NylasEditorTabs {\n  /**\n   * The form reference to access the form data.\n   */\n  private formRef!: HTMLFormElement;\n  /**\n   * The host element.\n   */\n  @Element() host!: HTMLNylasEditorTabsElement;\n  /**\n   * @standalone\n   * The list of calendars to use in the editor when configuring availability.\n   */\n  @Prop() calendars?: Calendar[];\n  /**\n   * @standalone\n   * The selected configuration to use in the editor when editing an existing configuration or creating a new one.\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * @standalone\n   * The list of configurations\n   */\n  @Prop() configurations?: Configuration[];\n\n  /**\n   * @standalone\n   * The current logged in user.\n   */\n  @Prop() currentUser?: User;\n  /**\n   * @standalone\n   * The scheduler preview link to use when the user clicks on the preview button.\n   * You can use a placeholder `{config.id}` to replace the configuration id anywhere in the link.\n   */\n  @Prop({ attribute: 'scheduler-preview-link' }) schedulerPreviewLink: string = '';\n  /**\n   * @standalone\n   * The mode of the editor.\n   * - `app`: The editor is used as a standalone app.\n   * - `composable`: The editor is used as a composable component.\n   */\n  @Prop() mode?: 'app' | 'composable' = 'app';\n  /**\n   * @standalone\n   * This prop is passed down by the parent component.\n   * It is an optional prop is used to hide tabs in the editor. Available tabs are:\n   * eventInfo, availability, participants, bookingOptions, bookingForm\n   */\n  @Prop() hideEditorTabs?: Tab[] = [];\n  /**\n   * @standalone\n   * This prop is passed down by the parent component to enable or disable user feedback.\n   */\n  @Prop() enableUserFeedback?: boolean = true;\n\n  /**\n   * The selected language.\n   */\n  @Prop() selectedLanguage?: LANGUAGE_CODE;\n\n  /**\n   * The action to perform in the editor.\n   * - `create`: Create a new configuration.\n   * - `edit`: Edit an existing configuration.\n   */\n  @State() action: 'create' | 'edit' = 'create';\n  /**\n   * The state for showing the feedback modal.\n   */\n  @State() showFeedbackModal: boolean = false;\n  /**\n   * The active tab in the editor.\n   */\n  @State() activeTab: Tab = Tab.EventInfo;\n  /**\n   * The loading state of the editor.\n   */\n  @State() isLoading: boolean = false;\n  /**\n   * The unsaved changes state of the editor.\n   */\n  @State() hasUnsavedChanges: boolean = false;\n  /**\n   * The changes saved state of the editor.\n   */\n  @State() changesSaved: boolean = false;\n  /**\n   * The form state of the editor.\n   */\n  @State() formState: Partial<{\n    title: string;\n    description: string;\n    duration: string;\n    availability?: {\n      timezone: string;\n      openHours?: OpenHours[];\n    };\n    additionalFields?: Record<string, AdditionalFields>;\n    calendarIds: string[];\n    participantCalendars?: { [key: string]: string[] };\n    participants?: Participant[];\n    participantOpenHours?: { [key: string]: OpenHours[] };\n    participantBookingCalendars?: { [key: string]: string };\n    bookingCalendar?: string;\n    location?: string;\n    conferencing?: Conference;\n    bookingType?: string;\n    buffer?: { before: number; after: number };\n    cancellationPolicy?: string;\n    availableDaysInFuture?: number;\n    minCancellationNotice?: number;\n    minBookingNotice?: number;\n    timeslotInterval?: {\n      interval?: number;\n      roundTo?: number;\n    };\n    additionalGuestsHidden?: boolean;\n    hideCancellationOptions?: boolean;\n    hideReschedulingOptions?: boolean;\n    reminders?: EventReminder[];\n    emailTemplate?: EmailTemplate;\n    redirectUrl?: string;\n    availabilityMethod?: AvailabilityMethod;\n    slug: string;\n    appearance: Appearance;\n    name: string;\n  }> = {};\n  /**\n   * The error state of the editor.\n   */\n  @State() error?: string = '';\n  /**\n   * Event emitted when the configuration is created/updated (after the request is complete). This fires for both create and edit actions.\n   */\n  @Event() schedulerConfigChanged!: EventEmitter<SchedulerEventDetail>;\n  /**\n   * Event emitted when the configuration is created (after the request is made). This fires for only for create action.\n   */\n  @Event() schedulerConfigCreated!: EventEmitter<SchedulerEventDetail>;\n  /**\n   * Event emitted when the user clicks the cancel button.\n   */\n  @Event() cancelButtonClick!: EventEmitter<void>;\n  /**\n   * Event emitted on form submission.\n   */\n  @Event({ bubbles: true, cancelable: true }) formSubmitted!: EventEmitter<void>;\n  /**\n   * Event emitted when the user clicks the preview button.\n   */\n  @Event() previewButtonClicked!: EventEmitter<HTMLNylasEditorTabsElement>;\n  /**\n   *\n   * Event emitted when the value of a form field changes.\n   */\n  @Event() schedulerEditorFormUpdated!: EventEmitter<{ value: string; name: string }>;\n\n  @Watch('selectedConfiguration')\n  configChangedHandler(newConfig: Configuration) {\n    debug('[nylas-editor-tabs]', 'configChangedHandler', newConfig, this.selectedConfiguration);\n    this.formState = {\n      ...this.getFormStateFromConfig(newConfig),\n    };\n    if (newConfig?.id) {\n      this.action = 'edit';\n    } else {\n      this.action = 'create';\n    }\n  }\n\n  @Watch('currentUser')\n  userChangedHandler(newUser: User) {\n    // Actively watch for changes in the current user to update the form state.\n    debug('[nylas-editor-tabs]', 'userChangedHandler', newUser);\n    if (newUser) {\n      this.formState = {\n        ...this.getFormStateFromConfig(this.selectedConfiguration),\n      };\n    }\n  }\n\n  @Watch('selectedLanguage')\n  selectedLanguageChangedHandler(newVal: LANGUAGE_CODE, oldVal: LANGUAGE_CODE) {\n    if (newVal === oldVal) return;\n    i18next.changeLanguage(newVal);\n  }\n\n  @Method()\n  async schedulerConfigCreatedEventHandler(data: SchedulerEventDetail) {\n    const event = this.schedulerConfigCreated.emit(data);\n    return event;\n  }\n\n  @Method()\n  async setError(error: Error) {\n    this.error = error.message;\n  }\n\n  connectedCallback() {\n    debug('[nylas-editor-tabs]', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('[nylas-editor-tabs]', 'componentWillLoad');\n    this.formState = this.getFormStateFromConfig(this.selectedConfiguration);\n  }\n\n  componentDidLoad() {\n    debug('[nylas-editor-tabs]', 'componentDidLoad');\n    if (this.enableUserFeedback && !Sentry.isInitialized()) {\n      Sentry.init({\n        dsn: 'https://9d5731f1c77ca84c9ed3fb9b3ccf7ee1@o74852.ingest.us.sentry.io/4507889638178816',\n        release: process.env.PACKAGE_VERSION,\n        integrations: integrations => [\n          ...integrations.filter(_integration => false), // Removes default integrations (including Breadcrumbs)\n          Sentry.feedbackIntegration({\n            colorScheme: 'system',\n            autoInject: false,\n          }),\n        ],\n        // Disable all other event capture\n        autoSessionTracking: false, // Disable session tracking\n        beforeSend: () => null, // Prevents error events from being sent\n      });\n    }\n    if (this.selectedConfiguration?.id) {\n      this.configChangedHandler(this.selectedConfiguration);\n    }\n    const firstVisibleTab = (this.host.querySelector('button.tab:not(.hide)') as HTMLButtonElement)?.name as Tab;\n\n    if (firstVisibleTab) {\n      this.activeTab = firstVisibleTab;\n    }\n  }\n\n  disconnectedCallback() {\n    debug('[nylas-editor-tabs]', 'disconnectedCallback');\n  }\n\n  @Listen('valueChanged')\n  handleValueChanged(event: CustomEvent) {\n    debug('[nylas-editor-tabs]', 'handleValueChanged', event);\n    const { name, value } = event.detail;\n    this.setFormState(value, name);\n    this.formState = { ...this.formState };\n    this.hasUnsavedChanges = true;\n    this.error = '';\n    this.schedulerEditorFormUpdated.emit({\n      value: event.detail.value,\n      name: event.detail.name,\n    });\n  }\n\n  @Listen('feedbackModalClosed')\n  feedbackModalClosedHandler() {\n    this.showFeedbackModal = false;\n  }\n\n  @Listen('feedbackSubmitted')\n  feedbackSubmittedHandler(event: CustomEvent<{ feedback: string }>) {\n    const eventId = Sentry.captureMessage('Scheduler Editor User Feedback');\n    const feedback = {\n      eventId: eventId,\n      message: event.detail.feedback,\n    };\n\n    Sentry.captureFeedback(feedback, {\n      includeReplay: true,\n      captureContext: {\n        tags: {\n          'nylas-web-element': 'nylas-scheduler-editor',\n          'nylas-web-element-version': process.env.PACKAGE_VERSION,\n        },\n        extra: {\n          configId: this.selectedConfiguration?.id,\n          slug: this.selectedConfiguration?.slug,\n        },\n      },\n    });\n    this.showFeedbackModal = false;\n  }\n\n  getFormStateFromConfig(config?: Configuration) {\n    let organizerParticipant = config?.participants?.find(p => p.is_organizer);\n    // If the config is round robin, there is no organizer set in the config, in that case flag the current user as the organizer.\n    if (!organizerParticipant && config?.availability?.availability_rules?.availability_method !== 'collective') {\n      organizerParticipant = config?.participants?.find(p => p.email === this.currentUser?.email);\n      if (organizerParticipant) {\n        organizerParticipant.is_organizer = true;\n      }\n    }\n    if (config?.appearance) {\n      console.info(\n        'Appearance settings have been returned from the given configuration; please remember to grab them from the configSettingsLoaded event and apply them as desired.',\n      );\n    }\n    return {\n      title: config?.event_booking?.title ?? '',\n      description: config?.event_booking?.description ?? '',\n      duration: config?.availability?.duration_minutes?.toString() ?? '30',\n      availability: {\n        timezone: config?.event_booking?.timezone ?? Intl.DateTimeFormat().resolvedOptions().timeZone,\n        openHours: config?.availability?.availability_rules?.default_open_hours ?? DEFAULT_OPEN_HOURS,\n      },\n      additionalFields: config?.scheduler?.additional_fields ?? {},\n      conferencing: config?.event_booking?.conferencing ?? {},\n      calendarIds: organizerParticipant?.availability?.calendar_ids ?? [],\n      participants: config?.participants ?? [],\n      bookingCalendar: organizerParticipant?.booking?.calendar_id ?? organizerParticipant?.email ?? '',\n      location: config?.event_booking?.location ?? '',\n      bookingType: config?.event_booking?.booking_type ?? 'booking',\n      buffer: config?.availability?.availability_rules?.buffer ?? { before: 0, after: 0 },\n      cancellationPolicy: config?.scheduler?.cancellation_policy ?? '',\n      availableDaysInFuture: config?.scheduler?.available_days_in_future ?? 30,\n      minCancellationNotice: config?.scheduler?.min_cancellation_notice ?? 0,\n      minBookingNotice: config?.scheduler?.min_booking_notice ?? 60,\n      timeslotInterval: {\n        interval: config?.availability?.interval_minutes ?? config?.availability?.duration_minutes,\n        roundTo: config?.availability?.round_to,\n      },\n      additionalGuestsHidden: config?.scheduler?.hide_additional_guests ?? false,\n      hideCancellationOptions: config?.scheduler?.hide_cancellation_options ?? false,\n      hideReschedulingOptions: config?.scheduler?.hide_rescheduling_options ?? false,\n      participantBookingCalendars:\n        config?.participants?.reduce((acc, p) => {\n          if (p.booking?.calendar_id) {\n            acc[p.email] = p.booking?.calendar_id;\n          }\n          return acc;\n        }) ?? {},\n      participantCalendars:\n        config?.participants?.reduce((acc, p) => {\n          acc[p.email] = p.availability?.calendar_ids;\n          return acc;\n        }, {}) ?? {},\n      reminders: config?.event_booking?.reminders,\n      emailTemplate: config?.scheduler?.email_template,\n      redirectUrl: config?.scheduler?.confirmation_redirect_url,\n      slug: config?.slug,\n      appearance: config?.appearance,\n      name: config?.name,\n    };\n  }\n\n  setFormState(value, key) {\n    switch (key) {\n      case 'title':\n        this.formState.title = value.toString();\n        break;\n      case 'description':\n        this.formState.description = value.toString();\n        break;\n      case 'duration':\n        this.formState.duration = value.toString();\n        break;\n      case 'availability':\n        this.formState.availability = JSON.parse(value.toString());\n        break;\n      case 'participants':\n        this.formState.participants = JSON.parse(value.toString());\n        break;\n      case 'booking-calendar':\n        this.formState.bookingCalendar = value.toString();\n        break;\n      case 'participant-booking-calendars':\n        this.formState.participantBookingCalendars = JSON.parse(value.toString());\n        break;\n      case 'location':\n        this.formState.location = value.toString();\n        break;\n      case 'conference':\n        this.formState.conferencing = JSON.parse(value.toString());\n        break;\n      case 'confirmation-type':\n        this.formState.bookingType = value.toString();\n        break;\n      case 'buffer-time':\n        this.formState.buffer = JSON.parse(value.toString());\n        break;\n      case 'limit-future-bookings':\n        this.formState.availableDaysInFuture = parseInt(value.toString());\n        break;\n      case 'min-cancellation-notice':\n        this.formState.minCancellationNotice = parseInt(value.toString());\n        break;\n      case 'min-booking-notice':\n        this.formState.minBookingNotice = parseInt(value.toString());\n        break;\n      case 'cancellation-policy':\n        this.formState.cancellationPolicy = value.toString();\n        break;\n      case 'timeslot-interval':\n        this.formState.timeslotInterval = JSON.parse(value.toString());\n        break;\n      case 'customize-booking-settings': {\n        const settings = JSON.parse(value.toString());\n        this.formState.additionalGuestsHidden = settings.additionalGuestsHidden;\n        this.formState.hideCancellationOptions = settings.hideCancellationOptions;\n        this.formState.hideReschedulingOptions = settings.hideReschedulingOptions;\n        break;\n      }\n      case 'participant-custom-availability': {\n        const participantOpenHours = JSON.parse(value.toString());\n        this.formState.participantOpenHours = participantOpenHours;\n        break;\n      }\n      case 'additional-fields':\n        this.formState.additionalFields = value;\n        break;\n      case 'connected-calendars':\n        this.formState.participantCalendars = JSON.parse(value.toString());\n        break;\n      case 'confirmation-email-template':\n        this.formState.emailTemplate = JSON.parse(value.toString());\n        break;\n      case 'reminder-overrides':\n        this.formState.reminders = JSON.parse(value.toString());\n        break;\n      case 'confirmation-redirect':\n        this.formState.redirectUrl = value.toString();\n        break;\n      case 'availability-method':\n        this.formState.availabilityMethod = value.toString();\n        break;\n      case 'custom-event-slug':\n        console.debug('custom-event-slug', value);\n        this.formState.slug = JSON.parse(value.toString());\n        break;\n      case 'page-styling':\n        this.formState.appearance = JSON.parse(value.toString());\n        break;\n      case 'page-name':\n        this.formState.name = JSON.parse(value.toString());\n        break;\n    }\n    this.schedulerEditorFormUpdated.emit({\n      value,\n      name: key,\n    });\n  }\n\n  updateFormState() {\n    const formData = new FormData(this.formRef);\n    formData.forEach((value, key) => {\n      this.setFormState(value, key);\n    });\n\n    this.formState = { ...this.formState };\n    return this.formState;\n  }\n\n  setActiveTab(e: Event, tabName: Tab) {\n    e.preventDefault();\n    this.updateFormState();\n    this.activeTab = tabName;\n  }\n\n  formSubmissionHandler = async (event: Event) => {\n    event.preventDefault();\n    const formEvent = await this.formSubmitted.emit();\n    debug('[nylas-editor-tabs]', 'formSubmissionHandler', formEvent);\n    const valid = this.formRef.checkValidity();\n    if (!valid || formEvent.defaultPrevented) {\n      this.error = this.formRef.validationMessage || 'Please fix the form errors.';\n      return;\n    }\n    this.isLoading = true;\n    this.hasUnsavedChanges = false;\n    const formState = this.updateFormState();\n    debug('[nylas-editor-tabs]', 'formState', formState);\n    const {\n      title,\n      description,\n      duration,\n      availability,\n      bookingCalendar,\n      location,\n      bookingType,\n      buffer,\n      availableDaysInFuture,\n      minCancellationNotice,\n      minBookingNotice,\n      cancellationPolicy,\n      timeslotInterval,\n      additionalGuestsHidden,\n      hideCancellationOptions,\n      hideReschedulingOptions,\n      participants,\n      participantOpenHours,\n      additionalFields,\n      participantCalendars,\n      conferencing,\n      participantBookingCalendars,\n      reminders,\n      emailTemplate,\n      redirectUrl,\n      availabilityMethod,\n      slug,\n      appearance,\n      name,\n    } = formState;\n    const organizer = this.selectedConfiguration?.participants?.find(p => p.is_organizer) || participants?.find(p => p.is_organizer);\n    const organizerCalendars = participantCalendars && organizer?.email ? participantCalendars[organizer?.email] : [];\n    const organizerBookingCalendar = organizer?.booking?.calendar_id || bookingCalendar;\n    const durationMinutes = duration ? parseInt(duration) : 30;\n\n    const participantsList =\n      participants && participants?.length > 0\n        ? participants\n        : [\n            {\n              name: organizer?.name ?? this.currentUser?.name ?? '',\n              email: organizer?.email ?? this.currentUser?.email ?? '',\n              is_organizer: true,\n              timezone: availability?.timezone ?? Intl.DateTimeFormat().resolvedOptions().timeZone,\n              availability: {\n                calendar_ids: bookingCalendar && bookingCalendar !== '' ? [bookingCalendar] : ['primary'],\n                open_hours: [],\n              },\n              booking: {\n                calendar_id: bookingCalendar && bookingCalendar !== '' ? bookingCalendar : 'primary',\n              },\n            },\n          ];\n\n    const configObject: Partial<Configuration> = {\n      ...(this.selectedConfiguration?.id && { id: this.selectedConfiguration.id }),\n      version: this.selectedConfiguration?.version ?? '1.0.0',\n      slug: slug,\n      name: name,\n      availability: {\n        duration_minutes: durationMinutes,\n        interval_minutes: timeslotInterval?.interval ?? durationMinutes,\n        round_to: timeslotInterval?.roundTo,\n        availability_rules: {\n          availability_method: availabilityMethod ? availabilityMethod : this.selectedConfiguration?.availability?.availability_rules?.availability_method ?? 'collective',\n          buffer: buffer || { before: 0, after: 0 },\n          default_open_hours: availability?.openHours ?? this.selectedConfiguration?.availability?.availability_rules?.default_open_hours ?? DEFAULT_OPEN_HOURS,\n          round_robin_group_id: this.selectedConfiguration?.availability?.availability_rules?.round_robin_group_id ?? '',\n        },\n      },\n      participants: [\n        ...(participantsList\n          ? participantsList.map(p => {\n              // The participant's timezone should be the default timezone set by the selected configuration's availability rules\n              // if open hours are not set for the participant\n              let timezone = availability?.timezone ?? Intl.DateTimeFormat().resolvedOptions().timeZone;\n              if (participantOpenHours?.[p.email]?.length) {\n                timezone = participantOpenHours?.[p.email]?.[0]?.timezone;\n              }\n\n              if (p.is_organizer) {\n                const orgPartBookingCalendar = participantBookingCalendars?.[p.email]\n                  ? participantBookingCalendars?.[p.email]\n                  : organizerBookingCalendar\n                    ? organizerBookingCalendar\n                    : 'primary';\n                const orgpartAvailabilityCalendars = participantCalendars?.[p.email]\n                  ? participantCalendars?.[p.email]\n                  : organizerCalendars?.length\n                    ? organizerCalendars\n                    : ['primary'];\n                const isPartAvailabilityCalendarsPrimaryOnly = orgpartAvailabilityCalendars.length === 1 && orgpartAvailabilityCalendars[0] === 'primary';\n\n                return {\n                  name: p.name ?? '',\n                  email: p.email,\n                  is_organizer: true,\n                  timezone,\n                  availability: {\n                    calendar_ids: isPartAvailabilityCalendarsPrimaryOnly ? [orgPartBookingCalendar] : orgpartAvailabilityCalendars,\n                    open_hours: participantOpenHours?.[p.email] ?? p.availability?.open_hours ?? [],\n                  },\n                  booking: {\n                    calendar_id: orgPartBookingCalendar,\n                  },\n                };\n              }\n              const partBooking = participantBookingCalendars?.[p.email] ? { calendar_id: participantBookingCalendars?.[p.email] } : p?.booking ?? undefined;\n              const partAvailabilityCalendars = participantCalendars?.[p.email] ?? p.availability?.calendar_ids ?? ['primary'];\n              const isPartAvailabilityCalendarsPrimaryOnly = partAvailabilityCalendars.length === 1 && partAvailabilityCalendars[0] === 'primary';\n              return {\n                ...p,\n                timezone,\n                availability: p.availability\n                  ? {\n                      calendar_ids: isPartAvailabilityCalendarsPrimaryOnly && typeof partBooking !== 'undefined' ? [partBooking?.calendar_id] : partAvailabilityCalendars,\n                      open_hours: participantOpenHours?.[p.email] ?? p.availability?.open_hours ?? [],\n                    }\n                  : undefined,\n                booking: partBooking,\n              };\n            })\n          : []),\n      ],\n      event_booking: {\n        title: title?.toString() ?? '',\n        description: description?.toString() ?? '',\n        location: location?.toString() ?? '',\n        booking_type: (bookingType?.toString() as BookingType) ?? 'booking',\n        timezone: availability?.timezone ?? Intl.DateTimeFormat().resolvedOptions().timeZone,\n        conferencing: conferencing,\n        reminders: reminders,\n      },\n      scheduler: {\n        cancellation_policy: cancellationPolicy ?? '',\n        available_days_in_future: availableDaysInFuture ?? 30,\n        min_cancellation_notice: minCancellationNotice ?? 0,\n        min_booking_notice: minBookingNotice ?? 60,\n        hide_additional_guests: additionalGuestsHidden ?? false,\n        hide_cancellation_options: hideCancellationOptions ?? false,\n        hide_rescheduling_options: hideReschedulingOptions ?? false,\n        additional_fields: additionalFields,\n        email_template: emailTemplate,\n        confirmation_redirect_url: redirectUrl,\n      },\n      appearance: appearance,\n    };\n\n    const configObjectWithDeveloperSettings = mergeDeep(this.selectedConfiguration, configObject || {});\n\n    const finalConfig = this.action === 'create' ? configObjectWithDeveloperSettings : configObject;\n\n    if (this.isConfigRoundRobin(finalConfig)) {\n      // If the config is round robin, no participant should be flagged as the organizer\n      finalConfig.participants = finalConfig.participants.map(p => ({ ...p, is_organizer: undefined }));\n    }\n    const resetLoadingState = (_e: CustomEvent) => {\n      this.isLoading = false;\n      this.changesSaved = true;\n      setTimeout(() => {\n        this.changesSaved = false;\n      }, 5000);\n    };\n\n    const hasBookingError = this.checkForBookingFormErrors(finalConfig);\n\n    // Check for client side errors using the selected config from the list configs (stored in API)\n    const currentConfig = this.configurations?.find(c => c.id === this.selectedConfiguration?.id) || {};\n    const hasOrganizerConfirmationError = this.checkForOrganizerConfirmationError(mergeDeep(finalConfig, currentConfig));\n\n    if (hasBookingError || hasOrganizerConfirmationError) {\n      return;\n    }\n    this.schedulerConfigChanged.emit({ config: finalConfig, resetLoadingState, action: this.action, host: this.host });\n  };\n\n  isConfigRoundRobin = (config: Configuration) => {\n    return config?.availability?.availability_rules?.availability_method === 'max-availability' || config.availability?.availability_rules?.availability_method === 'max-fairness';\n  };\n\n  checkForOrganizerConfirmationError = config => {\n    // Check additional Fields in config\n    let hasError = false;\n    let errorMessage = '';\n    const isOrganizerConfirmationType = config.event_booking?.booking_type === 'organizer-confirmation';\n    const organizerConfirmationUrl = config.scheduler?.organizer_confirmation_url;\n\n    if (isOrganizerConfirmationType && !organizerConfirmationUrl) {\n      errorMessage += 'Organizer confirmation URL is required when using organizer confirmation booking type.';\n      hasError = true;\n    }\n    if (hasError) {\n      this.isLoading = false;\n      this.host.setError(new Error(errorMessage));\n    }\n    return hasError;\n  };\n\n  checkForBookingFormErrors = config => {\n    // Check additional Fields in config\n    let hasError = false;\n    let errorMessage = '';\n    const additionalFields = config.scheduler?.additional_fields;\n    if (additionalFields) {\n      errorMessage = 'Booking form error: ';\n      Object.entries(additionalFields).forEach(entry => {\n        const field = entry[1] as AdditionalFields;\n        if (field.label === '') {\n          errorMessage += `Label is required for field of type ${field.type}.`;\n          hasError = true;\n          return;\n        }\n        if (field.options) {\n          for (const option of field.options) {\n            if (option.trim() === '') {\n              errorMessage += `Empty option detected inside ${field.label} of type ${field.type}.`;\n              hasError = true;\n              break;\n            }\n          }\n        }\n      });\n    }\n    if (hasError) {\n      this.isLoading = false;\n      this.host.setError(new Error(errorMessage));\n    }\n    return hasError;\n  };\n\n  hideTab(tab: Tab) {\n    return this.hideEditorTabs?.includes(tab) || false;\n  }\n\n  onFeedbackClick(e: Event) {\n    e.preventDefault();\n    this.showFeedbackModal = true;\n  }\n\n  @RegisterComponent<NylasEditorTabs, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-editor-tabs',\n    stateToProps: new Map([\n      ['schedulerConfig.calendars', 'calendars'],\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n      ['schedulerConfig.currentUser', 'currentUser'],\n      ['schedulerConfig.configurations', 'configurations'],\n      ['schedulerConfig.selectedLanguage', 'selectedLanguage'],\n    ]),\n    eventToProps: {\n      schedulerConfigChanged: async (event: CustomEvent<SchedulerEventDetail>, nylasSchedulerConfigConnector: NylasSchedulerConfigConnector) => {\n        const { resetLoadingState, host, action, config } = event.detail;\n        const checkForErrors = (response: DataResponseReturnType) => {\n          const [data, error] = response;\n          if (!data && error) {\n            host.setError(error as Error);\n          } else if (data && !error && action === 'create') {\n            host.schedulerConfigCreatedEventHandler({ config: data });\n          }\n          if (resetLoadingState) {\n            resetLoadingState(event);\n          }\n        };\n\n        // If we have an ID, we are updating an existing configuration\n        if (action === 'edit') {\n          const response = await nylasSchedulerConfigConnector.schedulerConfig.updateConfiguration(config);\n          checkForErrors(response);\n        } else {\n          const response = await nylasSchedulerConfigConnector.schedulerConfig.createConfiguration(config);\n          checkForErrors(response);\n        }\n      },\n      cancelButtonClick: async (_, nylasSchedulerConfigConnector) => {\n        nylasSchedulerConfigConnector.schedulerConfigStore.state.action = null;\n      },\n      previewButtonClicked: async (_, nylasSchedulerConfigConnector) => {\n        debug('[nylas-editor-tabs]', 'previewButtonClicked', nylasSchedulerConfigConnector);\n      },\n      formSubmitted: async (_, nylasSchedulerConfigConnector) => {\n        debug('[nylas-editor-tabs]', 'formSubmitted', nylasSchedulerConfigConnector);\n      },\n      schedulerEditorFormUpdated: async (event: CustomEvent<{ value: string; name: string }>, _nylasSchedulerConfigConnector) => {\n        debug('[nylas-editor-tabs]', 'schedulerEditorFormUpdated', event);\n      },\n      schedulerConfigCreated: async (event: CustomEvent<SchedulerEventDetail>, _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector) => {\n        debug('[nylas-editor-tabs]', 'schedulerConfigCreated', event);\n      },\n    },\n    localPropsToProp: new Map([\n      ['schedulerPreviewLink', 'schedulerPreviewLink'],\n      ['enableUserFeedback', 'enableUserFeedback'],\n      ['hideEditorTabs', 'hideEditorTabs'],\n    ]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    debug('[nylas-editor-tabs]', 'render', this.formState);\n    // TODO: Remove this check when the feature is ready to be released\n    // const showInDevelopmentTabs = localStorage.getItem('nylas') === 'Nylas Developer';\n\n    return (\n      <Host>\n        <form onSubmit={this.formSubmissionHandler} class=\"scheduler-editor\" ref={el => (this.formRef = el as HTMLFormElement)} noValidate>\n          {this.mode === 'app' ? (\n            <div class=\"form-contents\" part=\"editor__form-contents net__form-contents\">\n              <div class=\"tabs\" part=\"editor__tabs net__tabs\">\n                <button\n                  name={Tab.EventInfo}\n                  class={{ tab: true, active: this.activeTab == Tab.EventInfo, hide: this.hideTab(Tab.EventInfo) }}\n                  part=\"editortab__event-info net__tab-event-info\"\n                  onClick={e => this.setActiveTab(e, Tab.EventInfo)}\n                >\n                  <calendar-info-icon width=\"16\" height=\"16\" />\n                  {i18next.t('eventInfoTab')}\n                </button>\n                <button\n                  name={Tab.Availability}\n                  class={{ tab: true, active: this.activeTab == Tab.Availability, hide: this.hideTab(Tab.Availability) }}\n                  part=\"editortab__availability net__tab-availability\"\n                  onClick={e => this.setActiveTab(e, Tab.Availability)}\n                >\n                  <calendar-patterns-icon width=\"16\" height=\"16\" />\n                  {i18next.t('availabilityTab')}\n                </button>\n                <button\n                  name={Tab.Participants}\n                  class={{ tab: true, active: this.activeTab == Tab.Participants, hide: this.hideTab(Tab.Participants) }}\n                  part=\"editortab__participants net__tab-participants\"\n                  onClick={e => this.setActiveTab(e, Tab.Participants)}\n                >\n                  <people-icon width=\"16\" height=\"16\" />\n                  {i18next.t('participantsTab')}\n                </button>\n                <button\n                  name={Tab.BookingOptions}\n                  class={{ tab: true, active: this.activeTab == Tab.BookingOptions, hide: this.hideTab(Tab.BookingOptions) }}\n                  part=\"editortab__booking-options net__tab-booking-options\"\n                  onClick={e => this.setActiveTab(e, Tab.BookingOptions)}\n                >\n                  <flow-icon width=\"16\" height=\"16\" />\n                  {i18next.t('bookingOptionsTab')}\n                </button>\n                <button\n                  name={Tab.BookingForm}\n                  class={{ tab: true, active: this.activeTab == 'bookingForm', hide: this.hideTab(Tab.BookingForm) }}\n                  part=\"editortab__booking-form net__tab-booking-form\"\n                  onClick={e => this.setActiveTab(e, Tab.BookingForm)}\n                >\n                  {this.activeTab == Tab.BookingForm ? <calendar-agenda-fill-icon width=\"16\" height=\"16\" /> : <calendar-agenda-icon width=\"16\" height=\"16\" />}\n                  {i18next.t('bookingFormTab')}\n                </button>\n                <button\n                  name={Tab.Communications}\n                  class={{ tab: true, active: this.activeTab == 'communications', hide: this.hideTab(Tab.Communications) }}\n                  onClick={e => this.setActiveTab(e, Tab.Communications)}\n                  part=\"editortab__communications net__tab-communications\"\n                >\n                  {this.activeTab == Tab.Communications ? <envelope-fill-icon width=\"16\" height=\"16\" /> : <envelope-icon width=\"16\" height=\"16\" />}\n                  {i18next.t('communicationsTab')}\n                </button>\n                <button\n                  name={Tab.PageStyles}\n                  class={{ tab: true, active: this.activeTab == 'pageStyles', hide: this.hideTab(Tab.PageStyles) }}\n                  onClick={e => this.setActiveTab(e, Tab.PageStyles)}\n                  part=\"editortab__page-styles net__tab-page-styles\"\n                >\n                  {this.activeTab == Tab.PageStyles ? <paintbrush-fill-icon width=\"16\" height=\"16\" /> : <paintbrush-icon width=\"16\" height=\"16\" />}\n                  {i18next.t('pageStylesTab')}\n                </button>\n              </div>\n              <div class=\"tab-content\" part=\"editor__tab-content net__tab-content\">\n                <TabContents\n                  formState={this.formState}\n                  activeTab={this.activeTab}\n                  currentUser={this.currentUser}\n                  calendars={this.calendars}\n                  id={this.selectedConfiguration?.id ?? 'new'}\n                  i18next={i18next}\n                />\n              </div>\n            </div>\n          ) : (\n            <div class=\"composable\" key={this.selectedConfiguration?.id}>\n              <slot></slot>\n            </div>\n          )}\n\n          <div class=\"footer\" part=\"editor__footer net__footer\">\n            <div class=\"preview\" part=\"editor__footer-preview net__footer-preview\">\n              {this.enableUserFeedback && (\n                <button-component title=\"Share your feedback\" id=\"report-issue\" variant={'basic'} onClick={e => this.onFeedbackClick(e)}>\n                  <feedback-icon />\n                </button-component>\n              )}\n            </div>\n            <div class=\"buttons\" part=\"editor__footer-buttons net__footer-buttons\">\n              <p\n                class={{\n                  'unsaved-changes': this.hasUnsavedChanges && !this.changesSaved,\n                  'saved-changes': this.changesSaved,\n                  'error': this.error !== '',\n                  'error-full-width': this.error !== '' && this.action === 'create',\n                }}\n              >\n                {this.error !== '' ? this.error : ''}\n                {this.error == '' && this.hasUnsavedChanges && !this.changesSaved ? 'Unsaved changes' : this.error == '' && this.changesSaved ? 'Changes saved!' : ''}\n              </p>\n              {this.schedulerPreviewLink !== '' && this.action === 'edit' && (\n                <button-component\n                  title=\"Preview\"\n                  type=\"button\"\n                  disabled={this.isLoading}\n                  clickHandler={event => {\n                    event.preventDefault();\n                    const previewEvent = this.previewButtonClicked.emit(this.host);\n                    if (!previewEvent.defaultPrevented) {\n                      window.open(parsePreviewLink(this.schedulerPreviewLink, this.selectedConfiguration), '_blank');\n                    }\n                  }}\n                  variant={'basic'}\n                >\n                  <eye-icon />\n                </button-component>\n              )}\n              <button-component\n                type=\"button\"\n                disabled={this.isLoading}\n                clickHandler={event => {\n                  event.preventDefault();\n                  this.cancelButtonClick.emit();\n                  this.error = '';\n                }}\n                variant={'basic'}\n                part=\"editor__footer-cancel net__footer-cancel\"\n              >\n                {i18next.t('backButton')}\n              </button-component>\n              <button-component type=\"submit\" disabled={this.isLoading} part=\"editor__footer-cta, net__footer-cta\">\n                {this.isLoading ? (\n                  <span>\n                    {i18next.t('savingButtonText')}\n                    <loading-icon />{' '}\n                  </span>\n                ) : this.action === 'create' ? (\n                  `${i18next.t('createButtonText')}`\n                ) : (\n                  `${i18next.t('saveChangesButtonText')}`\n                )}\n              </button-component>\n            </div>\n          </div>\n        </form>\n        {this.showFeedbackModal && <nylas-feedback-form></nylas-feedback-form>}\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n@import '../../../common/mixins/buttons.scss';\n\n:host {\n  display: grid;\n  grid-auto-flow: row;\n  width: 100%;\n  font-family: inherit;\n  font-optical-sizing: auto;\n  @include default-css-variables;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  gap: 1rem;\n\n  @media #{$mobile} {\n    flex-direction: column;\n    gap: 0.5rem;\n    align-items: unset;\n  }\n\n  h2 {\n    margin: 0;\n    font-size: 1.25rem;\n    color: var(--nylas-base-900);\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    font-size: 16px;\n    color: var(--nylas-base-700);\n  }\n\n  .actions {\n    justify-self: end;\n\n    @media #{$mobile} {\n      width: 100%;\n    }\n  }\n}\n\n.configurations {\n  border: 1px solid var(--nylas-base-200);\n  border-radius: var(--nylas-border-radius-2x);\n  background: var(--nylas-base-0);\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow-y: hidden;\n\n  .table-container {\n    overflow-y: auto;\n    flex: 1;\n\n    table {\n      width: 100%;\n      border-spacing: 0;\n      border-collapse: collapse;\n      font-family: inherit;\n      height: max-content;\n\n      &.no-configurations {\n        height: 100%;\n      }\n\n      tr {\n        color: var(--nylas-base-800);\n        border-bottom: 1px solid var(--nylas-base-200);\n        font-family: inherit;\n\n        &.hide {\n          display: none;\n        }\n      }\n\n      th {\n        font-weight: 600;\n        text-transform: uppercase;\n        font-size: 14px;\n        line-height: 20px;\n      }\n\n      tr.no-configurations {\n        td {\n          > div {\n            display: flex;\n            height: 100%;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n\n            padding: var(--nylas-border-radius-3x);\n\n            h3 {\n              margin: 0 0 1rem 0;\n              color: var(--nylas-base-700);\n            }\n\n            p {\n              margin: 0 0 1rem 0;\n              color: var(--nylas-base-600);\n            }\n\n            calendar-icon {\n              margin-bottom: 1rem;\n              color: var(--nylas-base-200);\n            }\n          }\n        }\n      }\n\n      th,\n      td {\n        text-align: left;\n        padding: 1rem;\n        font-family: inherit;\n      }\n\n      .actions {\n        display: flex;\n        justify-content: flex-end;\n        gap: 1rem;\n        text-align: right;\n\n        @media #{$mobile} {\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        select-dropdown.last {\n          &::part(sd_dropdown-content) {\n            bottom: 54px;\n          }\n        }\n      }\n\n      .title {\n        width: 100%;\n        max-width: 300px;\n\n        @media #{$mobile} {\n          max-width: 96px;\n        }\n\n        div {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n\n          &.config-event-title {\n            font-weight: 600;\n          }\n\n          &.config-event-description {\n            font-size: 0.75rem;\n          }\n        }\n      }\n    }\n  }\n\n  .pagination {\n    padding: 1rem;\n    position: sticky;\n    top: 100%;\n    display: flex;\n    justify-content: flex-end;\n    gap: 0.5rem;\n    background: white;\n    width: calc(100% - 2rem);\n    z-index: 2;\n\n    td.arrows {\n      display: flex;\n      justify-content: flex-end;\n      gap: 0.5rem;\n    }\n\n    button {\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      height: 3vh;\n      width: 3vh;\n      min-width: 3em;\n      min-height: 3em;\n      cursor: pointer;\n      border-radius: var(--nylas-border-radius-2x);\n      border: 1px solid var(--nylas-base-300);\n\n      background-color: transparent;\n      color: var(--nylas-base-800);\n      cursor: pointer;\n\n      &:hover:not(:disabled) {\n        border: 1px solid var(--nylas-primary);\n      }\n\n      &:active {\n        border: 1px solid var(--nylas-base-800);\n      }\n\n      &:disabled {\n        border: 1px solid var(--nylas-base-100);\n        background-color: transparent;\n        color: var(--nylas-base-300);\n        cursor: not-allowed;\n      }\n\n      &.right {\n        transform: rotate(180deg);\n      }\n    }\n  }\n}\n\n.error-container {\n  margin-top: 1.5rem;\n\n  .error {\n    color: var(--nylas-error);\n    padding: 0.5rem 0;\n    margin: 1rem 0 0;\n  }\n}\n\nbutton-component#copy {\n  button {\n    width: 108px;\n  }\n}\n\nselect-dropdown {\n  width: auto;\n}\n\nselect-dropdown::part(sd_dropdown-button) {\n  display: block;\n  height: 48px;\n  padding: 0px 16px 8px;\n\n  @media #{$mobile} {\n    width: 92px;\n  }\n}\n\nselect-dropdown::part(sd_dropdown-content) {\n  width: 120px;\n  right: 0;\n}\n\nselect-dropdown::part(sd_dropdown-labelhtml) {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  color: var(--nylas-base-900);\n\n  &:hover {\n    color: var(--nylas-primary);\n  }\n}\n\n.card-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: calc(100% + 4rem);\n  width: -webkit-fill-available;\n  width: -moz-available;\n  width: fill-available;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2;\n\n  border-radius: var(--nylas-border-radius-2x);\n\n  @media #{$mobile} {\n    justify-content: start;\n    height: 100%;\n  }\n}\n\n.card-modal {\n  background: var(--nylas-base-0);\n  display: flex;\n  flex-direction: column;\n  font-family: var(--nylas-font-family);\n  background-color: var(--nylas-base-0);\n  color: var(--nylas-base-900);\n  border-radius: var(--nylas-border-radius-3x);\n  padding: 32px;\n  width: 562px;\n\n  @media #{$mobile} {\n    width: auto;\n    border-radius: 0px;\n  }\n\n  box-shadow:\n    0px 1px 4px rgba(0, 0, 0, 0.1),\n    0px 3px 6px rgba(0, 0, 0, 0.06);\n}\n\n.description {\n  &.title-desc {\n    margin-bottom: 2rem;\n  }\n\n  p {\n    margin: 0;\n    font-size: 18px;\n    color: var(--nylas-base-600);\n  }\n}\n\n.footer {\n  margin-top: 1rem;\n  padding-top: 1rem;\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  box-sizing: border-box;\n  background-color: var(--nylas-base-25);\n  width: 100%;\n  border-radius: 0 0 var(--nylas-border-radius-2x) var(--nylas-border-radius-2x);\n}\n\n.close-button {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n\n  button-component {\n    button {\n      padding: 0;\n      height: auto;\n\n      &:hover {\n        background-color: transparent !important;\n      }\n    }\n  }\n}\n\nbutton-component {\n  --dot-color: var(--nylas-base-700);\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, parsePreviewLink } from '@/utils/utils';\nimport { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\nimport i18next from '@/utils/i18n';\nimport { LANGUAGE_CODE } from '@/common/constants';\n\n/**\n * The `nylas-list-configurations` component displays a list of scheduling pages.\n *\n * @part nlc__create-new-cta - The create new configuration CTA.\n */\n@Component({\n  tag: 'nylas-list-configurations',\n  styleUrl: 'nylas-list-configurations.scss',\n  shadow: true,\n})\nexport class NylasListConfigurations {\n  /**\n   * The host element.\n   */\n  @Element() host!: HTMLNylasListConfigurationsElement;\n\n  /**\n   * The list of configurations to display.\n   */\n  @Prop() configurations: Configuration[] = [];\n\n  /**\n   * The selected language.\n   */\n  @Prop() selectedLanguage?: LANGUAGE_CODE;\n\n  /**\n   * The scheduler preview link to use when the user clicks on the preview button.\n   * You can use a placeholder `{config.id}` to replace the configuration id anywhere in the link.\n   */\n  @Prop({ attribute: 'scheduler-preview-link' }) schedulerPreviewLink: string = '';\n\n  /**\n   * The next cursor for list configurations, if any.\n   */\n  @Prop() listConfigurationsNextCursor?: string | null;\n\n  /**\n   * Event emitted when the component is initialized.\n   */\n  @Event() initListConfigurations!: EventEmitter<{\n    host: HTMLNylasListConfigurationsElement;\n    cursor?: string;\n  }>;\n\n  /**\n   * Event emitted when the user clicks the create event button.\n   */\n  @Event() createButtonClick!: EventEmitter<HTMLNylasListConfigurationsElement>;\n\n  /**\n   * Event emitted when the user clicks the edit event button.\n   */\n  @Event() editButtonClick!: EventEmitter<{\n    host: HTMLNylasListConfigurationsElement;\n    configuration: Configuration;\n  }>;\n\n  /**\n   * Event emitted when the user clicks the delete event button.\n   */\n  @Event() deleteButtonClick!: EventEmitter<{\n    host: HTMLNylasListConfigurationsElement;\n    configuration: Configuration;\n  }>;\n\n  /**\n   * The current state of the component.\n   */\n  @State() private state: 'loading' | 'loaded' | 'error' = 'loading';\n\n  /**\n   * The error message to display.\n   */\n  @State() private error: string = '';\n\n  /**\n   * Current cursor for list configurations\n   */\n  @State() currentCursor: string | null = null;\n\n  /**\n   * The list of previous cursors for list configurations\n   */\n  @State() previousCursors: string[] = [];\n\n  /**\n   * State to identiy if the next button should be disabled\n   */\n  @State() disableNextPageButton: boolean = false;\n\n  /**\n   * State to store the configuration id to delete and to show the delete confirmation modal\n   */\n  @State() deleteConfigurationId: string = '';\n\n  /**\n   * State to show Delete button loading state\n   */\n  @State() showDeleteButtonLoading: boolean = false;\n\n  @Watch('listConfigurationsNextCursor')\n  listConfigurationsNextCursorChangedHandler(newVal: string | null, oldVal: string | null) {\n    if (!newVal || newVal === oldVal) {\n      if (newVal === null) {\n        this.disableNextPageButton = true;\n      }\n      return;\n    }\n    this.disableNextPageButton = false;\n    this.currentCursor = newVal;\n  }\n\n  @Watch('selectedLanguage')\n  selectedLanguageChangedHandler(newVal: LANGUAGE_CODE, oldVal: LANGUAGE_CODE) {\n    if (newVal === oldVal) return;\n    i18next.changeLanguage(newVal);\n  }\n\n  connectedCallback() {\n    debug('[nylas-list-configurations]', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('[nylas-list-configurations]', 'componentWillLoad');\n\n    // If we have configurations, we will set the state to loaded.\n    if (this.configurations && this.configurations.length > 0) {\n      this.state = 'loaded';\n    }\n  }\n\n  componentDidLoad() {\n    debug('[nylas-list-configurations]', 'componentDidLoad');\n\n    // Fire the init event. By default, we will fetch the configurations.\n    // This is defined in the eventToProps object in the RegisterComponent decorator.\n    this.initListConfigurations.emit({\n      host: this.host,\n    });\n  }\n\n  disconnectedCallback() {\n    debug('[nylas-list-configurations]', 'disconnectedCallback');\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  async handleNylasFormDropdownChanged(event: CustomEvent) {\n    debug('[nylas-list-configurations]', 'handleNylasFormDropdownChanged', event.detail);\n    const { value } = event.detail;\n    const [action, index] = value.split('-');\n    event.preventDefault();\n    switch (action) {\n      case 'delete':\n        this.deleteConfigurationId = this.configurations[index]?.id;\n        break;\n      case 'preview':\n        window.open(parsePreviewLink(this.schedulerPreviewLink, this.configurations[index]), '_blank');\n        break;\n      case 'copy':\n        await navigator.clipboard.writeText(parsePreviewLink(this.schedulerPreviewLink, this.configurations[index]));\n        break;\n      default:\n        break;\n    }\n  }\n\n  @Method()\n  async registerCallback() {\n    // Fire the init event. By default, we will fetch the configurations.\n    // This is defined in the eventToProps object in the RegisterComponent decorator.\n    this.initListConfigurations.emit({\n      host: this.host,\n    });\n  }\n\n  @Method()\n  async getState() {\n    return this.state;\n  }\n\n  @Method()\n  async setState(state: 'loading' | 'loaded' | 'error') {\n    this.state = state;\n  }\n\n  @Method()\n  async setError(error: string) {\n    this.error = error;\n  }\n\n  @Method()\n  async hideDeleteConfirmation() {\n    this.deleteConfigurationId = '';\n    this.showDeleteButtonLoading = false;\n  }\n\n  closeModal(e: Event) {\n    e.preventDefault();\n    this.deleteConfigurationId = '';\n  }\n\n  handleConfirmDeleteButtonClicked(e: Event) {\n    e.preventDefault();\n    this.showDeleteButtonLoading = true;\n    const config = this.configurations.find(config => config.id === this.deleteConfigurationId);\n    if (config && config?.id) {\n      this.deleteButtonClick.emit({ host: this.host, configuration: config });\n    }\n  }\n\n  private getDurationString(duration: number) {\n    const hours = Math.floor(duration / 60);\n    const minutes = duration % 60;\n    return `${hours ? hours : ''} ${hours ? `${hours > 1 ? 'hours' : 'hour'}` : ''} ${minutes ? minutes : ''} ${minutes ? `${minutes > 1 ? 'mins' : 'min'}` : ''}`;\n  }\n\n  getActionLabelHTML(action: string) {\n    const actionStyle = {\n      display: 'inline-flex',\n      alignItems: 'center',\n      gap: '0.5rem',\n    };\n    const dangerStyle = {\n      color: 'var(--nylas-error)',\n    };\n    switch (action) {\n      case 'preview':\n        return (\n          <span style={actionStyle}>\n            <eye-icon width=\"16\" height=\"16\"></eye-icon>\n            {i18next.t('nylasListConfigurations.previewButtonText')}\n          </span>\n        );\n      case 'copy':\n        return (\n          <span style={actionStyle}>\n            <copy-icon width=\"16\" height=\"16\" />\n            {i18next.t('nylasListConfigurations.copyLinkButtonText')}\n          </span>\n        );\n      case 'delete':\n        return (\n          <span style={{ ...actionStyle, ...dangerStyle }}>\n            <delete-icon width=\"15\" height=\"17\"></delete-icon>\n            {i18next.t('nylasListConfigurations.deleteButtonText')}\n          </span>\n        );\n      default:\n        return '';\n    }\n  }\n\n  previousPageClickedHandler() {\n    if (this.previousCursors.length === 0) return;\n\n    this.currentCursor = this.previousCursors.pop() || null;\n    const prevCursor = this.previousCursors[this.previousCursors.length - 1] || undefined;\n    this.initListConfigurations.emit({\n      host: this.host,\n      cursor: prevCursor,\n    });\n  }\n\n  nextPageClickedHandler() {\n    if (!this.currentCursor) return;\n\n    this.previousCursors = [...this.previousCursors, this.currentCursor];\n    this.initListConfigurations.emit({\n      host: this.host,\n      cursor: this.currentCursor,\n    });\n  }\n\n  @RegisterComponent<NylasListConfigurations, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-list-configurations',\n    stateToProps: new Map([\n      ['schedulerConfig.configurations', 'configurations'],\n      ['schedulerConfig.listConfigurationsNextCursor', 'listConfigurationsNextCursor'],\n      ['schedulerConfig.selectedLanguage', 'selectedLanguage'],\n    ]),\n    localPropsToProp: new Map([['schedulerPreviewLink', 'schedulerPreviewLink']]),\n    eventToProps: {\n      initListConfigurations: async (event, connector) => {\n        const { host, cursor } = event.detail;\n        await host.setState('loading');\n        const [data, error] = await connector.schedulerConfig.getConfigurations(cursor);\n        if (!data && error && error.message) {\n          await host.setState('error');\n          await host.setError(error.message);\n          return;\n        }\n        await host.setState('loaded');\n        // setCursor here\n      },\n      createButtonClick: async (_, connector) => {\n        connector.schedulerConfigStore.resetSelectedConfiguration();\n        connector.schedulerConfigStore.state.action = 'create';\n      },\n      deleteButtonClick: async (event, connector) => {\n        const { host, configuration } = event.detail;\n        const [data, error] = await connector.schedulerConfig.deleteConfiguration(configuration.id);\n        if (!data && error && error.message) {\n          await host.setState('error');\n          await host.setError(error.message);\n        }\n        await host.hideDeleteConfirmation();\n      },\n      editButtonClick: async (event, connector) => {\n        const { configuration } = event.detail;\n        connector.schedulerConfigStore.state.selectedConfiguration = configuration;\n        connector.schedulerConfigStore.state.action = 'edit';\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"header\">\n          <div class=\"description\">\n            <h2>{i18next.t('allSchedulingPages')}</h2>\n            <p>{i18next.t('createAndManageSchedulingPages')}</p>\n          </div>\n          {this.configurations && this.configurations.length > 0 && (\n            <div class=\"actions\">\n              <button-component\n                part=\"nlc__create-new-cta\"\n                clickHandler={() => {\n                  this.createButtonClick.emit(this.host);\n                }}\n              >\n                {i18next.t('createNewSchedulingPageButtonText')}\n              </button-component>\n            </div>\n          )}\n        </div>\n        <div class=\"configurations\">\n          <div class=\"table-container\">\n            <table\n              class={{\n                'no-configurations': this.state !== 'loading' && (!this.configurations || this.configurations.length === 0),\n              }}\n            >\n              <tr\n                class={{\n                  hide: this.state === 'loading' || (this.configurations && this.configurations.length === 0),\n                }}\n              >\n                <th>{i18next.t('pageTitle')}</th>\n                <th>{i18next.t('durationTitle')}</th>\n                <th></th>\n              </tr>\n              {this.state === 'loading' && (\n                <tr class=\"no-configurations\">\n                  <td colSpan={3}>\n                    <div>\n                      <h3>{i18next.t('loading')}...</h3>\n                      <p>{i18next.t('loadingPagesDescription')}</p>\n                    </div>\n                  </td>\n                </tr>\n              )}\n              {this.state !== 'loading' && (!this.configurations || this.configurations.length === 0) && (\n                <tr class=\"no-configurations\">\n                  <td colSpan={3}>\n                    <div>\n                      <calendar-icon width=\"48\" height=\"48\"></calendar-icon>\n                      <h3>{i18next.t('noSchedulingPages')}</h3>\n                      <p>{i18next.t('createFirstSchedulingPage')}</p>\n                      <button-component\n                        part=\"nlc__create-new-cta\"\n                        clickHandler={() => {\n                          this.createButtonClick.emit(this.host);\n                        }}\n                      >\n                        {i18next.t('createNewSchedulingPageButtonText')}\n                      </button-component>\n                    </div>\n                  </td>\n                </tr>\n              )}\n              {this.state !== 'loading' &&\n                this.configurations?.map((config, i) => {\n                  const lastTwo = i === this.configurations.length - 1 || i === this.configurations.length - 2;\n                  return (\n                    <tr key={config?.id}>\n                      <td>\n                        <div class=\"title\">\n                          <div class=\"config-event-title\" title={config?.event_booking?.title}>\n                            {config?.event_booking?.title}\n                          </div>\n                          <div class={'config-event-description'}>{config?.event_booking?.description}</div>\n                        </div>\n                      </td>\n                      <td>\n                        <div class=\"duration\">{this.getDurationString(config?.availability?.duration_minutes)}</div>\n                      </td>\n                      <td>\n                        <div class=\"actions\">\n                          <button-component\n                            variant={'basic'}\n                            key={`edit-${i}`}\n                            clickHandler={event => {\n                              event.preventDefault();\n                              this.editButtonClick.emit({ host: this.host, configuration: config });\n                            }}\n                          >\n                            <edit-icon width=\"16\" height=\"16\"></edit-icon>\n                            {i18next.t('editSchedulingPageButtonText')}\n                          </button-component>\n                          <select-dropdown\n                            class={{\n                              last: lastTwo,\n                            }}\n                            name=\"actions\"\n                            options={[\n                              { value: `preview-${i}`, label: 'Preview', labelHTML: this.getActionLabelHTML('preview') },\n                              { value: `copy-${i}`, label: 'Copy link', labelHTML: this.getActionLabelHTML('copy') },\n                              { value: `delete-${i}`, label: 'Delete', labelHTML: this.getActionLabelHTML('delete') },\n                            ]}\n                            defaultSelectedOption={{ value: '', label: '' }}\n                            dropdownButtonText=\"...\"\n                            withSearch={false}\n                            withChevron={false}\n                            exportparts=\"sd_dropdown: actions__dropdown, sd_dropdown-button: actions__dropdown-button, sd_dropdown-content: actions__dropdown-content\"\n                          ></select-dropdown>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n            </table>\n          </div>\n          <div class=\"pagination\">\n            <button class=\"arrow left\" onClick={() => this.previousPageClickedHandler()} disabled={this.previousCursors.length <= 0}>\n              <chevron-icon />\n            </button>\n            <button class=\"arrow right\" onClick={() => this.nextPageClickedHandler()} disabled={this.disableNextPageButton}>\n              <chevron-icon />\n            </button>\n          </div>\n        </div>\n        {this.state === 'error' && (\n          <div class=\"error-container\">\n            <p class={'error'}>{this.error}</p>\n          </div>\n        )}\n        {!!this.deleteConfigurationId && (\n          <div class=\"card-wrapper\">\n            <div class=\"card-modal\">\n              <div class=\"close-button\">\n                <button-component tooltip=\"Close\" id=\"close\" variant={'invisible'} onClick={e => this.closeModal(e)} part=\"nfbf__close-button\">\n                  <close-icon />\n                </button-component>\n              </div>\n              <div class=\"header\">\n                <h2 slot=\"card-title\" part=\"nfbf__title\">\n                  {i18next.t('deleteSchedulingPageTitle')}\n                </h2>\n              </div>\n              <div class=\"description title-desc\">\n                <p>{i18next.t('deleteSchedulingPageDescription')}</p>\n              </div>\n              <div\n                class={{\n                  footer: true,\n                }}\n              >\n                <button-component variant={'basic'} onClick={e => this.closeModal(e)} part=\"nfbf__button-outline nfbf__cancel-cta\">\n                  {`${i18next.t('deleteSchedulingPageCancelButton')}`}\n                </button-component>\n                <button-component\n                  variant={'destructive'}\n                  onClick={e => this.handleConfirmDeleteButtonClicked(e)}\n                  disabled={this.showDeleteButtonLoading}\n                  isLoading={this.showDeleteButtonLoading}\n                  part=\"nfbf__button-outline nfbf__reschedule-cta\"\n                >\n                  {`${i18next.t('deleteSchedulingPageConfirmButton')}`}\n                </button-component>\n              </div>\n            </div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}