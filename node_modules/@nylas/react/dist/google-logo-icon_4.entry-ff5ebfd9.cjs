"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("./index-94416062.cjs"),xe=require("./register-component-a169494c-3d95c4fd.cjs"),Ce=require("./constants-91d76d21-0f7c85cc.cjs"),B=require("./feedbackSync-b5d35a5b-1343e33b.cjs");require("react");require("react-dom");const De=".sc-google-logo-icon-h{display:flex}",Ie=De,Se=class{constructor(e){t.registerInstance(this,e),this.width="24",this.height="24"}render(){return t.h("svg",{key:"3ca599e18ce6095779ded84b497b5296f17c10d2",width:this.width,height:this.height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.h("g",{key:"88b3f5f83ede3ed85a770467f48ad836405b990a","clip-path":"url(#clip0_959_12452)"},t.h("path",{key:"4e15a1ff9fd5ed8752a01653cc0313519c3979ca",d:"M23.745 12.27C23.745 11.48 23.675 10.73 23.555 10H12.255V14.51H18.725C18.435 15.99 17.585 17.24 16.325 18.09V21.09H20.185C22.445 19 23.745 15.92 23.745 12.27Z",fill:"#4285F4"}),t.h("path",{key:"1d5b9ac448e9067003693fc996d84e4a6a6fb424",d:"M12.255 24C15.495 24 18.205 22.92 20.185 21.09L16.325 18.09C15.245 18.81 13.875 19.25 12.255 19.25C9.12504 19.25 6.47505 17.14 5.52505 14.29H1.54504V17.38C3.51504 21.3 7.56504 24 12.255 24Z",fill:"#34A853"}),t.h("path",{key:"60c45db031014875d1f0c51e4d96d233ff4d739e",d:"M5.52501 14.2901C5.27501 13.5701 5.145 12.8001 5.145 12.0001C5.145 11.2001 5.28501 10.4301 5.52501 9.71012V6.62012H1.545C0.725004 8.24012 0.255005 10.0601 0.255005 12.0001C0.255005 13.9401 0.725004 15.7601 1.545 17.3801L5.52501 14.2901Z",fill:"#FBBC05"}),t.h("path",{key:"c11e6c275b10368721e0d520d98a8f57bc38acc5",d:"M12.255 4.75C14.025 4.75 15.605 5.36 16.855 6.55L20.275 3.13C18.205 1.19 15.495 0 12.255 0C7.56504 0 3.51504 2.7 1.54504 6.62L5.52505 9.71C6.47505 6.86 9.12504 4.75 12.255 4.75Z",fill:"#EA4335"})),t.h("defs",{key:"9ed8d3df0e31854c32fe754fc79877ca48ea5ab9"},t.h("clipPath",{key:"7b54dd3d596dc38980237b59f21184a00316760f",id:"clip0_959_12452"},t.h("rect",{key:"6632bab4f2645c9a5dc9f3f000a7b537d5b09f22",width:24,height:24,fill:"white"}))))}};Se.style=Ie;const Me=".sc-microsoft-logo-icon-h{display:flex}",Ne=Me,Le=class{constructor(e){t.registerInstance(this,e),this.width="22",this.height="22"}render(){return t.h("svg",{key:"970afb49d36b25194c649b69ca0f136a588c20a4",width:this.width,height:this.height,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.h("path",{key:"b3f4f95ead19fff86c4026bcf226a31a22b9c09a",d:"M0.043457 0.043457H10.4782V10.4782H0.043457V0.043457Z",fill:"#F35325"}),t.h("path",{key:"425e0c099da7b5e3637665f2b9240aab9dd43589",d:"M11.5217 0.043457H21.9565V10.4782H11.5217V0.043457Z",fill:"#81BC06"}),t.h("path",{key:"2f531126f18dd92603d2caaa31dfaf8a3dac3c9f",d:"M0.043457 11.5217H10.4782V21.9565H0.043457V11.5217Z",fill:"#05A6F0"}),t.h("path",{key:"b500f059a84c5223d1688410bc8378e02fc87156",d:"M11.5217 11.5217H21.9565V21.9565H11.5217V11.5217Z",fill:"#FFBA08"}))}};Le.style=Ne;var r;(function(e){e.EventInfo="eventInfo",e.Availability="availability",e.BookingOptions="bookingOptions",e.Communications="communications",e.Participants="participants",e.BookingForm="bookingForm",e.PageStyles="pageStyles"})(r||(r={}));function Ue({id:e,formState:n,activeTab:a,i18next:i},o){return t.h(t.Fragment,null,t.h("div",{key:`event-info-${e}`,class:{hide:a!==r.EventInfo}},t.h("nylas-event-info",null,t.h("div",{slot:"inputs"},t.h("nylas-event-title",{name:"title",exportparts:"net, net__title, net__dropdown-content"}),t.h("nylas-event-duration",{name:"duration",exportparts:"ned, ned__dropdown, ned__dropdown-button, ned__dropdown-content, ned__input_dropdown, ned__input_dropdown-input, ned__input_dropdown-content"}),t.h("nylas-event-location",{name:"location",exportparts:"nel, nel__location, nel__dropdown, nel__dropdown-button, nel__dropdown-content"}),t.h("nylas-event-description",{name:"description",exportparts:"nedesc, nedesc__textarea"})))),t.h("div",{key:`availability-${e}`,class:{hide:a!==r.Availability}},t.h("nylas-participant-booking-calendars",{participants:n.participants,name:"participant-booking-calendars",exportparts:"npbc, npbc__header, npbc__content, npbc__participant-container, npbc__participant-title"}),t.h("nylas-connected-calendars",{participants:n.participants,name:"connected-calendars",exportparts:"nccals, nccals__header, nccals__content, nccals__container, nccals__title, nccals__toggle-container, npbc__participant-toggle-container"}),t.h("nylas-availability-picker",{name:"availability",exportparts:"nap, nap__header, nap__select-timezone, nap__select-timezone-button, nap__select-timezone-dropdown-content, nap__availability, nap__day, nap__time-ranges, nap__time-range, nap__add-time-range, nap__time-picker-container, nap__time-picker-input, nap__time-picker-times"})),t.h("div",{key:`booking-options-${e}`,class:{hide:a!==r.BookingOptions}},t.h("nylas-scheduling-method",{name:"availability-method",readOnly:!0,exportparts:"nsm, nsm__header, nsm__input-label, nsm__dropdown, nsm__dropdown-button, nsm__dropdown-content"}),t.h("nylas-custom-booking-flow",{exportparts:"ncbflow, ncbflow__header, ncbflow__title, ncbflow__content"},t.h("div",{slot:"inputs"},t.h("nylas-booking-confirmation-type",{name:"confirmation-type",exportparts:"nbct, nbct__header, nbct__dropdown, nbct__dropdown-button, nbct__dropdown-content"}),t.h("nylas-booking-confirmation-redirect",{name:"confirmation-redirect",exportparts:"nbcr, nbcr__header, nbcr__dropdown, nbcr__dropdown-button, nbcr__dropdown-content, nbcr__input-textfield"}))),t.h("nylas-buffer-time",{name:"buffer-time",exportparts:"nbt, nbt__header, nbt__body, nbt__dropdown-before, nbt__dropdown-button-before, nbt__dropdown-content-before, nbt__dropdown-after, nbt__dropdown-button-after, nbt__dropdown-content-after, nbt__preview"}),t.h("nylas-event-limits",null,t.h("div",{slot:"inputs"},t.h("nylas-min-booking-notice",{name:"min-booking-notice",exportparts:"nmbn, nmbn__number-dropdown, nmbn__number-dropdown-button, nmbn__number-dropdown-content, nmbn__period-dropdown, nmbn__period-dropdown-button, nmbn__period-dropdown-content"}),t.h("nylas-limit-future-bookings",{name:"limit-future-bookings",exportparts:"nlfb, nlfb__number-dropdown, nlfb__number-dropdown-button, nlfb__number-dropdown-content, nlfb__period-dropdown, nlfb__period-dropdown-button, nlfb__period-dropdown-content"}),t.h("nylas-min-cancellation-notice",{name:"min-cancellation-notice",exportparts:"nmcn, nmcn__number-dropdown, nmcn__number-dropdown-button, nmcn__number-dropdown-content, nmcn__period-dropdown, nmcn__period-dropdown-button, nmcn__period-dropdown-content"}),t.h("nylas-cancellation-policy",{name:"cancellation-policy",exportparts:"ncpolicy, ncpolicy__textarea"}))),t.h("nylas-timeslot-interval",{name:"timeslot-interval",exportparts:"nti, nti__header, nti__input-label, nti__dropdown, nti__dropdown-button, nti__dropdown-content"}),t.h("nylas-customize-booking-settings",{name:"customize-booking-settings",exportparts:"ncbs, ncbs__header, ncbs__settings, ncbs__settings-div, ncbs__additional_guests, ncbs__cancellation_options, ncbs__rescheduling_options"})),t.h("div",{key:`communications-${e}`,class:{hide:a!==r.Communications}},t.h("div",{class:"tab-header"},t.h("h3",null,i.t("eventCommunicationsTitle")),t.h("p",null,i.t("eventCommunicationsDescription"))),t.h("nylas-confirmation-email",{name:"confirmation-email-template",exportparts:"nce, nce__tab-heading, nce__header, nce__body, nce__confirmation-email-toggle--container, nce__summary, nce__reminder-input_dropdown, nce__reminder-input_dropdown-input, nce__reminder-input_dropdown-content"}),t.h("nylas-reminder-emails",{name:"reminder-emails",exportparts:"nre, nre__tab-heading, nre__header, nre__body, nre__confirmation-email-toggle--container, nre__summary, nrt, nrt__number-dropdown, nrt__number-dropdown-button, nrt__number-dropdown-content, nrt__period-dropdown, nrt__period-dropdown-button, nrt__period-dropdown-content, nrt__time-period-selector"})),t.h("div",{key:`participants-${e}`,class:{hide:a!==r.Participants}},t.h("nylas-additional-participants",{name:"participants",exportparts:"nap, nap__title, nap__subtitle, nap__content, nap__input_group, nap__input_wrapper, nap__input, nap__remove-participant"}),t.h("nylas-participants-custom-availability",{participants:n.participants,name:"participant-custom-availability",exportparts:"npca, npca__header, npca__content, npca__participant-container, npca__participant-title, npca__participant-toggle--container, npca__toggle-label, npca__toggle-input, npca__toggle-slider"})),t.h("div",{key:`page-styles-${e}`,class:{hide:a!==r.PageStyles}},t.h("nylas-custom-event-slug",{name:"custom-event-slug",exportparts:"nces, nces__body, nces__header, nces__drawer-toggle--container, nces__input-textfield"}),t.h("nylas-page-name",{name:"page-name",exportparts:"npn, npn__body, npn__header, npn__drawer-toggle--container, npn__input-textfield"}),t.h("nylas-page-styling",{name:"page-styling",exportparts:"nps, nps__header, nps__drawer-toggle--container, nps__body, nps__title-input-textfield, nps__company-logo-input-textfield, nps__color-picker, nps__color-picker-button, nps__color-picker-button-label, nps__color-picker-selected-label, nps__submit-button-label-input-textfield, nps__message-textarea"},o)),t.h("div",{key:`booking-form-${e}`,class:{hide:a!==r.BookingForm}},t.h("nylas-booking-form-config",{name:"additional-fields",exportparts:"nbfc, nbfc__header, nbfc__add_field, nbfc__add_field-button, nbfc__add_field-content, nbfc__additional_fields, nbfc__form-field, nbfc__form-field-header, nbfc__form-field-content"})))}const ze='.sc-nylas-editor-tabs-h{display:block;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif}.scheduler-editor.sc-nylas-editor-tabs{display:flex;flex-direction:column;height:inherit}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs{height:calc(100% - 80px);display:grid;grid-template-columns:minmax(224px, 25%) 1fr}@media screen and (max-width: 768px){.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs{display:table-column-group;height:auto}}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs{display:flex;flex-direction:column;border-right:1px solid var(--nylas-base-200);background-color:var(--nylas-base-25)}@media screen and (max-width: 768px){.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs{border-right:none}}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs .tab.sc-nylas-editor-tabs{display:flex;align-items:center;text-align:left;gap:0.5rem;padding:0.5rem 1rem;color:var(--nylas-base-900);background:var(--nylas-base-0);border:none;height:56px;font-family:var(--nylas-font-family);font-size:16px;font-weight:500;line-height:24px;cursor:pointer}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs .tab.sc-nylas-editor-tabs:not(:first-of-type){margin-top:0.25rem}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs .tab.sc-nylas-editor-tabs:last-of-type{margin-bottom:0.25rem}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs .tab.active.sc-nylas-editor-tabs{font-weight:600;background:var(--nylas-base-0);color:var(--nylas-primary);border-left:4px solid var(--nylas-primary);box-shadow:0px 1px 2px 0px rgba(0, 0, 0, 0.0588235294);box-shadow:0px 1px 3px 0px rgba(0, 0, 0, 0.1019607843)}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tabs.sc-nylas-editor-tabs .tab.hide.sc-nylas-editor-tabs{display:none}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs{max-width:692px;overflow-y:auto;overflow-x:hidden}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs .hide.sc-nylas-editor-tabs{display:none}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs nylas-event-info.sc-nylas-editor-tabs,.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs nylas-event-limits.sc-nylas-editor-tabs{width:inherit}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs nylas-event-info.sc-nylas-editor-tabs div[slot=inputs].sc-nylas-editor-tabs,.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs nylas-event-limits.sc-nylas-editor-tabs div[slot=inputs].sc-nylas-editor-tabs{display:flex;flex-direction:column;gap:1rem}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs .tab-header.sc-nylas-editor-tabs{display:flex;flex-direction:column;margin:1rem 1rem 0.5rem;row-gap:4px}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs .tab-header.sc-nylas-editor-tabs h3.sc-nylas-editor-tabs{margin:0;font-size:16px;font-weight:600;line-height:20px;color:var(--nylas-base-900);text-align:left}.scheduler-editor.sc-nylas-editor-tabs .form-contents.sc-nylas-editor-tabs .tab-content.sc-nylas-editor-tabs .tab-header.sc-nylas-editor-tabs p.sc-nylas-editor-tabs{margin:0;font-size:0.875rem;font-weight:400;line-height:20px;color:var(--nylas-base-600);text-align:left}.footer.sc-nylas-editor-tabs{display:flex;justify-content:space-between;align-items:center;gap:1rem;min-height:80px;padding:0 1rem;border-top:1px solid var(--nylas-base-200)}@media screen and (max-width: 768px){.footer.sc-nylas-editor-tabs{flex-direction:column;height:auto}}@media screen and (max-width: 768px){.footer.sc-nylas-editor-tabs .preview.sc-nylas-editor-tabs{margin-top:1rem;width:100%}}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs{display:flex;justify-content:flex-end;align-items:center;justify-self:flex-end;gap:1rem}@media screen and (max-width: 768px){.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs{flex-direction:column-reverse;width:100%}}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs p.sc-nylas-editor-tabs{max-width:524px}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs p.unsaved-changes.sc-nylas-editor-tabs{color:var(--nylas-base-600)}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs p.saved-changes.sc-nylas-editor-tabs{color:var(--nylas-success)}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs p.error.sc-nylas-editor-tabs{color:var(--nylas-error)}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs p.error-full-width.sc-nylas-editor-tabs{max-width:660px}@media screen and (max-width: 768px){.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs button-component.sc-nylas-editor-tabs{width:100%}}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs button.sc-nylas-editor-tabs{background:var(--nylas-primary);color:var(--nylas-base-0);height:48px;border:none;border-radius:var(--nylas-border-radius-2x);font-size:16px;line-height:24px;padding:0 1rem;cursor:pointer;width:148px}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs button.sc-nylas-editor-tabs:hover{background:var(--nylas-base-600)}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs button.sc-nylas-editor-tabs:active{background:var(--nylas-base-800)}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs button.sc-nylas-editor-tabs:disabled{background:var(--nylas-base-300);cursor:not-allowed}.footer.sc-nylas-editor-tabs .buttons.sc-nylas-editor-tabs button.sc-nylas-editor-tabs span.sc-nylas-editor-tabs{display:flex;align-items:center;justify-content:center;gap:0.5rem}button-component#report-issue.sc-nylas-editor-tabs{width:auto}nylas-feedback-form.sc-nylas-editor-tabs{position:absolute;top:0;height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0, 0, 0, 0.6);z-index:2;border-radius:inherit}',Re=ze;var Ae=function(e,n,a,i){var o=arguments.length,s=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,a):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,n,a,i);else for(var l=e.length-1;l>=0;l--)(c=e[l])&&(s=(o<3?c(s):o>3?c(n,a,s):c(n,a))||s);return o>3&&s&&Object.defineProperty(n,a,s),s},W=function(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)};const Q=class{constructor(e){t.registerInstance(this,e),this.schedulerConfigChanged=t.createEvent(this,"schedulerConfigChanged",7),this.schedulerConfigCreated=t.createEvent(this,"schedulerConfigCreated",7),this.cancelButtonClick=t.createEvent(this,"cancelButtonClick",7),this.formSubmitted=t.createEvent(this,"formSubmitted",7),this.previewButtonClicked=t.createEvent(this,"previewButtonClicked",7),this.schedulerEditorFormUpdated=t.createEvent(this,"schedulerEditorFormUpdated",7),this.formSubmissionHandler=async n=>{var Y,ee,te,ne,ae,ie,se,oe,re,le,de,ce,he,be,ue,pe,me;n.preventDefault();const a=await this.formSubmitted.emit();if(t.debug("[nylas-editor-tabs]","formSubmissionHandler",a),!this.formRef.checkValidity()||a.defaultPrevented){this.error=this.formRef.validationMessage||"Please fix the form errors.";return}this.isLoading=!0,this.hasUnsavedChanges=!1;const o=this.updateFormState();t.debug("[nylas-editor-tabs]","formState",o);const{title:s,description:c,duration:l,availability:h,bookingCalendar:m,location:C,bookingType:x,buffer:E,availableDaysInFuture:H,minCancellationNotice:O,minBookingNotice:D,cancellationPolicy:I,timeslotInterval:v,additionalGuestsHidden:M,hideCancellationOptions:N,hideReschedulingOptions:U,participants:_,participantOpenHours:u,additionalFields:z,participantCalendars:f,conferencing:R,participantBookingCalendars:p,reminders:A,emailTemplate:j,redirectUrl:$,availabilityMethod:T,slug:J,appearance:V,name:Z}=o,b=((ee=(Y=this.selectedConfiguration)==null?void 0:Y.participants)==null?void 0:ee.find(d=>d.is_organizer))||(_==null?void 0:_.find(d=>d.is_organizer)),k=f&&(b!=null&&b.email)?f[b==null?void 0:b.email]:[],g=((te=b==null?void 0:b.booking)==null?void 0:te.calendar_id)||m,y=l?parseInt(l):30,w=_&&(_==null?void 0:_.length)>0?_:[{name:(b==null?void 0:b.name)??((ne=this.currentUser)==null?void 0:ne.name)??"",email:(b==null?void 0:b.email)??((ae=this.currentUser)==null?void 0:ae.email)??"",is_organizer:!0,timezone:(h==null?void 0:h.timezone)??Intl.DateTimeFormat().resolvedOptions().timeZone,availability:{calendar_ids:m&&m!==""?[m]:["primary"],open_hours:[]},booking:{calendar_id:m&&m!==""?m:"primary"}}],F={...((ie=this.selectedConfiguration)==null?void 0:ie.id)&&{id:this.selectedConfiguration.id},version:((se=this.selectedConfiguration)==null?void 0:se.version)??"1.0.0",slug:J,name:Z,availability:{duration_minutes:y,interval_minutes:(v==null?void 0:v.interval)??y,round_to:v==null?void 0:v.roundTo,availability_rules:{availability_method:T||(((le=(re=(oe=this.selectedConfiguration)==null?void 0:oe.availability)==null?void 0:re.availability_rules)==null?void 0:le.availability_method)??"collective"),buffer:E||{before:0,after:0},default_open_hours:(h==null?void 0:h.openHours)??((he=(ce=(de=this.selectedConfiguration)==null?void 0:de.availability)==null?void 0:ce.availability_rules)==null?void 0:he.default_open_hours)??Ce.DEFAULT_OPEN_HOURS,round_robin_group_id:((pe=(ue=(be=this.selectedConfiguration)==null?void 0:be.availability)==null?void 0:ue.availability_rules)==null?void 0:pe.round_robin_group_id)??""}},participants:[...w?w.map(d=>{var fe,ge,ye,_e,ve,we;let L=(h==null?void 0:h.timezone)??Intl.DateTimeFormat().resolvedOptions().timeZone;if((fe=u==null?void 0:u[d.email])!=null&&fe.length&&(L=(ye=(ge=u==null?void 0:u[d.email])==null?void 0:ge[0])==null?void 0:ye.timezone),d.is_organizer){const ke=p!=null&&p[d.email]?p==null?void 0:p[d.email]:g||"primary",G=f!=null&&f[d.email]?f==null?void 0:f[d.email]:k!=null&&k.length?k:["primary"],Oe=G.length===1&&G[0]==="primary";return{name:d.name??"",email:d.email,is_organizer:!0,timezone:L,availability:{calendar_ids:Oe?[ke]:G,open_hours:(u==null?void 0:u[d.email])??((_e=d.availability)==null?void 0:_e.open_hours)??[]},booking:{calendar_id:ke}}}const P=p!=null&&p[d.email]?{calendar_id:p==null?void 0:p[d.email]}:(d==null?void 0:d.booking)??void 0,q=(f==null?void 0:f[d.email])??((ve=d.availability)==null?void 0:ve.calendar_ids)??["primary"],He=q.length===1&&q[0]==="primary";return{...d,timezone:L,availability:d.availability?{calendar_ids:He&&typeof P<"u"?[P==null?void 0:P.calendar_id]:q,open_hours:(u==null?void 0:u[d.email])??((we=d.availability)==null?void 0:we.open_hours)??[]}:void 0,booking:P}}):[]],event_booking:{title:(s==null?void 0:s.toString())??"",description:(c==null?void 0:c.toString())??"",location:(C==null?void 0:C.toString())??"",booking_type:(x==null?void 0:x.toString())??"booking",timezone:(h==null?void 0:h.timezone)??Intl.DateTimeFormat().resolvedOptions().timeZone,conferencing:R,reminders:A},scheduler:{cancellation_policy:I??"",available_days_in_future:H??30,min_cancellation_notice:O??0,min_booking_notice:D??60,hide_additional_guests:M??!1,hide_cancellation_options:N??!1,hide_rescheduling_options:U??!1,additional_fields:z,email_template:j,confirmation_redirect_url:$},appearance:V},Te=t.mergeDeep(this.selectedConfiguration,F||{}),S=this.action==="create"?Te:F;this.isConfigRoundRobin(S)&&(S.participants=S.participants.map(d=>({...d,is_organizer:void 0})));const Fe=d=>{this.isLoading=!1,this.changesSaved=!0,setTimeout(()=>{this.changesSaved=!1},5e3)},Pe=this.checkForBookingFormErrors(S),Be=((me=this.configurations)==null?void 0:me.find(d=>{var L;return d.id===((L=this.selectedConfiguration)==null?void 0:L.id)}))||{},Ee=this.checkForOrganizerConfirmationError(t.mergeDeep(S,Be));Pe||Ee||this.schedulerConfigChanged.emit({config:S,resetLoadingState:Fe,action:this.action,host:this.host})},this.isConfigRoundRobin=n=>{var a,i,o,s;return((i=(a=n==null?void 0:n.availability)==null?void 0:a.availability_rules)==null?void 0:i.availability_method)==="max-availability"||((s=(o=n.availability)==null?void 0:o.availability_rules)==null?void 0:s.availability_method)==="max-fairness"},this.checkForOrganizerConfirmationError=n=>{var c,l;let a=!1,i="";const o=((c=n.event_booking)==null?void 0:c.booking_type)==="organizer-confirmation",s=(l=n.scheduler)==null?void 0:l.organizer_confirmation_url;return o&&!s&&(i+="Organizer confirmation URL is required when using organizer confirmation booking type.",a=!0),a&&(this.isLoading=!1,this.host.setError(new Error(i))),a},this.checkForBookingFormErrors=n=>{var s;let a=!1,i="";const o=(s=n.scheduler)==null?void 0:s.additional_fields;return o&&(i="Booking form error: ",Object.entries(o).forEach(c=>{const l=c[1];if(l.label===""){i+=`Label is required for field of type ${l.type}.`,a=!0;return}if(l.options){for(const h of l.options)if(h.trim()===""){i+=`Empty option detected inside ${l.label} of type ${l.type}.`,a=!0;break}}})),a&&(this.isLoading=!1,this.host.setError(new Error(i))),a},this.calendars=void 0,this.selectedConfiguration=void 0,this.configurations=void 0,this.currentUser=void 0,this.schedulerPreviewLink="",this.mode="app",this.hideEditorTabs=[],this.enableUserFeedback=!0,this.selectedLanguage=void 0,this.action="create",this.showFeedbackModal=!1,this.activeTab=r.EventInfo,this.isLoading=!1,this.hasUnsavedChanges=!1,this.changesSaved=!1,this.formState={},this.error=""}configChangedHandler(e){t.debug("[nylas-editor-tabs]","configChangedHandler",e,this.selectedConfiguration),this.formState={...this.getFormStateFromConfig(e)},e!=null&&e.id?this.action="edit":this.action="create"}userChangedHandler(e){t.debug("[nylas-editor-tabs]","userChangedHandler",e),e&&(this.formState={...this.getFormStateFromConfig(this.selectedConfiguration)})}selectedLanguageChangedHandler(e,n){e!==n&&t.instance.changeLanguage(e)}async schedulerConfigCreatedEventHandler(e){return this.schedulerConfigCreated.emit(e)}async setError(e){this.error=e.message}connectedCallback(){t.debug("[nylas-editor-tabs]","connectedCallback")}componentWillLoad(){t.debug("[nylas-editor-tabs]","componentWillLoad"),this.formState=this.getFormStateFromConfig(this.selectedConfiguration)}componentDidLoad(){var n,a;t.debug("[nylas-editor-tabs]","componentDidLoad"),this.enableUserFeedback&&!B.isInitialized()&&B.init({dsn:"https://9d5731f1c77ca84c9ed3fb9b3ccf7ee1@o74852.ingest.us.sentry.io/4507889638178816",release:"1.3.4",integrations:i=>[...i.filter(o=>!1),B.feedbackSyncIntegration({colorScheme:"system",autoInject:!1})],autoSessionTracking:!1,beforeSend:()=>null}),(n=this.selectedConfiguration)!=null&&n.id&&this.configChangedHandler(this.selectedConfiguration);const e=(a=this.host.querySelector("button.tab:not(.hide)"))==null?void 0:a.name;e&&(this.activeTab=e)}disconnectedCallback(){t.debug("[nylas-editor-tabs]","disconnectedCallback")}handleValueChanged(e){t.debug("[nylas-editor-tabs]","handleValueChanged",e);const{name:n,value:a}=e.detail;this.setFormState(a,n),this.formState={...this.formState},this.hasUnsavedChanges=!0,this.error="",this.schedulerEditorFormUpdated.emit({value:e.detail.value,name:e.detail.name})}feedbackModalClosedHandler(){this.showFeedbackModal=!1}feedbackSubmittedHandler(e){var i,o;const a={eventId:B.captureMessage("Scheduler Editor User Feedback"),message:e.detail.feedback};B.captureFeedback(a,{includeReplay:!0,captureContext:{tags:{"nylas-web-element":"nylas-scheduler-editor","nylas-web-element-version":"1.3.4"},extra:{configId:(i=this.selectedConfiguration)==null?void 0:i.id,slug:(o=this.selectedConfiguration)==null?void 0:o.slug}}}),this.showFeedbackModal=!1}getFormStateFromConfig(e){var a,i,o,s,c,l,h,m,C,x,E,H,O,D,I,v,M,N,U,_,u,z,f,R,p,A,j,$,T,J,V,Z,b,k;let n=(a=e==null?void 0:e.participants)==null?void 0:a.find(g=>g.is_organizer);return!n&&((o=(i=e==null?void 0:e.availability)==null?void 0:i.availability_rules)==null?void 0:o.availability_method)!=="collective"&&(n=(s=e==null?void 0:e.participants)==null?void 0:s.find(g=>{var y;return g.email===((y=this.currentUser)==null?void 0:y.email)}),n&&(n.is_organizer=!0)),e!=null&&e.appearance&&console.info("Appearance settings have been returned from the given configuration; please remember to grab them from the configSettingsLoaded event and apply them as desired."),{title:((c=e==null?void 0:e.event_booking)==null?void 0:c.title)??"",description:((l=e==null?void 0:e.event_booking)==null?void 0:l.description)??"",duration:((m=(h=e==null?void 0:e.availability)==null?void 0:h.duration_minutes)==null?void 0:m.toString())??"30",availability:{timezone:((C=e==null?void 0:e.event_booking)==null?void 0:C.timezone)??Intl.DateTimeFormat().resolvedOptions().timeZone,openHours:((E=(x=e==null?void 0:e.availability)==null?void 0:x.availability_rules)==null?void 0:E.default_open_hours)??Ce.DEFAULT_OPEN_HOURS},additionalFields:((H=e==null?void 0:e.scheduler)==null?void 0:H.additional_fields)??{},conferencing:((O=e==null?void 0:e.event_booking)==null?void 0:O.conferencing)??{},calendarIds:((D=n==null?void 0:n.availability)==null?void 0:D.calendar_ids)??[],participants:(e==null?void 0:e.participants)??[],bookingCalendar:((I=n==null?void 0:n.booking)==null?void 0:I.calendar_id)??(n==null?void 0:n.email)??"",location:((v=e==null?void 0:e.event_booking)==null?void 0:v.location)??"",bookingType:((M=e==null?void 0:e.event_booking)==null?void 0:M.booking_type)??"booking",buffer:((U=(N=e==null?void 0:e.availability)==null?void 0:N.availability_rules)==null?void 0:U.buffer)??{before:0,after:0},cancellationPolicy:((_=e==null?void 0:e.scheduler)==null?void 0:_.cancellation_policy)??"",availableDaysInFuture:((u=e==null?void 0:e.scheduler)==null?void 0:u.available_days_in_future)??30,minCancellationNotice:((z=e==null?void 0:e.scheduler)==null?void 0:z.min_cancellation_notice)??0,minBookingNotice:((f=e==null?void 0:e.scheduler)==null?void 0:f.min_booking_notice)??60,timeslotInterval:{interval:((R=e==null?void 0:e.availability)==null?void 0:R.interval_minutes)??((p=e==null?void 0:e.availability)==null?void 0:p.duration_minutes),roundTo:(A=e==null?void 0:e.availability)==null?void 0:A.round_to},additionalGuestsHidden:((j=e==null?void 0:e.scheduler)==null?void 0:j.hide_additional_guests)??!1,hideCancellationOptions:(($=e==null?void 0:e.scheduler)==null?void 0:$.hide_cancellation_options)??!1,hideReschedulingOptions:((T=e==null?void 0:e.scheduler)==null?void 0:T.hide_rescheduling_options)??!1,participantBookingCalendars:((J=e==null?void 0:e.participants)==null?void 0:J.reduce((g,y)=>{var w,F;return(w=y.booking)!=null&&w.calendar_id&&(g[y.email]=(F=y.booking)==null?void 0:F.calendar_id),g}))??{},participantCalendars:((V=e==null?void 0:e.participants)==null?void 0:V.reduce((g,y)=>{var w;return g[y.email]=(w=y.availability)==null?void 0:w.calendar_ids,g},{}))??{},reminders:(Z=e==null?void 0:e.event_booking)==null?void 0:Z.reminders,emailTemplate:(b=e==null?void 0:e.scheduler)==null?void 0:b.email_template,redirectUrl:(k=e==null?void 0:e.scheduler)==null?void 0:k.confirmation_redirect_url,slug:e==null?void 0:e.slug,appearance:e==null?void 0:e.appearance,name:e==null?void 0:e.name}}setFormState(e,n){switch(n){case"title":this.formState.title=e.toString();break;case"description":this.formState.description=e.toString();break;case"duration":this.formState.duration=e.toString();break;case"availability":this.formState.availability=JSON.parse(e.toString());break;case"participants":this.formState.participants=JSON.parse(e.toString());break;case"booking-calendar":this.formState.bookingCalendar=e.toString();break;case"participant-booking-calendars":this.formState.participantBookingCalendars=JSON.parse(e.toString());break;case"location":this.formState.location=e.toString();break;case"conference":this.formState.conferencing=JSON.parse(e.toString());break;case"confirmation-type":this.formState.bookingType=e.toString();break;case"buffer-time":this.formState.buffer=JSON.parse(e.toString());break;case"limit-future-bookings":this.formState.availableDaysInFuture=parseInt(e.toString());break;case"min-cancellation-notice":this.formState.minCancellationNotice=parseInt(e.toString());break;case"min-booking-notice":this.formState.minBookingNotice=parseInt(e.toString());break;case"cancellation-policy":this.formState.cancellationPolicy=e.toString();break;case"timeslot-interval":this.formState.timeslotInterval=JSON.parse(e.toString());break;case"customize-booking-settings":{const a=JSON.parse(e.toString());this.formState.additionalGuestsHidden=a.additionalGuestsHidden,this.formState.hideCancellationOptions=a.hideCancellationOptions,this.formState.hideReschedulingOptions=a.hideReschedulingOptions;break}case"participant-custom-availability":{const a=JSON.parse(e.toString());this.formState.participantOpenHours=a;break}case"additional-fields":this.formState.additionalFields=e;break;case"connected-calendars":this.formState.participantCalendars=JSON.parse(e.toString());break;case"confirmation-email-template":this.formState.emailTemplate=JSON.parse(e.toString());break;case"reminder-overrides":this.formState.reminders=JSON.parse(e.toString());break;case"confirmation-redirect":this.formState.redirectUrl=e.toString();break;case"availability-method":this.formState.availabilityMethod=e.toString();break;case"custom-event-slug":console.debug("custom-event-slug",e),this.formState.slug=JSON.parse(e.toString());break;case"page-styling":this.formState.appearance=JSON.parse(e.toString());break;case"page-name":this.formState.name=JSON.parse(e.toString());break}this.schedulerEditorFormUpdated.emit({value:e,name:n})}updateFormState(){return new FormData(this.formRef).forEach((n,a)=>{this.setFormState(n,a)}),this.formState={...this.formState},this.formState}setActiveTab(e,n){e.preventDefault(),this.updateFormState(),this.activeTab=n}hideTab(e){var n;return((n=this.hideEditorTabs)==null?void 0:n.includes(e))||!1}onFeedbackClick(e){e.preventDefault(),this.showFeedbackModal=!0}render(){var e,n;return t.debug("[nylas-editor-tabs]","render",this.formState),t.h(t.Host,{key:"afd735b73e35d8abfa9c83d21ab8307b07df48e6"},t.h("form",{key:"7d7093deb88e6ec8e636092e4bcbadf03916a994",onSubmit:this.formSubmissionHandler,class:"scheduler-editor",ref:a=>this.formRef=a,noValidate:!0},this.mode==="app"?t.h("div",{class:"form-contents",part:"editor__form-contents net__form-contents"},t.h("div",{class:"tabs",part:"editor__tabs net__tabs"},t.h("button",{name:r.EventInfo,class:{tab:!0,active:this.activeTab==r.EventInfo,hide:this.hideTab(r.EventInfo)},part:"editortab__event-info net__tab-event-info",onClick:a=>this.setActiveTab(a,r.EventInfo)},t.h("calendar-info-icon",{width:"16",height:"16"}),t.instance.t("eventInfoTab")),t.h("button",{name:r.Availability,class:{tab:!0,active:this.activeTab==r.Availability,hide:this.hideTab(r.Availability)},part:"editortab__availability net__tab-availability",onClick:a=>this.setActiveTab(a,r.Availability)},t.h("calendar-patterns-icon",{width:"16",height:"16"}),t.instance.t("availabilityTab")),t.h("button",{name:r.Participants,class:{tab:!0,active:this.activeTab==r.Participants,hide:this.hideTab(r.Participants)},part:"editortab__participants net__tab-participants",onClick:a=>this.setActiveTab(a,r.Participants)},t.h("people-icon",{width:"16",height:"16"}),t.instance.t("participantsTab")),t.h("button",{name:r.BookingOptions,class:{tab:!0,active:this.activeTab==r.BookingOptions,hide:this.hideTab(r.BookingOptions)},part:"editortab__booking-options net__tab-booking-options",onClick:a=>this.setActiveTab(a,r.BookingOptions)},t.h("flow-icon",{width:"16",height:"16"}),t.instance.t("bookingOptionsTab")),t.h("button",{name:r.BookingForm,class:{tab:!0,active:this.activeTab=="bookingForm",hide:this.hideTab(r.BookingForm)},part:"editortab__booking-form net__tab-booking-form",onClick:a=>this.setActiveTab(a,r.BookingForm)},this.activeTab==r.BookingForm?t.h("calendar-agenda-fill-icon",{width:"16",height:"16"}):t.h("calendar-agenda-icon",{width:"16",height:"16"}),t.instance.t("bookingFormTab")),t.h("button",{name:r.Communications,class:{tab:!0,active:this.activeTab=="communications",hide:this.hideTab(r.Communications)},onClick:a=>this.setActiveTab(a,r.Communications),part:"editortab__communications net__tab-communications"},this.activeTab==r.Communications?t.h("envelope-fill-icon",{width:"16",height:"16"}):t.h("envelope-icon",{width:"16",height:"16"}),t.instance.t("communicationsTab")),t.h("button",{name:r.PageStyles,class:{tab:!0,active:this.activeTab=="pageStyles",hide:this.hideTab(r.PageStyles)},onClick:a=>this.setActiveTab(a,r.PageStyles),part:"editortab__page-styles net__tab-page-styles"},this.activeTab==r.PageStyles?t.h("paintbrush-fill-icon",{width:"16",height:"16"}):t.h("paintbrush-icon",{width:"16",height:"16"}),t.instance.t("pageStylesTab"))),t.h("div",{class:"tab-content",part:"editor__tab-content net__tab-content"},t.h(Ue,{formState:this.formState,activeTab:this.activeTab,currentUser:this.currentUser,calendars:this.calendars,id:((e=this.selectedConfiguration)==null?void 0:e.id)??"new",i18next:t.instance}))):t.h("div",{class:"composable",key:(n=this.selectedConfiguration)==null?void 0:n.id},t.h("slot",null)),t.h("div",{key:"d2d76b6b587c13a32dfc749f4fea4b47102923f0",class:"footer",part:"editor__footer net__footer"},t.h("div",{key:"7714cacce55f8b8e06e60f289ef02fe8e336419c",class:"preview",part:"editor__footer-preview net__footer-preview"},this.enableUserFeedback&&t.h("button-component",{title:"Share your feedback",id:"report-issue",variant:"basic",onClick:a=>this.onFeedbackClick(a)},t.h("feedback-icon",null))),t.h("div",{key:"54d1b26ae9e1ffc22fbe679e40ad0ec40f4df3fb",class:"buttons",part:"editor__footer-buttons net__footer-buttons"},t.h("p",{key:"e443a0cc63281f971bbdf7349e1adbb88abb42a9",class:{"unsaved-changes":this.hasUnsavedChanges&&!this.changesSaved,"saved-changes":this.changesSaved,error:this.error!=="","error-full-width":this.error!==""&&this.action==="create"}},this.error!==""?this.error:"",this.error==""&&this.hasUnsavedChanges&&!this.changesSaved?"Unsaved changes":this.error==""&&this.changesSaved?"Changes saved!":""),this.schedulerPreviewLink!==""&&this.action==="edit"&&t.h("button-component",{title:"Preview",type:"button",disabled:this.isLoading,clickHandler:a=>{a.preventDefault(),this.previewButtonClicked.emit(this.host).defaultPrevented||window.open(t.parsePreviewLink(this.schedulerPreviewLink,this.selectedConfiguration),"_blank")},variant:"basic"},t.h("eye-icon",null)),t.h("button-component",{key:"057295595f302e2090a0136981a09546f6994c1c",type:"button",disabled:this.isLoading,clickHandler:a=>{a.preventDefault(),this.cancelButtonClick.emit(),this.error=""},variant:"basic",part:"editor__footer-cancel net__footer-cancel"},t.instance.t("backButton")),t.h("button-component",{key:"18ba294735d5754526a3634f5c7dc7dfd87d1679",type:"submit",disabled:this.isLoading,part:"editor__footer-cta, net__footer-cta"},this.isLoading?t.h("span",null,t.instance.t("savingButtonText"),t.h("loading-icon",null)," "):this.action==="create"?`${t.instance.t("createButtonText")}`:`${t.instance.t("saveChangesButtonText")}`)))),this.showFeedbackModal&&t.h("nylas-feedback-form",null))}get host(){return t.getElement(this)}static get watchers(){return{selectedConfiguration:["configChangedHandler"],currentUser:["userChangedHandler"],selectedLanguage:["selectedLanguageChangedHandler"]}}};Ae([xe.RegisterComponent({name:"nylas-editor-tabs",stateToProps:new Map([["schedulerConfig.calendars","calendars"],["schedulerConfig.selectedConfiguration","selectedConfiguration"],["schedulerConfig.currentUser","currentUser"],["schedulerConfig.configurations","configurations"],["schedulerConfig.selectedLanguage","selectedLanguage"]]),eventToProps:{schedulerConfigChanged:async(e,n)=>{const{resetLoadingState:a,host:i,action:o,config:s}=e.detail,c=l=>{const[h,m]=l;!h&&m?i.setError(m):h&&!m&&o==="create"&&i.schedulerConfigCreatedEventHandler({config:h}),a&&a(e)};if(o==="edit"){const l=await n.schedulerConfig.updateConfiguration(s);c(l)}else{const l=await n.schedulerConfig.createConfiguration(s);c(l)}},cancelButtonClick:async(e,n)=>{n.schedulerConfigStore.state.action=null},previewButtonClicked:async(e,n)=>{t.debug("[nylas-editor-tabs]","previewButtonClicked",n)},formSubmitted:async(e,n)=>{t.debug("[nylas-editor-tabs]","formSubmitted",n)},schedulerEditorFormUpdated:async(e,n)=>{t.debug("[nylas-editor-tabs]","schedulerEditorFormUpdated",e)},schedulerConfigCreated:async(e,n)=>{t.debug("[nylas-editor-tabs]","schedulerConfigCreated",e)}},localPropsToProp:new Map([["schedulerPreviewLink","schedulerPreviewLink"],["enableUserFeedback","enableUserFeedback"],["hideEditorTabs","hideEditorTabs"]]),fireRegisterEvent:!0}),W("design:type",Function),W("design:paramtypes",[]),W("design:returntype",void 0)],Q.prototype,"render",null);Q.style=Re;const je=':host{display:grid;grid-auto-flow:row;width:100%;font-family:inherit;font-optical-sizing:auto;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif}.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;gap:1rem}@media screen and (max-width: 768px){.header{flex-direction:column;gap:0.5rem;align-items:unset}}.header h2{margin:0;font-size:1.25rem;color:var(--nylas-base-900);font-weight:600}.header p{margin:0;font-size:16px;color:var(--nylas-base-700)}.header .actions{justify-self:end}@media screen and (max-width: 768px){.header .actions{width:100%}}.configurations{border:1px solid var(--nylas-base-200);border-radius:var(--nylas-border-radius-2x);background:var(--nylas-base-0);height:100%;display:flex;flex-direction:column;position:relative;overflow-y:hidden}.configurations .table-container{overflow-y:auto;flex:1}.configurations .table-container table{width:100%;border-spacing:0;border-collapse:collapse;font-family:inherit;height:max-content}.configurations .table-container table.no-configurations{height:100%}.configurations .table-container table tr{color:var(--nylas-base-800);border-bottom:1px solid var(--nylas-base-200);font-family:inherit}.configurations .table-container table tr.hide{display:none}.configurations .table-container table th{font-weight:600;text-transform:uppercase;font-size:14px;line-height:20px}.configurations .table-container table tr.no-configurations td>div{display:flex;height:100%;justify-content:center;align-items:center;flex-direction:column;padding:var(--nylas-border-radius-3x)}.configurations .table-container table tr.no-configurations td>div h3{margin:0 0 1rem 0;color:var(--nylas-base-700)}.configurations .table-container table tr.no-configurations td>div p{margin:0 0 1rem 0;color:var(--nylas-base-600)}.configurations .table-container table tr.no-configurations td>div calendar-icon{margin-bottom:1rem;color:var(--nylas-base-200)}.configurations .table-container table th,.configurations .table-container table td{text-align:left;padding:1rem;font-family:inherit}.configurations .table-container table .actions{display:flex;justify-content:flex-end;gap:1rem;text-align:right}@media screen and (max-width: 768px){.configurations .table-container table .actions{flex-direction:column;gap:0.5rem}}.configurations .table-container table .actions select-dropdown.last::part(sd_dropdown-content){bottom:54px}.configurations .table-container table .title{width:100%;max-width:300px}@media screen and (max-width: 768px){.configurations .table-container table .title{max-width:96px}}.configurations .table-container table .title div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.configurations .table-container table .title div.config-event-title{font-weight:600}.configurations .table-container table .title div.config-event-description{font-size:0.75rem}.configurations .pagination{padding:1rem;position:sticky;top:100%;display:flex;justify-content:flex-end;gap:0.5rem;background:white;width:calc(100% - 2rem);z-index:2}.configurations .pagination td.arrows{display:flex;justify-content:flex-end;gap:0.5rem}.configurations .pagination button{display:flex;flex-direction:row;justify-content:center;align-items:center;height:3vh;width:3vh;min-width:3em;min-height:3em;cursor:pointer;border-radius:var(--nylas-border-radius-2x);border:1px solid var(--nylas-base-300);background-color:transparent;color:var(--nylas-base-800);cursor:pointer}.configurations .pagination button:hover:not(:disabled){border:1px solid var(--nylas-primary)}.configurations .pagination button:active{border:1px solid var(--nylas-base-800)}.configurations .pagination button:disabled{border:1px solid var(--nylas-base-100);background-color:transparent;color:var(--nylas-base-300);cursor:not-allowed}.configurations .pagination button.right{transform:rotate(180deg)}.error-container{margin-top:1.5rem}.error-container .error{color:var(--nylas-error);padding:0.5rem 0;margin:1rem 0 0}button-component#copy button{width:108px}select-dropdown{width:auto}select-dropdown::part(sd_dropdown-button){display:block;height:48px;padding:0px 16px 8px}@media screen and (max-width: 768px){select-dropdown::part(sd_dropdown-button){width:92px}}select-dropdown::part(sd_dropdown-content){width:120px;right:0}select-dropdown::part(sd_dropdown-labelhtml){display:flex;gap:0.5rem;align-items:center;color:var(--nylas-base-900)}select-dropdown::part(sd_dropdown-labelhtml):hover{color:var(--nylas-primary)}.card-wrapper{position:absolute;top:0;left:0;height:calc(100% + 4rem);width:-webkit-fill-available;width:-moz-available;width:fill-available;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0, 0, 0, 0.6);z-index:2;border-radius:var(--nylas-border-radius-2x)}@media screen and (max-width: 768px){.card-wrapper{justify-content:start;height:100%}}.card-modal{background:var(--nylas-base-0);display:flex;flex-direction:column;font-family:var(--nylas-font-family);background-color:var(--nylas-base-0);color:var(--nylas-base-900);border-radius:var(--nylas-border-radius-3x);padding:32px;width:562px;box-shadow:0px 1px 4px rgba(0, 0, 0, 0.1), 0px 3px 6px rgba(0, 0, 0, 0.06)}@media screen and (max-width: 768px){.card-modal{width:auto;border-radius:0px}}.description.title-desc{margin-bottom:2rem}.description p{margin:0;font-size:18px;color:var(--nylas-base-600)}.footer{margin-top:1rem;padding-top:1rem;display:flex;justify-content:flex-end;gap:0.5rem;box-sizing:border-box;background-color:var(--nylas-base-25);width:100%;border-radius:0 0 var(--nylas-border-radius-2x) var(--nylas-border-radius-2x)}.close-button{width:100%;display:flex;justify-content:flex-end}.close-button button-component button{padding:0;height:auto}.close-button button-component button:hover{background-color:transparent !important}button-component{--dot-color:var(--nylas-base-700)}',$e=je;var Je=function(e,n,a,i){var o=arguments.length,s=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,a):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,n,a,i);else for(var l=e.length-1;l>=0;l--)(c=e[l])&&(s=(o<3?c(s):o>3?c(n,a,s):c(n,a))||s);return o>3&&s&&Object.defineProperty(n,a,s),s},K=function(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)};const X=class{constructor(e){t.registerInstance(this,e),this.initListConfigurations=t.createEvent(this,"initListConfigurations",7),this.createButtonClick=t.createEvent(this,"createButtonClick",7),this.editButtonClick=t.createEvent(this,"editButtonClick",7),this.deleteButtonClick=t.createEvent(this,"deleteButtonClick",7),this.configurations=[],this.selectedLanguage=void 0,this.schedulerPreviewLink="",this.listConfigurationsNextCursor=void 0,this.state="loading",this.error="",this.currentCursor=null,this.previousCursors=[],this.disableNextPageButton=!1,this.deleteConfigurationId="",this.showDeleteButtonLoading=!1}listConfigurationsNextCursorChangedHandler(e,n){if(!e||e===n){e===null&&(this.disableNextPageButton=!0);return}this.disableNextPageButton=!1,this.currentCursor=e}selectedLanguageChangedHandler(e,n){e!==n&&t.instance.changeLanguage(e)}connectedCallback(){t.debug("[nylas-list-configurations]","connectedCallback")}componentWillLoad(){t.debug("[nylas-list-configurations]","componentWillLoad"),this.configurations&&this.configurations.length>0&&(this.state="loaded")}componentDidLoad(){t.debug("[nylas-list-configurations]","componentDidLoad"),this.initListConfigurations.emit({host:this.host})}disconnectedCallback(){t.debug("[nylas-list-configurations]","disconnectedCallback")}async handleNylasFormDropdownChanged(e){var o;t.debug("[nylas-list-configurations]","handleNylasFormDropdownChanged",e.detail);const{value:n}=e.detail,[a,i]=n.split("-");switch(e.preventDefault(),a){case"delete":this.deleteConfigurationId=(o=this.configurations[i])==null?void 0:o.id;break;case"preview":window.open(t.parsePreviewLink(this.schedulerPreviewLink,this.configurations[i]),"_blank");break;case"copy":await navigator.clipboard.writeText(t.parsePreviewLink(this.schedulerPreviewLink,this.configurations[i]));break}}async registerCallback(){this.initListConfigurations.emit({host:this.host})}async getState(){return this.state}async setState(e){this.state=e}async setError(e){this.error=e}async hideDeleteConfirmation(){this.deleteConfigurationId="",this.showDeleteButtonLoading=!1}closeModal(e){e.preventDefault(),this.deleteConfigurationId=""}handleConfirmDeleteButtonClicked(e){e.preventDefault(),this.showDeleteButtonLoading=!0;const n=this.configurations.find(a=>a.id===this.deleteConfigurationId);n&&(n!=null&&n.id)&&this.deleteButtonClick.emit({host:this.host,configuration:n})}getDurationString(e){const n=Math.floor(e/60),a=e%60;return`${n||""} ${n?`${n>1?"hours":"hour"}`:""} ${a||""} ${a?`${a>1?"mins":"min"}`:""}`}getActionLabelHTML(e){const n={display:"inline-flex",alignItems:"center",gap:"0.5rem"},a={color:"var(--nylas-error)"};switch(e){case"preview":return t.h("span",{style:n},t.h("eye-icon",{width:"16",height:"16"}),t.instance.t("nylasListConfigurations.previewButtonText"));case"copy":return t.h("span",{style:n},t.h("copy-icon",{width:"16",height:"16"}),t.instance.t("nylasListConfigurations.copyLinkButtonText"));case"delete":return t.h("span",{style:{...n,...a}},t.h("delete-icon",{width:"15",height:"17"}),t.instance.t("nylasListConfigurations.deleteButtonText"));default:return""}}previousPageClickedHandler(){if(this.previousCursors.length===0)return;this.currentCursor=this.previousCursors.pop()||null;const e=this.previousCursors[this.previousCursors.length-1]||void 0;this.initListConfigurations.emit({host:this.host,cursor:e})}nextPageClickedHandler(){this.currentCursor&&(this.previousCursors=[...this.previousCursors,this.currentCursor],this.initListConfigurations.emit({host:this.host,cursor:this.currentCursor}))}render(){var e;return t.h(t.Host,null,t.h("div",{class:"header"},t.h("div",{class:"description"},t.h("h2",null,t.instance.t("allSchedulingPages")),t.h("p",null,t.instance.t("createAndManageSchedulingPages"))),this.configurations&&this.configurations.length>0&&t.h("div",{class:"actions"},t.h("button-component",{part:"nlc__create-new-cta",clickHandler:()=>{this.createButtonClick.emit(this.host)}},t.instance.t("createNewSchedulingPageButtonText")))),t.h("div",{class:"configurations"},t.h("div",{class:"table-container"},t.h("table",{class:{"no-configurations":this.state!=="loading"&&(!this.configurations||this.configurations.length===0)}},t.h("tr",{class:{hide:this.state==="loading"||this.configurations&&this.configurations.length===0}},t.h("th",null,t.instance.t("pageTitle")),t.h("th",null,t.instance.t("durationTitle")),t.h("th",null)),this.state==="loading"&&t.h("tr",{class:"no-configurations"},t.h("td",{colSpan:3},t.h("div",null,t.h("h3",null,t.instance.t("loading"),"..."),t.h("p",null,t.instance.t("loadingPagesDescription"))))),this.state!=="loading"&&(!this.configurations||this.configurations.length===0)&&t.h("tr",{class:"no-configurations"},t.h("td",{colSpan:3},t.h("div",null,t.h("calendar-icon",{width:"48",height:"48"}),t.h("h3",null,t.instance.t("noSchedulingPages")),t.h("p",null,t.instance.t("createFirstSchedulingPage")),t.h("button-component",{part:"nlc__create-new-cta",clickHandler:()=>{this.createButtonClick.emit(this.host)}},t.instance.t("createNewSchedulingPageButtonText"))))),this.state!=="loading"&&((e=this.configurations)==null?void 0:e.map((n,a)=>{var o,s,c,l;const i=a===this.configurations.length-1||a===this.configurations.length-2;return t.h("tr",{key:n==null?void 0:n.id},t.h("td",null,t.h("div",{class:"title"},t.h("div",{class:"config-event-title",title:(o=n==null?void 0:n.event_booking)==null?void 0:o.title},(s=n==null?void 0:n.event_booking)==null?void 0:s.title),t.h("div",{class:"config-event-description"},(c=n==null?void 0:n.event_booking)==null?void 0:c.description))),t.h("td",null,t.h("div",{class:"duration"},this.getDurationString((l=n==null?void 0:n.availability)==null?void 0:l.duration_minutes))),t.h("td",null,t.h("div",{class:"actions"},t.h("button-component",{variant:"basic",key:`edit-${a}`,clickHandler:h=>{h.preventDefault(),this.editButtonClick.emit({host:this.host,configuration:n})}},t.h("edit-icon",{width:"16",height:"16"}),t.instance.t("editSchedulingPageButtonText")),t.h("select-dropdown",{class:{last:i},name:"actions",options:[{value:`preview-${a}`,label:"Preview",labelHTML:this.getActionLabelHTML("preview")},{value:`copy-${a}`,label:"Copy link",labelHTML:this.getActionLabelHTML("copy")},{value:`delete-${a}`,label:"Delete",labelHTML:this.getActionLabelHTML("delete")}],defaultSelectedOption:{value:"",label:""},dropdownButtonText:"...",withSearch:!1,withChevron:!1,exportparts:"sd_dropdown: actions__dropdown, sd_dropdown-button: actions__dropdown-button, sd_dropdown-content: actions__dropdown-content"}))))})))),t.h("div",{class:"pagination"},t.h("button",{class:"arrow left",onClick:()=>this.previousPageClickedHandler(),disabled:this.previousCursors.length<=0},t.h("chevron-icon",null)),t.h("button",{class:"arrow right",onClick:()=>this.nextPageClickedHandler(),disabled:this.disableNextPageButton},t.h("chevron-icon",null)))),this.state==="error"&&t.h("div",{class:"error-container"},t.h("p",{class:"error"},this.error)),!!this.deleteConfigurationId&&t.h("div",{class:"card-wrapper"},t.h("div",{class:"card-modal"},t.h("div",{class:"close-button"},t.h("button-component",{tooltip:"Close",id:"close",variant:"invisible",onClick:n=>this.closeModal(n),part:"nfbf__close-button"},t.h("close-icon",null))),t.h("div",{class:"header"},t.h("h2",{slot:"card-title",part:"nfbf__title"},t.instance.t("deleteSchedulingPageTitle"))),t.h("div",{class:"description title-desc"},t.h("p",null,t.instance.t("deleteSchedulingPageDescription"))),t.h("div",{class:{footer:!0}},t.h("button-component",{variant:"basic",onClick:n=>this.closeModal(n),part:"nfbf__button-outline nfbf__cancel-cta"},`${t.instance.t("deleteSchedulingPageCancelButton")}`),t.h("button-component",{variant:"destructive",onClick:n=>this.handleConfirmDeleteButtonClicked(n),disabled:this.showDeleteButtonLoading,isLoading:this.showDeleteButtonLoading,part:"nfbf__button-outline nfbf__reschedule-cta"},`${t.instance.t("deleteSchedulingPageConfirmButton")}`)))))}get host(){return t.getElement(this)}static get watchers(){return{listConfigurationsNextCursor:["listConfigurationsNextCursorChangedHandler"],selectedLanguage:["selectedLanguageChangedHandler"]}}};Je([xe.RegisterComponent({name:"nylas-list-configurations",stateToProps:new Map([["schedulerConfig.configurations","configurations"],["schedulerConfig.listConfigurationsNextCursor","listConfigurationsNextCursor"],["schedulerConfig.selectedLanguage","selectedLanguage"]]),localPropsToProp:new Map([["schedulerPreviewLink","schedulerPreviewLink"]]),eventToProps:{initListConfigurations:async(e,n)=>{const{host:a,cursor:i}=e.detail;await a.setState("loading");const[o,s]=await n.schedulerConfig.getConfigurations(i);if(!o&&s&&s.message){await a.setState("error"),await a.setError(s.message);return}await a.setState("loaded")},createButtonClick:async(e,n)=>{n.schedulerConfigStore.resetSelectedConfiguration(),n.schedulerConfigStore.state.action="create"},deleteButtonClick:async(e,n)=>{const{host:a,configuration:i}=e.detail,[o,s]=await n.schedulerConfig.deleteConfiguration(i.id);!o&&s&&s.message&&(await a.setState("error"),await a.setError(s.message)),await a.hideDeleteConfirmation()},editButtonClick:async(e,n)=>{const{configuration:a}=e.detail;n.schedulerConfigStore.state.selectedConfiguration=a,n.schedulerConfigStore.state.action="edit"}},fireRegisterEvent:!0}),K("design:type",Function),K("design:paramtypes",[]),K("design:returntype",void 0)],X.prototype,"render",null);X.style=$e;exports.google_logo_icon=Se;exports.microsoft_logo_icon=Le;exports.nylas_editor_tabs=Q;exports.nylas_list_configurations=X;
