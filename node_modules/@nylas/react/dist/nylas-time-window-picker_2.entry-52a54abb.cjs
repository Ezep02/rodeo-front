"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("./index-94416062.cjs");require("react");require("react-dom");var V={exports:{}};(function(e,t){(function(a,i){e.exports=i()})(n.commonjsGlobal,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,l=/\d\d?/,v=/\d*[^-_:/,()\s\d]+/,x={},R=function(s){return(s=+s)+(s>68?1900:2e3)},d=function(s){return function(o){this[s]=+o}},W=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(o){if(!o||o==="Z")return 0;var h=o.match(/([+-]|\d\d)/g),c=60*h[1]+(+h[2]||0);return c===0?0:h[0]==="+"?-c:c}(s)}],O=function(s){var o=x[s];return o&&(o.indexOf?o:o.s.concat(o.f))},Z=function(s,o){var h,c=x.meridiem;if(c){for(var p=1;p<=24;p+=1)if(s.indexOf(c(p,0,o))>-1){h=p>12;break}}else h=s===(o?"pm":"PM");return h},N={A:[v,function(s){this.afternoon=Z(s,!1)}],a:[v,function(s){this.afternoon=Z(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[r,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[r,d("day")],Do:[v,function(s){var o=x.ordinal,h=s.match(/\d+/);if(this.day=h[0],o)for(var c=1;c<=31;c+=1)o(c).replace(/\[|\]/g,"")===s&&(this.day=c)}],M:[l,d("month")],MM:[r,d("month")],MMM:[v,function(s){var o=O("months"),h=(O("monthsShort")||o.map(function(c){return c.slice(0,3)})).indexOf(s)+1;if(h<1)throw new Error;this.month=h%12||h}],MMMM:[v,function(s){var o=O("months").indexOf(s)+1;if(o<1)throw new Error;this.month=o%12||o}],Y:[/[+-]?\d+/,d("year")],YY:[r,function(s){this.year=R(s)}],YYYY:[/\d{4}/,d("year")],Z:W,ZZ:W};function X(s){var o,h;o=s,h=x&&x.formats;for(var c=(s=o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,w,f){var m=f&&f.toUpperCase();return w||h[f]||a[f]||h[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,T,M){return T||M.slice(1)})})).match(i),p=c.length,y=0;y<p;y+=1){var Y=c[y],S=N[Y],b=S&&S[0],g=S&&S[1];c[y]=g?{regex:b,parser:g}:Y.replace(/^\[|\]$/g,"")}return function(I){for(var w={},f=0,m=0;f<p;f+=1){var k=c[f];if(typeof k=="string")m+=k.length;else{var T=k.regex,M=k.parser,L=I.slice(m),D=T.exec(L)[0];M.call(w,D),I=I.replace(D,"")}}return function(C){var u=C.afternoon;if(u!==void 0){var A=C.hours;u?A<12&&(C.hours+=12):A===12&&(C.hours=0),delete C.afternoon}}(w),w}}return function(s,o,h){h.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(R=s.parseTwoDigitYear);var c=o.prototype,p=c.parse;c.parse=function(y){var Y=y.date,S=y.utc,b=y.args;this.$u=S;var g=b[1];if(typeof g=="string"){var I=b[2]===!0,w=b[3]===!0,f=I||w,m=b[2];w&&(m=b[2]),x=this.$locale(),!I&&m&&(x=h.Ls[m]),this.$d=function(L,D,C){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*L);var u=X(D)(L),A=u.year,E=u.month,G=u.day,J=u.hours,Q=u.minutes,ee=u.seconds,te=u.milliseconds,B=u.zone,$=new Date,P=G||(A||E?1:$.getDate()),_=A||$.getFullYear(),F=0;A&&!E||(F=E>0?E-1:$.getMonth());var z=J||0,j=Q||0,H=ee||0,K=te||0;return B?new Date(Date.UTC(_,F,P,z,j,H,K+60*B.offset*1e3)):C?new Date(Date.UTC(_,F,P,z,j,H,K)):new Date(_,F,P,z,j,H,K)}catch{return new Date("")}}(Y,g,S),this.init(),m&&m!==!0&&(this.$L=this.locale(m).$L),f&&Y!=this.format(g)&&(this.$d=new Date("")),x={}}else if(g instanceof Array)for(var k=g.length,T=1;T<=k;T+=1){b[1]=g[T-1];var M=h.apply(this,b);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}T===k&&(this.$d=new Date(""))}else p.call(this,y)}}})})(V);const ie=V.exports,se=':host{display:block;position:relative;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif}.time-picker{display:inline-block;width:150px;font-family:var(--nylas-font-family);position:relative}@media screen and (max-width: 768px){.time-picker{width:auto}}.time-picker input{width:150px;height:48px;text-align:center;font-size:16px;font-family:inherit;cursor:pointer;background:transparent;border:1px solid var(--nylas-base-200);border-radius:var(--nylas-border-radius-2x)}@media screen and (max-width: 768px){.time-picker input{width:88px}}@media screen and (max-width: 504px){.time-picker input{width:68px;font-size:15px}}.time-picker input.focus{background:transparent}.time-picker input:hover,.time-picker input:active{border:1px solid var(--nylas-primary)}.time-picker input:active{outline:2px solid var(--nylas-primary)}.time-picker input span.open{transform:rotate(90deg)}.time-picker input span.closed{transform:rotate(270deg)}.time-picker input.error{border:1px solid var(--nylas-error)}.time-picker p.error{color:var(--nylas-error);font-size:0.875rem;margin:0}.times{display:block;margin-top:0.5rem;background-color:var(--nylas-base-0);width:100%;max-height:336px;overflow:auto;border:1px solid #ddd;z-index:1;border-radius:4px;position:absolute;box-shadow:0px 4px 6px -2px rgba(0, 0, 0, 0.0509803922);box-shadow:0px 10px 15px -3px rgba(0, 0, 0, 0.1019607843)}.times ul{padding:0;list-style-type:none;color:var(--nylas-base-900);max-height:336px}.times ul li{padding:16px, 12px, 16px, 12px;color:black;padding:12px 16px;text-decoration:none;display:block;font-family:inherit;font-size:14px;font-weight:400;line-height:20px;letter-spacing:0px;text-align:center;cursor:pointer}.times ul li.focused{background-color:var(--nylas-base-100)}.times ul li:hover,.times ul li:focus{background-color:var(--nylas-base-100)}.times ul li label{display:flex;align-items:center;gap:0.5rem}.times ul li label input{margin:0}',ne=se;n.dayjs.extend(ie);const U=class{constructor(e){n.registerInstance(this,e),this.timeChange=n.createEvent(this,"timeChange",7),this.formError=n.createEvent(this,"formError",7),this.time=void 0,this.minimumStartTime=null,this.placeholder="hh:mmam/pm",this.name=void 0,this.hasError=!1,this.err="",this.showTimes=!1,this.ariaActivedescendant="",this.times=this.generateTimes(),this.shouldAutoScroll=!1}handleOutsideClick(e){!e.composedPath().includes(this.el)&&this.showTimes&&(this.showTimes=!1)}minimumStartTimeChangedHandler(){if(this.minimumStartTime){let e=n.dayjs().hour(parseInt(this.minimumStartTime)).minute(parseInt(this.minimumStartTime.slice(-4,-2)));this.minimumStartTime.slice(-2).toLowerCase()==="pm"&&parseInt(this.minimumStartTime)!==12?e=e.add(12,"hour"):this.minimumStartTime.slice(-2).toLowerCase()==="am"&&parseInt(this.minimumStartTime)===12&&(e=e.subtract(12,"hour")),this.times=this.generateTimes();const t=n.dayjs(this.times[0].value,"hh:mma");n.dayjs(this.time,"hh:mma").isBefore(t)&&(this.err="Invalid",this.formError.emit({key:this.el.id,message:"Invalid"}))}}componentDidRender(){if(this.showTimes&&this.shouldAutoScroll){const e=n.autocompleteTimeFormat(this.time),t=this.times.findIndex(a=>a.value===e);t>-1&&(this.shouldAutoScroll=!1,this.scrollToViewWithinParent(t));return}}handleTimeChange(e,t){const a=t.split(":");a[0]==="00"&&a[1].slice(-2)=="pm"&&(this.err="Invalid",this.formError.emit({key:this.el.id,message:"Invalid"})),n.validateTimeFormatInput(t)?(this.err="",this.formError.emit({key:this.el.id,message:""})):(this.err="Invalid",this.formError.emit({key:this.el.id,message:"Invalid"})),this.timeChange.emit({key:this.el.id,value:t})}handleTimeAutocomplete(e){var a;const t=(a=e.target)==null?void 0:a.value;if(!n.validateTimeFormatInput(t)){this.err="Invalid",this.formError.emit({key:this.el.id,message:"Invalid"});return}if(t===""){const i=n.roundToNearest15Minutes().format("hh:mma");this.timeChange.emit({key:this.el.id,value:i});return}if(!n.validateExactTimeFormat(t)){const i=n.autocompleteTimeFormat(t);this.timeChange.emit({key:this.el.id,value:i});return}this.timeChange.emit({key:this.el.id,value:t})}handleOnInput(e){var a;const t=(a=e.target)==null?void 0:a.value;if(n.validateTimeFormatInput(t)){if(t===""){const i=n.roundToNearest15Minutes().format("hh:mma"),r=this.times.findIndex(l=>l.value===i);r>-1&&this.scrollToViewWithinParent(r);return}if(!n.validateExactTimeFormat(t)){const i=n.autocompleteTimeFormat(t),r=this.times.findIndex(l=>l.value===i);r>-1&&this.scrollToViewWithinParent(r);return}}}generateTimes(){const e=[];let t=n.dayjs().set("hour",0).set("minute",0).set("second",0);this.minimumStartTime&&(t=n.dayjs(this.minimumStartTime,"hh:mma"));const a=t.endOf("day").diff(t,"minutes"),i=Math.round(a/15);for(let r=0;r<i+1;r++){const l=t.add(r*15,"minute");if(r==i&&l.format("hh:mma").includes("am"))break;e.push({id:r,value:l.format("hh:mma")})}return e}handleComboboxKeyDown(e){if(e.key==="ArrowDown"){if(e.preventDefault(),!this.showTimes){this.showTimes=!0,this.shouldAutoScroll=!0;return}if(this.ariaActivedescendant==="")this.ariaActivedescendant=this.times[0].id.toString(),this.focusOption(0);else{const t=this.times.findIndex(i=>i.id.toString()===this.ariaActivedescendant),a=t+1<this.times.length?t+1:0;this.ariaActivedescendant=this.times[a].id.toString(),this.focusOption(a)}}else if(e.key==="ArrowUp")if(e.preventDefault(),this.ariaActivedescendant==="")this.ariaActivedescendant=this.times[this.times.length-1].id.toString(),this.focusOption(this.times.length-1);else{const t=this.times.findIndex(i=>i.id.toString()===this.ariaActivedescendant),a=t-1>=0?t-1:this.times.length-1;this.ariaActivedescendant=this.times[a].id.toString(),this.focusOption(a)}else e.key==="Escape"&&(this.showTimes=!1,this.timeInput.focus())}handleListboxKeydown(e){const t=this.times,a=t.findIndex(i=>i.id.toString()===this.ariaActivedescendant);if(e.key==="ArrowDown"||e.key==="Tab"&&!e.shiftKey){e.preventDefault();const i=a+1<t.length?a+1:0;this.ariaActivedescendant=t[i].id.toString(),this.focusOption(i)}else if(e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey){e.preventDefault();const i=a-1>=0?a-1:t.length-1;this.ariaActivedescendant=t[i].id.toString(),this.focusOption(i)}else if(e.key==="Enter"){if(e.preventDefault(),this.ariaActivedescendant){const i=t[a];this.handleTimeChange(e,i.value),this.showTimes=!1,this.ariaActivedescendant="",this.timeInput.focus()}}else e.key==="Escape"&&(this.showTimes=!1,this.timeInput.focus())}scrollToViewWithinParent(e){var v;const t=this.times[e],a=(v=this.el.shadowRoot)==null?void 0:v.getElementById(t.id.toString()),i=this.timeMenu;this.ariaActivedescendant=t.id.toString();const r=a.getBoundingClientRect(),l=i.getBoundingClientRect();r.top<l.top?i.scrollTop-=l.top-r.top:r.bottom>l.bottom&&(i.scrollTop+=r.bottom-l.bottom),r.left<l.left?i.scrollLeft-=l.left-r.left:r.right>l.right&&(i.scrollLeft+=r.right-l.right)}focusOption(e){var r;const t=this.times[e];if(!t)return;const a=t.id.toString(),i=(r=this.el.shadowRoot)==null?void 0:r.getElementById(a);i&&(i.focus(),i.scrollIntoView({behavior:"smooth",block:"nearest"}))}render(){return n.h(n.Host,{key:"08c910b64f1990194d69892923e03e8cf2967853"},n.h("div",{key:"8580adca9096558b400d9fc1ceaac1807345a4bf",class:"time-picker",part:"time-picker"},n.h("input",{key:"922200c3ba40d880f368f06dba3a2c2549cfa9d6",type:"text",name:this.name,id:this.name,part:"time-input",class:{"time-input":!0,error:!!this.err||this.hasError},ref:e=>this.timeInput=e,value:this.time,onClick:()=>{this.showTimes=!this.showTimes,this.shouldAutoScroll=!0},"aria-haspopup":"listbox","aria-label":this.name,"aria-expanded":this.showTimes?"true":"false",placeholder:this.placeholder,onKeyDown:e=>this.handleComboboxKeyDown(e),onInput:e=>this.handleOnInput(e),onBlur:e=>this.handleTimeAutocomplete(e)}),this.err&&n.h("div",{class:"invalid-time-icon"}),this.showTimes&&n.h("div",{class:"times",part:"times",ref:e=>this.timeMenu=e},n.h("ul",{tabindex:"-1",role:"listbox","aria-label":this.name,"aria-activedescendant":this.ariaActivedescendant,onKeyDown:e=>this.handleListboxKeydown(e)},this.times.map(e=>n.h("li",{tabindex:"0",key:e.id,id:e.id.toString(),class:{focused:this.ariaActivedescendant===e.id.toString()},onClick:t=>{this.handleTimeChange(t,e.value),this.showTimes=!1,this.timeInput.focus()},role:"option"},`${e.value}`)))),!this.showTimes&&this.err&&n.h("p",{class:"error",id:"email-error"},this.err)))}get el(){return n.getElement(this)}static get watchers(){return{minimumStartTime:["minimumStartTimeChangedHandler"]}}};U.style=ne;const ae='.switch{--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif;display:inline-block;height:34px;position:relative;width:60px}.switch input{display:none}.slider{background-color:var(--nylas-base-300);bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;transition:0.4s}.slider:before{background-color:var(--nylas-base-0);bottom:4px;content:"";height:32px;left:4px;position:absolute;transition:0.4s;width:32px}input:checked+.slider{background-color:var(--nylas-success)}input:checked+.slider:before{transform:translateX(32px)}.slider.round{border-radius:35px;width:72px;height:40px}.slider.round:before{border-radius:50%}',re=ae,q=class{constructor(e){n.registerInstance(this,e),this.nylasFormSwitchToggled=n.createEvent(this,"nylasFormSwitchToggled",7),this.name="toggle-switch",this.checked=!1,this.label="",this.isChecked=this.checked}componentWillLoad(){this.isChecked=this.checked}toggleCheck(){this.isChecked=!this.isChecked,this.nylasFormSwitchToggled.emit({checked:this.isChecked,name:this.name,label:this.label})}render(){return n.h("label",{key:"1586b4b0484716254ad8befbd9f99f7956e9c129",class:"switch",part:"ts_label"},n.h("input",{key:"c7e9432dfe88d4c27bb146c3816f750fb7dc6851",type:"checkbox",part:"ts_input",name:this.name,checked:this.isChecked,onChange:()=>this.toggleCheck()}),n.h("div",{key:"08980c1db3849f197b1780caa55bfe8e84ce0a92",class:"slider round",part:"ts_slider"}))}};q.style=re;exports.nylas_time_window_picker=U;exports.toggle_switch=q;
