"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("./index-94416062.cjs");require("react");require("react-dom");const h=".sc-chevron-icon-h{display:flex}",c=h,o=class{constructor(e){s.registerInstance(this,e),this.width="24",this.height="24"}render(){return s.h("svg",{key:"7aba61db23989386b629855aca2a4e8f9bf4362c",xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height,viewBox:"0 0 24 24",fill:"none"},s.h("path",{key:"20bf8190f264566aabe644a60205498ea8796bd9",fill:"currentColor",d:"M15.53 4.22a.75.75 0 0 1 0 1.06L8.81 12l6.72 6.72a.75.75 0 1 1-1.06 1.06l-7.25-7.25a.75.75 0 0 1 0-1.06l7.25-7.25a.75.75 0 0 1 1.06 0Z"}))}};o.style=c;const p=".sc-search-icon-h{display:flex}",b=p,l=class{constructor(e){s.registerInstance(this,e),this.width="15",this.height="15"}render(){return s.h("svg",{key:"a0628e962350636e0a8e9bddbfea281ea1406a96",width:this.width,height:this.height,fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.h("path",{key:"4b5f9803a371e5dcc0c116ae45c796900a979b2a",fill:"currentColor",d:"M5.5 0C8.53757 0 11 2.46243 11 5.5C11 6.83879 10.5217 8.06586 9.72656 9.01962L13.8536 13.1464C14.0488 13.3417 14.0488 13.6583 13.8536 13.8536C13.68 14.0271 13.4106 14.0464 13.2157 13.9114L13.1464 13.8536L9.01962 9.72656C8.06586 10.5217 6.83879 11 5.5 11C2.46243 11 0 8.53757 0 5.5C0 2.46243 2.46243 0 5.5 0ZM5.5 1C3.01472 1 1 3.01472 1 5.5C1 7.98528 3.01472 10 5.5 10C7.98528 10 10 7.98528 10 5.5C10 3.01472 7.98528 1 5.5 1Z"}))}};l.style=b;const f=':host{display:block;position:relative;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif;width:100%}@media screen and (max-width: 768px){:host{position:unset}}label{display:flex;color:var(--nylas-base-800, #293056);font-size:14px;font-style:normal;font-weight:400;line-height:150%;flex-direction:column;gap:4px;font-family:var(--nylas-font-family);font-size:16px;color:var(--nylas-base-800)}label.error{color:var(--nylas-error)}label span.required{color:var(--nylas-error);padding:0 0.25rem}label p{margin:0}label .error{color:var(--nylas-error)}.dropdown{display:inline-block;width:inherit}.dropbtn{color:var(--nylas-base-800);padding:14px;font-size:16px;font-family:var(--nylas-font-family);cursor:pointer;display:flex;justify-content:space-between;gap:0.5rem;background:transparent;border:1px solid var(--nylas-base-300);border-radius:var(--nylas-border-radius-2x)}.dropbtn.error{border:1px solid var(--nylas-error)}.dropbtn.focus{background:transparent}.dropbtn:hover,.dropbtn:active{outline:1px solid var(--nylas-primary)}.dropbtn:active{outline:2px solid var(--nylas-primary)}.dropbtn span.chevron{display:flex;align-self:center}.dropbtn span.open{transform:rotate(90deg)}.dropbtn span.closed{transform:rotate(270deg)}.dropbtn span.selected-option{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:144px;font-size:14px;line-height:20px}@media screen and (max-width: 768px){.dropbtn span.selected-option{max-width:124px;font-size:16px}}.dropdown-content{display:block;margin-top:0.5rem;background-color:var(--nylas-base-0);width:100%;max-height:336px;overflow:auto;z-index:1;border-radius:4px;position:absolute;box-shadow:0px 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:0px 10px 15px -3px rgba(0, 0, 0, 0.1)}@media screen and (max-width: 768px){.dropdown-content{right:0;width:325px;max-width:unset}}.search-box{border-bottom:1px solid var(--nylas-base-200);padding:10px;position:sticky;top:0;background:var(--nylas-base-0)}.search-box .icon{position:absolute;top:1.25rem;left:1.25rem;color:var(--nylas-base-300)}.dropdown-content ul{padding:0;list-style-type:none;color:var(--nylas-base-900);max-height:336px}.dropdown-content ul li{padding:16px, 12px, 16px, 12px;color:black;padding:12px 16px;text-decoration:none;display:block;font-family:inherit;font-size:14px;font-weight:400;line-height:20px;letter-spacing:0px;text-align:left;cursor:pointer}.dropdown-content ul li:hover,.dropdown-content ul li:focus{background-color:var(--nylas-base-100)}.dropdown-content .selected{background-color:#e7e7e7}input[type=text]{width:-webkit-fill-available;padding:inherit;border:1px solid #ccc;border-radius:4px;position:sticky;background:no-repeat scroll 7px 7px;padding-left:30px;background-size:16px 16px}',u=f,d=class{constructor(e){s.registerInstance(this,e),this.nylasFormDropdownChanged=s.createEvent(this,"nylasFormDropdownChanged",7),this.nylasFormDropdownDefaultSelected=s.createEvent(this,"nylasFormDropdownDefaultSelected",7),this.componentType="select-dropdown",this.name=void 0,this.options=[],this.defaultSelectedOption=null,this.withSearch=!0,this.label=void 0,this.required=!1,this.pluralizedLabel="",this.dropdownButtonText=void 0,this.withChevron=!0,this.emptyValue="Select an option",this.errorMessage="",this.selectedOption=void 0,this.isOpen=!1,this.searchValue="",this.filteredOptions=[...this.options],this.ariaActivedescendant="",this.error=""}optionsChangedHandler(e,t){e!==t&&(this.filteredOptions=e)}defaultSelectedOptionChangedHandler(e,t){typeof e>"u"||(e==null?void 0:e.label)===(t==null?void 0:t.label)||(this.selectedOption=e,this.nylasFormDropdownDefaultSelected.emit({value:(e==null?void 0:e.value)||"",name:this.name,error:this.error,label:this.label}))}componentWillLoad(){this.el.setAttribute("component-type",this.componentType)}componentDidLoad(){var e;this.filteredOptions=this.options,this.selectedOption=this.defaultSelectedOption,!this.selectedOption&&this.options.length>0&&(this.selectedOption=this.options[0]),this.nylasFormDropdownDefaultSelected.emit({value:((e=this.selectedOption)==null?void 0:e.value)||"",name:this.name,error:this.error,label:this.label})}handleBookingFormSubmitted(e){var t;this.validate(((t=this.selectedOption)==null?void 0:t.value)||""),this.error&&e.preventDefault()}handleFormSubmitted(e){var t;this.validate(((t=this.selectedOption)==null?void 0:t.value)||""),this.error&&e.preventDefault()}validate(e){this.required&&!e?this.error=this.errorMessage||`${this.label} is required.`:this.error=""}toggleDropdown(){this.isOpen=!this.isOpen}filterOptions(e){const t=e.target.value;this.searchValue=t,this.filteredOptions=this.options.filter(i=>i.label.toLowerCase().includes(t.toLowerCase()))}selectOption(e){this.error="",this.selectedOption=e,this.toggleDropdown(),e.value!==this.emptyValue&&this.nylasFormDropdownChanged.emit({value:e.value,name:this.name,error:this.error,label:this.label})}handleSelectButtonKeyDown(e){var t;switch(e.key){case"ArrowDown":case"Enter":e.preventDefault(),this.isOpen||this.toggleDropdown(),(t=this.inputRef)==null||t.focus();break;case"Escape":this.isOpen=!1;break}}handleListboxKeydown(e){var a,r;const t=this.filteredOptions,i=t.findIndex(n=>n.value===this.ariaActivedescendant);if(e.key==="ArrowDown"||e.key==="Tab"&&!e.shiftKey){if(e.preventDefault(),i===t.length-1){this.ariaActivedescendant="",(a=this.inputRef)==null||a.focus();return}const n=i+1<t.length?i+1:0;this.ariaActivedescendant=t[n].value,this.focusOption(n)}else if(e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey){if(e.preventDefault(),i===0){this.ariaActivedescendant="",(r=this.inputRef)==null||r.focus();return}const n=i-1>=0?i-1:t.length-1;this.ariaActivedescendant=t[n].value,this.focusOption(n)}else e.key==="Enter"?(e.preventDefault(),this.ariaActivedescendant&&this.selectOption(t[i])):e.key==="Escape"&&(this.isOpen=!1)}focusOption(e){var r;const t=this.filteredOptions[e];if(!t)return;const i=t.value,a=(r=this.el.shadowRoot)==null?void 0:r.getElementById(i);a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"nearest"}))}handleComboboxKeyDown(e){e.key==="ArrowDown"||e.key=="Tab"&&!e.shiftKey?(e.preventDefault(),this.ariaActivedescendant=this.filteredOptions[0].value,this.focusOption(0)):e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey?(e.preventDefault(),this.ariaActivedescendant=this.filteredOptions[this.filteredOptions.length-1].value,this.focusOption(this.filteredOptions.length-1)):e.key==="Escape"&&(this.isOpen=!1)}generateButtonText(e,t){return t||(e!=null&&e.label?`${(e==null?void 0:e.label)+this.pluralizedLabel}`:this.emptyValue)}handleOutsideClick(e){!e.composedPath().includes(this.el)&&this.isOpen&&(this.isOpen=!1)}render(){const e=this.generateButtonText(this.selectedOption,this.dropdownButtonText);return s.h("div",{key:"2c620508eeef332e31afe32c261d04e52ddddc30",class:"dropdown",part:"sd_dropdown"},s.h("label",{key:"b6332c551e0c5e7da74b7c2135ab038ab0744502",part:"sd_dropdown_label",class:{error:!!this.error}},this.label&&s.h("p",null,s.h("span",{class:"label"},this.label),this.required&&s.h("span",{class:"required"},"*")),s.h("button",{key:"f4e2a425f33ea3d25033e9dfa0311d7b80927c31",part:"sd_dropdown-button",class:{dropbtn:!0,open:this.isOpen,error:!!this.error},onClick:()=>this.toggleDropdown(),"aria-haspopup":"listbox","aria-expanded":this.isOpen?"true":"false","aria-label":this.name,onKeyDown:t=>this.handleSelectButtonKeyDown(t)},s.h("slot",{key:"1b254af0779a5c97ec201aa1cb3886a3c154ce59",name:"select-icon","aria-hidden":"true"}),s.h("span",{key:"019c36eaa7ee04e84e5e1eb906d745653bc91518",class:"selected-option",part:"sd_dropdown-button-selected-label"},e),this.withChevron&&s.h("span",{class:{open:this.isOpen,closed:!this.isOpen,chevron:!0},"aria-hidden":"true"},s.h("chevron-icon",{width:"16",height:"16"}))),this.error&&s.h("span",{class:"error help-text"},this.error)),this.isOpen?s.h("div",{class:"dropdown-content",part:"sd_dropdown-content"},this.withSearch&&s.h("div",{class:{"search-box":!0,open:this.isOpen}},s.h("search-icon",{width:"15",height:"15",class:"icon"}),s.h("input",{type:"text",role:"combobox",placeholder:"Search",value:this.searchValue,ref:t=>this.inputRef=t,onInput:t=>this.filterOptions(t),onKeyDown:t=>this.handleComboboxKeyDown(t)})),s.h("ul",{tabindex:"-1",role:"listbox","aria-label":this.name,"aria-activedescendant":this.ariaActivedescendant,onKeyDown:t=>this.handleListboxKeydown(t)},this.filteredOptions.map(t=>t.value.toString()?s.h("li",{tabindex:"0",key:t.value,id:t.value,onClick:()=>this.selectOption(t),role:"option"},t.labelHTML?s.h("div",{part:"sd_dropdown-labelhtml"},t.labelHTML):t.label):null))):null)}get el(){return s.getElement(this)}static get watchers(){return{options:["optionsChangedHandler"],defaultSelectedOption:["defaultSelectedOptionChangedHandler"]}}};d.style=u;exports.chevron_icon=o;exports.search_icon=l;exports.select_dropdown=d;
